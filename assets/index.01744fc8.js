import{A as S}from"./AppType.44f2eb1f.js";import{B as G}from"./index.b049455a.js";import{H as J,v as R,a as F,c as Y,e as H,g as N,s as W,I as X,L as K,M as Z}from"./shared.b468a763.js";import{d as _,b as O,w as k,f as U,h as M,O as P,N as C,n as B,a as L,p as x,M as I,P as d,Q as m,q as i,D as ee,E as ae,r as le,S as r,an as a,F as te}from"./vue-router.esm-bundler.dfdc86af.js";import{I as ne}from"./index.f298cda6.js";import{S as re}from"./index.07bb0a08.js";/* empty css                  *//* empty css             *//* empty css               *//* empty css                *//* empty css               */import"./ButtonSfc.d73b10b3.js";/* empty css              */import{d as oe}from"./index.098dd72d.js";import{p as l,u as ie}from"./index.19cf096c.js";import{a as ue,b as se}from"./utils.16cd8a81.js";import{u as de}from"./sync.971d6709.js";import"./AppType.vue_vue_type_style_index_0_lang.402a256b.js";import"./index.452b8aab.js";import"./index.39e6461a.js";import"./index.b2443f5d.js";import"./_commonjsHelpers.b8add541.js";import"./index.0d0d6d5d.js";var z=Symbol("COLLAPSE_BIND_COLLAPSE_ITEM_KEY"),q=Symbol("COLLAPSE_COUNT_COLLAPSE_ITEM_KEY");function me(){var{bindChildren:e,childProviders:o}=R(z),{length:t}=J(q);return{length:t,collapseItem:o,bindCollapseItem:e}}var fe={modelValue:{type:[Array,String,Number]},accordion:{type:Boolean,default:!1},offset:{type:Boolean,default:!0},onChange:F(),"onUpdate:modelValue":F()},{n:ve}=Y("collapse");function ce(e,o){return U(),M("div",{class:C(e.n())},[P(e.$slots,"default")],2)}const g=_({render:ce,name:"VarCollapse",props:fe,setup(e){var{length:o,collapseItem:t,bindCollapseItem:b}=me(),h=O(()=>e.modelValue),n=O(()=>e.offset),f=()=>!e.accordion&&!N(e.modelValue)?(console.error('[Varlet] Collapse: type of prop "modelValue" should be an Array'),!1):e.accordion&&N(e.modelValue)?(console.error('[Varlet] Collapse: type of prop "modelValue" should be a String or Number'),!1):!0,V=(u,s)=>f()?s?e.accordion?u:[...e.modelValue,u]:e.accordion?null:e.modelValue.filter(v=>v!==u):null,y=(u,s)=>{var v=V(u,s);H(e["onUpdate:modelValue"],v),H(e.onChange,v)},w=()=>{if(e.accordion)return t.find(s=>{var{name:v}=s;return e.modelValue===v.value});var u=t.filter(s=>{var{name:v}=s;return v.value===void 0?!1:e.modelValue.includes(v.value)});return u.length?u:void 0},A=()=>e.accordion?t.find(u=>{var{index:s,name:v}=u;return v.value===void 0?e.modelValue===s.value:!1}):t.filter(u=>{var{index:s,name:v}=u;return v.value===void 0?e.modelValue.includes(s.value):!1}),E=()=>{if(!!f()){var u=w()||A();if(e.accordion&&!u||!e.accordion&&!u.length){t.forEach(s=>{s.init(e.accordion,!1)});return}t.forEach(s=>{var v=e.accordion?u===s:u.includes(s);s.init(e.accordion,v)})}},T={active:h,offset:n,updateItem:y};return b(T),k(()=>o.value,()=>B().then(E)),k(()=>e.modelValue,()=>B().then(E)),{n:ve}}});g.install=function(e){e.component(g.name,g)};function pe(){var{parentProvider:e,bindParent:o}=W(z),{index:t}=X(q);if(!e||!o||!t)throw Error("[Varlet] Collapse: <var-collapse-item/> must in <var-collapse>");return{index:t,collapse:e,bindCollapse:o}}var he={name:{type:[String,Number]},title:{type:String},icon:{type:String,default:"chevron-down"},disabled:{type:Boolean,default:!1}},{n:Ve,classes:Ce}=Y("collapse-item");function ge(e,o){var t=x("var-icon");return U(),M("div",{class:C(e.classes(e.n(),[e.offset&&e.isShow,e.n("--active")],[e.disabled,e.n("--disable")]))},[I("div",{class:C(e.n("header")),onClick:o[0]||(o[0]=b=>e.toggle())},[I("div",{class:C(e.n("header-title"))},[P(e.$slots,"title",{},()=>[d(m(e.title),1)])],2),I("div",{class:C(e.n("header-icon"))},[P(e.$slots,"icon",{},()=>[i(t,{name:e.icon,transition:250,class:C(e.classes(e.n("header-icon"),[e.isShow&&e.icon==="chevron-down",e.n("header-open")],[e.disabled,e.n("header--disable")]))},null,8,["name","class"])])],2)],2),ee(I("div",{class:C(e.n("content")),ref:"contentEl",onTransitionend:o[1]||(o[1]=function(){return e.transitionend&&e.transitionend(...arguments)}),onTransitionstart:o[2]||(o[2]=function(){return e.start&&e.start(...arguments)})},[I("div",{class:C(e.n("content-wrap"))},[P(e.$slots,"default")],2)],34),[[ae,e.show]])],2)}const c=_({render:ge,name:"VarCollapseItem",components:{VarIcon:ne},props:he,setup(e){var{index:o,collapse:t,bindCollapse:b}=pe(),h=!0,n=L(null),f=L(!1),V=L(!1),{active:y,offset:w,updateItem:A}=t,E=O(()=>e.name),T=(p,D)=>{y.value===void 0||p&&N(y.value)||D===V.value||(V.value=D,u(!0))},u=p=>{e.disabled||p||A(e.name||o.value,!V.value)},s=()=>{!n.value||(n.value.style.height="",f.value=!0,B(()=>{var{offsetHeight:p}=n.value;n.value.style.height=0+"px",K(()=>{n.value.style.height=p+"px",h&&Z(()=>{h&&$()})})}))},v=()=>{h=!1},Q=()=>{if(!!n.value){var{offsetHeight:p}=n.value;n.value.style.height=p+"px",K(()=>{n.value.style.height=0+"px"})}},$=()=>{V.value||(f.value=!1),n.value.style.height=""},j={index:o,name:E,init:T};return b(j),k(V,p=>{p?s():Q()}),{n:Ve,start:v,classes:Ce,show:f,isShow:V,offset:w,toggle:u,contentEl:n,transitionend:$}}});c.install=function(e){e.component(c.name,c)};const be=d("^_^"),qe={setup(e){const o=L(!1),t=le({value:["1"],value1:"",value2:[1],value3:["1"],value4:["2"]}),b=h=>{console.log(h)};return ue(ie),se(oe),de(),(h,n)=>(U(),M(te,null,[i(a(S),null,{default:r(()=>[d(m(a(l).basicUsage),1)]),_:1}),i(a(g),{modelValue:a(t).value,"onUpdate:modelValue":n[0]||(n[0]=f=>a(t).value=f),onChange:b},{default:r(()=>[i(a(c),{title:a(l).title,name:"1"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"]),i(a(c),{title:a(l).title,name:"2"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),i(a(S),null,{default:r(()=>[d(m(a(l).hideMargin),1)]),_:1}),i(a(g),{modelValue:a(t).value4,"onUpdate:modelValue":n[1]||(n[1]=f=>a(t).value4=f),offset:!1},{default:r(()=>[i(a(c),{title:a(l).title,name:"1"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"]),i(a(c),{title:a(l).title,name:"2"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),i(a(S),null,{default:r(()=>[d(m(a(l).accordionMode),1)]),_:1}),i(a(g),{modelValue:a(t).value1,"onUpdate:modelValue":n[2]||(n[2]=f=>a(t).value1=f),accordion:"",offset:!1},{default:r(()=>[i(a(c),{title:a(l).title,name:"1"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"]),i(a(c),{title:a(l).title,name:"2"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),i(a(S),null,{default:r(()=>[d(m(a(l).disabled),1)]),_:1}),i(a(re),{direction:"column",size:[8,8]},{default:r(()=>[i(a(G),{onClick:n[3]||(n[3]=f=>o.value=!o.value)},{default:r(()=>[d(m(o.value?a(l).enable:a(l).disabled),1)]),_:1}),i(a(g),{modelValue:a(t).value2,"onUpdate:modelValue":n[4]||(n[4]=f=>a(t).value2=f)},{default:r(()=>[i(a(c),{title:a(l).title,name:1,disabled:o.value},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title","disabled"]),i(a(c),{title:a(l).title,name:2,disabled:o.value},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title","disabled"])]),_:1},8,["modelValue"])]),_:1}),i(a(S),null,{default:r(()=>[d(m(a(l).customContent),1)]),_:1}),i(a(g),{modelValue:a(t).value3,"onUpdate:modelValue":n[5]||(n[5]=f=>a(t).value3=f)},{default:r(()=>[i(a(c),{title:a(l).slotTitle,name:"1",icon:"account-circle"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"]),i(a(c),{name:"2"},{title:r(()=>[d(m(a(l).slotTitle),1)]),icon:r(()=>[be]),default:r(()=>[d(" "+m(a(l).slotContent),1)]),_:1})]),_:1},8,["modelValue"])],64))}};export{qe as default};
