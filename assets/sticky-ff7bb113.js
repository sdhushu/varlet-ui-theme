import{a as I,o as R,c as G,e as O,L as V,q,y as A}from"./shared-c5b4ee22.js";import{d as D,a as t,b,w as U,v as Z,x as $,o as J,u as K,Z as Q,f as X,h as Y,M as j,O as _,N as L,R as k}from"./vue-router.esm-bundler-1cdb4ad3.js";var ee={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onScroll:I()};function W(e,i,u,a,s,l,o){try{var d=e[l](o),r=d.value}catch(p){u(p);return}d.done?i(r):Promise.resolve(r).then(a,s)}function z(e){return function(){var i=this,u=arguments;return new Promise(function(a,s){var l=e.apply(i,u);function o(r){W(l,a,s,o,d,"next",r)}function d(r){W(l,a,s,o,d,"throw",r)}o(void 0)})}}var{n:ae,classes:re}=G("sticky");function ne(e,i){return X(),Y("div",{class:L(e.classes(e.n(),[e.enableCSSMode,e.n("--css-mode")])),ref:"stickyEl",style:k({zIndex:e.toNumber(e.zIndex),top:e.enableCSSMode?e.offsetTop+"px":void 0,width:e.enableFixedMode?e.fixedWidth:void 0,height:e.enableFixedMode?e.fixedHeight:void 0})},[j("div",{class:L(e.n("wrapper")),ref:"wrapperEl",style:k({zIndex:e.toNumber(e.zIndex),position:e.enableFixedMode?"fixed":void 0,width:e.enableFixedMode?e.fixedWrapperWidth:void 0,height:e.enableFixedMode?e.fixedWrapperHeight:void 0,left:e.enableFixedMode?e.fixedLeft:void 0,top:e.enableFixedMode?e.fixedTop:void 0})},[_(e.$slots,"default")],6)],6)}var E=D({name:"VarSticky",props:ee,setup(e){var i=t(null),u=t(null),a=t(!1),s=t("0px"),l=t("0px"),o=t("auto"),d=t("auto"),r=t("auto"),p=t("auto"),N=b(()=>!e.disabled&&e.cssMode),B=b(()=>!e.disabled&&!e.cssMode&&a.value),c=b(()=>R(e.offsetTop)),f,w=()=>{var{cssMode:n,disabled:m}=e;if(!m){var h=0;if(f!==window){var{top:C}=f.getBoundingClientRect();h=C}var F=u.value,y=i.value,{top:P,left:H}=y.getBoundingClientRect(),T=P-h;return T<=c.value?(n||(o.value=y.offsetWidth+"px",d.value=y.offsetHeight+"px",s.value=h+c.value+"px",l.value=H+"px",r.value=F.offsetWidth+"px",p.value=F.offsetHeight+"px",a.value=!0),{offsetTop:c.value,isFixed:!0}):(a.value=!1,{offsetTop:T,isFixed:!1})}},v=()=>{var n=w();n&&O(e.onScroll,n.offsetTop,n.isFixed)},S=function(){var n=z(function*(){a.value=!1,yield V(),w()});return function(){return n.apply(this,arguments)}}(),g=function(){var n=z(function*(){yield q(),f=A(i.value),f!==window&&f.addEventListener("scroll",v),window.addEventListener("scroll",v),v()});return function(){return n.apply(this,arguments)}}(),M=()=>{f!==window&&f.removeEventListener("scroll",v),window.removeEventListener("scroll",v)};return U(()=>e.disabled,S),Z(g),$(M),J(g),K(M),{n:ae,classes:re,resize:S,stickyEl:i,wrapperEl:u,isFixed:a,offsetTop:c,fixedTop:s,fixedLeft:l,fixedWidth:o,fixedHeight:d,fixedWrapperWidth:r,fixedWrapperHeight:p,enableCSSMode:N,enableFixedMode:B,toNumber:Q}}});E.render=ne;const x=E;x.install=function(e){e.component(x.name,x)};export{x as S,ee as p};
