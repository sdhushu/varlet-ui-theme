import{v as Z}from"./index-c6a26488.js";import{I as J}from"./index-951ce32a.js";import{B as K}from"./index-fc93ec85.js";import{d as X,a,b as _,w as x,p as F,ag as ee,D as ae,f as v,h as f,M as I,O as p,N as o,R as h,j as g,Q as N,q as L,S as te,ah as oe,n as le}from"./vue-router.esm-bundler-9b345358.js";import{a as P,t as w,c as ne,e as V,q as ie}from"./shared-4a7fb7de.js";import{u as re}from"./zIndex-a5325217.js";import{u as se}from"./lock-62d78e34.js";function ue(e){return["fill","contain","cover","none","scale-down"].includes(e)}var ve={src:{type:String},fit:{type:String,validator:ue,default:"cover"},imageHeight:{type:[String,Number]},imageWidth:{type:[String,Number]},outline:{type:Boolean,default:!1},layout:{type:String,default:"column"},floating:{type:Boolean,default:!1},floatingDuration:{type:Number,default:250},alt:{type:String},title:{type:String},subtitle:{type:String},description:{type:String},elevation:{type:[Number,String]},ripple:{type:Boolean,default:!1},onClick:P(),"onUpdate:floating":P()};function W(e,u,d,l,n,s,r){try{var i=e[s](r),t=i.value}catch(c){d(c);return}i.done?u(t):Promise.resolve(t).then(l,n)}function U(e){return function(){var u=this,d=arguments;return new Promise(function(l,n){var s=e.apply(u,d);function r(t){W(s,l,n,r,i,"next",t)}function i(t){W(s,l,n,r,i,"throw",t)}r(void 0)})}}var{n:fe,classes:de}=ne("card"),pe=500,ge=["src","alt"];function me(e,u){var d=F("var-icon"),l=F("var-button"),n=ee("ripple");return ae((v(),f("div",{ref:"card",class:o(e.classes(e.n(),[e.isRow,e.n("--layout-row")],[e.outline,e.n("--outline")],[e.elevation,e.n("$-elevation--"+e.elevation),e.n("$-elevation--1")])),style:h({zIndex:e.floated?e.zIndex:void 0}),onClick:u[0]||(u[0]=function(){return e.handleClick&&e.handleClick(...arguments)})},[I("div",{ref:"cardFloater",class:o(e.n("floater")),style:h({width:e.floaterWidth,height:e.floaterHeight,top:e.floaterTop,left:e.floaterLeft,overflow:e.floaterOverflow,position:e.floaterPosition,transition:e.floated?"background-color "+e.floatingDuration+"ms, color "+e.floatingDuration+"ms, width "+e.floatingDuration+"ms, height "+e.floatingDuration+"ms, top "+e.floatingDuration+"ms, left "+e.floatingDuration+"ms":void 0})},[p(e.$slots,"image",{},()=>[e.src?(v(),f("img",{key:0,class:o(e.n("image")),style:h({objectFit:e.fit,height:e.toSizeUnit(e.imageHeight),width:e.toSizeUnit(e.imageWidth)}),src:e.src,alt:e.alt},null,14,ge)):g("v-if",!0)]),I("div",{class:o(e.n("container"))},[p(e.$slots,"title",{},()=>[e.title?(v(),f("div",{key:0,class:o(e.n("title"))},N(e.title),3)):g("v-if",!0)]),p(e.$slots,"subtitle",{},()=>[e.subtitle?(v(),f("div",{key:0,class:o(e.n("subtitle"))},N(e.subtitle),3)):g("v-if",!0)]),p(e.$slots,"description",{},()=>[e.description?(v(),f("div",{key:0,class:o(e.n("description"))},N(e.description),3)):g("v-if",!0)]),e.$slots.extra?(v(),f("div",{key:0,class:o(e.n("footer"))},[p(e.$slots,"extra")],2)):g("v-if",!0),e.$slots["floating-content"]&&!e.isRow?(v(),f("div",{key:1,class:o(e.n("floating-content")),style:h({height:e.contentHeight,opacity:e.opacity,transition:"opacity "+e.floatingDuration*2+"ms"})},[p(e.$slots,"floating-content")],6)):g("v-if",!0)],2),e.showFloatingButtons?(v(),f("div",{key:0,class:o(e.classes(e.n("floating-buttons"),e.n("$--box"))),style:h({zIndex:e.zIndex,opacity:e.opacity,transition:"opacity "+e.floatingDuration*2+"ms"})},[p(e.$slots,"close-button",{},()=>[L(l,{"var-card-cover":"",round:"",class:o(e.classes(e.n("close-button"),e.n("$-elevation--6"))),onClick:oe(e.close,["stop"])},{default:te(()=>[L(d,{"var-card-cover":"",name:"window-close",class:o(e.n("close-button-icon"))},null,8,["class"])]),_:1},8,["class","onClick"])])],6)):g("v-if",!0)],6),I("div",{class:o(e.n("holder")),style:h({width:e.holderWidth,height:e.holderHeight})},null,6)],6)),[[n,{disabled:!e.ripple||e.floater}]])}var E=X({name:"VarCard",directives:{Ripple:Z},components:{VarIcon:J,VarButton:K},props:ve,setup(e){var u=a(null),d=a(null),l=a("auto"),n=a("auto"),s=a("100%"),r=a("100%"),i=a("auto"),t=a("auto"),c=a(void 0),b=a("hidden"),k=a("0px"),S=a("0"),C=_(()=>e.layout==="row"),D=a(!1),$=a(!1),{zIndex:O}=re(()=>e.floating,1);se(()=>e.floating,()=>!C.value);var B="auto",T="auto",z=null,m=a(null),q=function(){var y=U(function*(){clearTimeout(m.value),clearTimeout(z),m.value=null,m.value=setTimeout(U(function*(){var{width:H,height:A,left:Q,top:Y}=u.value.getBoundingClientRect();l.value=w(H),n.value=w(A),s.value=l.value,r.value=n.value,i.value=w(Y),t.value=w(Q),c.value="fixed",B=i.value,T=t.value,D.value=!0,yield ie(),i.value="0",t.value="0",s.value="100vw",r.value="100vh",k.value="auto",S.value="1",b.value="auto",$.value=!0}),e.ripple?pe:0)});return function(){return y.apply(this,arguments)}}(),G=()=>{clearTimeout(z),clearTimeout(m.value),m.value=null,s.value=l.value,r.value=n.value,i.value=B,t.value=T,k.value="0px",S.value="0",D.value=!1,z=setTimeout(()=>{l.value="auto",n.value="auto",s.value="100%",r.value="100%",i.value="auto",t.value="auto",B="auto",T="auto",b.value="hidden",c.value=void 0,$.value=!1},e.floatingDuration)},M=()=>{V(e["onUpdate:floating"],!1)},j=y=>{V(e.onClick,y)};return x(()=>e.floating,y=>{C.value||le(()=>{y?q():G()})},{immediate:!0}),{n:fe,classes:de,toSizeUnit:w,card:u,cardFloater:d,holderWidth:l,holderHeight:n,floater:m,floaterWidth:s,floaterHeight:r,floaterTop:i,floaterLeft:t,floaterPosition:c,floaterOverflow:b,contentHeight:k,opacity:S,zIndex:O,isRow:C,close:M,showFloatingButtons:D,floated:$,handleClick:j}}});E.render=me;const R=E;R.install=function(e){e.component(R.name,R)};export{R as C};
