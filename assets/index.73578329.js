import{v as k}from"./index.38f8c4d5.js";import{p as g,P as b}from"./popup.85f9f6fe.js";import{I as P}from"./index.8b6b6a08.js";import{p as A,a as h,b as R,c as B,e as i,i as U,m as V}from"./shared.33d42a23.js";import{p as $}from"./index.734f0786.js";import{d as z,a as I,w as N,p as y,ai as j,f as p,i as f,S as D,M as v,O as C,N as c,Q as S,h as w,ak as F,D as L,R as T,j as E,F as M,m as O,r as Q,n as q}from"./vue-router.esm-bundler.d85fe05e.js";function m(){return m=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e},m.apply(this,arguments)}var G=m({show:{type:Boolean,default:!1},actions:{type:Array,default:()=>[]},title:{type:String},closeOnClickAction:{type:Boolean,default:!0},onSelect:h(),"onUpdate:show":h()},A(g,["overlay","overlayClass","overlayStyle","lockScroll","closeOnClickOverlay","teleport","onOpen","onClose","onOpened","onClosed","onClickOverlay","onRouteChange"])),{n:H,classes:J}=B("action-sheet"),K=["onClick"];function W(e,s){var o=y("var-icon"),l=y("var-popup"),n=j("ripple");return p(),f(l,O({class:e.n("popup-radius"),position:"bottom",overlay:e.overlay,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,"lock-scroll":e.lockScroll,"close-on-click-overlay":e.closeOnClickOverlay,teleport:e.teleport,show:e.popupShow},{"onUpdate:show":e.handlePopupUpdateShow},{onOpen:e.onOpen,onClose:e.onClose,onClosed:e.onClosed,onOpened:e.onOpened,onRouteChange:e.onRouteChange}),{default:D(()=>[v("div",O({class:e.classes(e.n(),e.n("$--box"))},e.$attrs),[C(e.$slots,"title",{},()=>[v("div",{class:c(e.n("title"))},S(e.dt(e.title,e.pack.actionSheetTitle)),3)]),C(e.$slots,"actions",{},()=>[(p(!0),w(M,null,F(e.actions,a=>L((p(),w("div",{class:c(e.classes(e.n("action-item"),a.className,[a.disabled,e.n("--disabled")])),key:a.name,style:T({color:a.color}),onClick:u=>e.handleSelect(a)},[a.icon?(p(),f(o,{key:0,class:c(e.n("action-icon")),"var-action-sheet-cover":"",name:a.icon,size:a.iconSize},null,8,["class","name","size"])):E("v-if",!0),v("div",{class:c(e.n("action-name"))},S(a.name),3)],14,K)),[[n,{disabled:a.disabled}]])),128))])],16)]),_:3},16,["class","overlay","overlay-class","overlay-style","lock-scroll","close-on-click-overlay","teleport","show","onOpen","onClose","onClosed","onOpened","onRouteChange"])}const t=z({render:W,name:"VarActionSheet",directives:{Ripple:k},components:{VarPopup:b,VarIcon:P},inheritAttrs:!1,props:G,setup(e){var s=I(!1),o=n=>{if(!n.disabled){var{closeOnClickAction:a,onSelect:u}=e;i(u,n),a&&i(e["onUpdate:show"],!1)}},l=n=>i(e["onUpdate:show"],n);return N(()=>e.show,n=>{s.value=n},{immediate:!0}),{n:H,classes:J,handlePopupUpdateShow:l,popupShow:s,pack:$,dt:R,handleSelect:o}}});var r;function d(e){return U()?new Promise(s=>{d.close();var o=Q(e);o.teleport="body",r=o;var{unmountInstance:l}=V(t,o,{onSelect:n=>{i(o.onSelect,n),s(n)},onClose:()=>{i(o.onClose),s("close")},onClosed:()=>{i(o.onClosed),l(),r===o&&(r=null)},onRouteChange:()=>{l(),r===o&&(r=null)},"onUpdate:show":n=>{o.show=n}});o.show=!0}):Promise.resolve()}d.Component=t;t.install=function(e){e.component(t.name,t)};d.close=()=>{if(r!=null){var e=r;r=null,q().then(()=>{e.show=!1})}};d.install=function(e){e.component(t.name,t)};export{d as A};
