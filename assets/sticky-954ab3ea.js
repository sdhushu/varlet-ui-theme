import{a as I,E as R,o as O,D,k as G,c as V,a0 as U,F as $,O as q,e as A}from"./shared-128c81f0.js";import{d as J,a as t,b,w as K,u as Q,x as X,f as Y,h as Z,M as j,O as _,N as T,R as k}from"./vue-router.esm-bundler-fa266481.js";var ee={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onScroll:I()};function L(e,i,u,a,l,f,o){try{var d=e[f](o),r=d.value}catch(v){u(v);return}d.done?i(r):Promise.resolve(r).then(a,l)}function W(e){return function(){var i=this,u=arguments;return new Promise(function(a,l){var f=e.apply(i,u);function o(r){L(f,a,l,o,d,"next",r)}function d(r){L(f,a,l,o,d,"throw",r)}o(void 0)})}}var{n:ae,classes:re}=V("sticky");function ne(e,i){return Y(),Z("div",{class:T(e.classes(e.n(),[e.enableCSSMode,e.n("--css-mode")])),ref:"stickyEl",style:k({zIndex:e.toNumber(e.zIndex),top:e.enableCSSMode?e.offsetTop+"px":void 0,width:e.enableFixedMode?e.fixedWidth:void 0,height:e.enableFixedMode?e.fixedHeight:void 0})},[j("div",{class:T(e.n("wrapper")),ref:"wrapperEl",style:k({zIndex:e.toNumber(e.zIndex),position:e.enableFixedMode?"fixed":void 0,width:e.enableFixedMode?e.fixedWrapperWidth:void 0,height:e.enableFixedMode?e.fixedWrapperHeight:void 0,left:e.enableFixedMode?e.fixedLeft:void 0,top:e.enableFixedMode?e.fixedTop:void 0})},[_(e.$slots,"default")],6)],6)}var z=J({name:"VarSticky",props:ee,setup(e){var i=t(null),u=t(null),a=t(!1),l=t("0px"),f=t("0px"),o=t("auto"),d=t("auto"),r=t("auto"),v=t("auto"),E=b(()=>!e.disabled&&e.cssMode),N=b(()=>!e.disabled&&!e.cssMode&&a.value),p=b(()=>R(e.offsetTop)),s,S=()=>{var{cssMode:n,disabled:m}=e;if(!m){var h=0;if(s!==window){var{top:C}=s.getBoundingClientRect();h=C}var M=u.value,y=i.value,{top:P,left:H}=y.getBoundingClientRect(),F=P-h;return F<=p.value?(n||(o.value=y.offsetWidth+"px",d.value=y.offsetHeight+"px",l.value=h+p.value+"px",f.value=H+"px",r.value=M.offsetWidth+"px",v.value=M.offsetHeight+"px",a.value=!0),{offsetTop:p.value,isFixed:!0}):(a.value=!1,{offsetTop:F,isFixed:!1})}},c=()=>{if(s){var n=S();n&&A(e.onScroll,n.offsetTop,n.isFixed)}},g=function(){var n=W(function*(){a.value=!1,yield U(),S()});return function(){return n.apply(this,arguments)}}(),B=function(){var n=W(function*(){yield $(),s=q(i.value),s!==window&&s.addEventListener("scroll",c),c()});return function(){return n.apply(this,arguments)}}(),w=()=>{s!==window&&s.removeEventListener("scroll",c)};return K(()=>e.disabled,g),O(B),Q(w),X(w),D(window,"scroll",c),{n:ae,classes:re,resize:g,stickyEl:i,wrapperEl:u,isFixed:a,offsetTop:p,fixedTop:l,fixedLeft:f,fixedWidth:o,fixedHeight:d,fixedWrapperWidth:r,fixedWrapperHeight:v,enableCSSMode:E,enableFixedMode:N,toNumber:G}}});z.render=ne;const x=z;x.install=function(e){e.component(x.name,x)};export{x as S,ee as p};
