import{M as ue}from"./menu.b31c1a6f.js";import{v as oe}from"./index.38f8c4d5.js";import{I as te}from"./index.8b6b6a08.js";import{C as de}from"./cell.bd328a0e.js";import{I as ve}from"./input.8ec45e2e.js";import{d as me,a as b,b as M,w as R,p as S,ai as pe,f as d,h as m,D as I,N as u,O as A,q as h,aF as G,M as B,P as $,Q as p,F as W,ak as X,S as D,i as fe,j as F}from"./vue-router.esm-bundler.d85fe05e.js";import{a as L,l as o,c as ge,j as J,e as K}from"./shared.33d42a23.js";import{p as be}from"./index.734f0786.js";var ke={current:{type:[Number,String]},size:{type:[Number,String],default:10},total:{type:[Number,String],default:0},maxPagerCount:{type:Number,default:3},disabled:{type:Boolean,default:!1},simple:{type:Boolean,default:!0},showSizeChanger:{type:Boolean,default:!0},showQuickJumper:{type:Boolean,default:!1},sizeOption:{type:Array,default:()=>[10,20,50,100]},showTotal:{type:Function},onChange:L(),"onUpdate:current":L(),"onUpdate:size":L()},{n:Ce,classes:Ve}=ge("pagination"),we=["item-mode","onClick"];function ye(e,l){var V=S("var-icon"),k=S("var-input"),w=S("var-cell"),y=S("var-menu"),i=pe("ripple");return d(),m("ul",{class:u(e.n())},[I((d(),m("li",{class:u(e.classes(e.n("item"),e.n("prev"),[e.current<=1||e.disabled,e.n("item--disabled")],[e.simple,e.n("item--simple"),e.n("$-elevation--2")])),onClick:l[0]||(l[0]=a=>e.clickItem("prev"))},[A(e.$slots,"prev",{},()=>[h(V,{name:"chevron-left"})])],2)),[[i,{disabled:e.current<=1||e.disabled}]]),e.simple?(d(),m("li",{key:0,class:u(e.classes(e.n("simple"),[e.disabled,e.n("item--disabled")]))},[h(k,{modelValue:e.simpleValue,"onUpdate:modelValue":l[1]||(l[1]=a=>e.simpleValue=a),disabled:e.disabled,"var-pagination-cover":"",onBlur:l[2]||(l[2]=a=>e.setPage("simple",e.simpleValue,a)),onKeydown:l[3]||(l[3]=G(a=>e.setPage("simple",e.simpleValue,a),["enter"]))},null,8,["modelValue","disabled"]),B("span",null,[$(" / "+p(e.pageCount)+" ",1),B("div",{class:u(e.n("simple-line"))},null,2)])],2)):(d(!0),m(W,{key:1},X(e.pageList,(a,f)=>I((d(),m("li",{key:e.toNumber(a)+f,"item-mode":e.getMode(a,f),class:u(e.classes(e.n("item"),e.n("$-elevation--2"),[a===e.current&&!e.disabled,e.n("item--active")],[e.isHideEllipsis(a,f),e.n("item--hide")],[e.disabled,e.n("item--disabled")],[a===e.current&&e.disabled,e.n("item--disabled--active")])),onClick:P=>e.clickItem(a,f)},[$(p(a),1)],10,we)),[[i,{disabled:e.disabled}]])),128)),I((d(),m("li",{class:u(e.classes(e.n("item"),e.n("next"),[e.current>=e.pageCount||e.disabled,e.n("item--disabled")],[e.simple,e.n("item--simple"),e.n("$-elevation--2")])),onClick:l[4]||(l[4]=a=>e.clickItem("next"))},[A(e.$slots,"next",{},()=>[h(V,{name:"chevron-right"})])],2)),[[i,{disabled:e.current>=e.pageCount||e.disabled}]]),e.showSizeChanger?(d(),m("li",{key:2,class:u(e.classes(e.n("size"),[e.disabled,e.n("item--disabled")]))},[h(y,{show:e.menuVisible,"onUpdate:show":l[6]||(l[6]=a=>e.menuVisible=a),"offset-x":-4},{menu:D(()=>[(d(!0),m(W,null,X(e.sizeOption,(a,f)=>I((d(),fe(w,{class:u(e.classes(e.n("list"),[e.size===a,e.n("list--active")])),key:f,onClick:P=>e.clickSize(a)},{default:D(()=>[$(p(a)+p(e.pack.paginationItem)+" / "+p(e.pack.paginationPage),1)]),_:2},1032,["class","onClick"])),[[i]])),128))]),default:D(()=>[B("div",{class:u(e.classes(e.n("size--open"),[e.current<=1||e.disabled,e.n("size--open--disabled")])),onClick:l[5]||(l[5]=function(){return e.showMenu&&e.showMenu(...arguments)})},[B("span",null,p(e.size)+p(e.pack.paginationItem)+" / "+p(e.pack.paginationPage),1),h(V,{class:u(e.n("size--open-icon")),"var-pagination-cover":"",name:"menu-down"},null,8,["class"])],2)]),_:1},8,["show"])],2)):F("v-if",!0),e.showQuickJumper&&!e.simple?(d(),m("li",{key:3,class:u(e.classes(e.n("quickly"),[e.disabled,"item--disabled"]))},[$(p(e.pack.paginationJump)+" ",1),h(k,{modelValue:e.inputValue,"onUpdate:modelValue":l[7]||(l[7]=a=>e.inputValue=a),disabled:e.disabled,"var-pagination-cover":"",onBlur:l[8]||(l[8]=a=>e.setPage("quick",e.inputValue,a)),onKeydown:l[9]||(l[9]=G(a=>e.setPage("quick",e.inputValue,a),["enter"]))},null,8,["modelValue","disabled"])],2)):F("v-if",!0),e.totalText?(d(),m("li",{key:4,class:u(e.n("total"))},p(e.totalText),3)):F("v-if",!0)],2)}const O=me({render:ye,name:"VarPagination",components:{VarMenu:ue,VarIcon:te,VarCell:de,VarInput:ve},directives:{Ripple:oe},props:ke,setup(e){var l=b(!1),V=b(""),k=b("1"),w=b(!1),y=b(!1),i=b(o(e.current)||1),a=b(o(e.size)||10),f=b([]),P=M(()=>Math.ceil(e.maxPagerCount/2)),z=M(()=>Math.ceil(o(e.total)/o(a.value))),Y=M(()=>{var n=a.value*(i.value-1)+1,s=Math.min(a.value*i.value,o(e.total));return[n,s]}),Z=M(()=>e.showTotal?e.showTotal(o(e.total),Y.value):""),c=(n,s)=>J(n)?!1:s===1?w.value:y.value,x=(n,s)=>J(n)?"basic":s===1?"head":"tail",_=(n,s)=>{n===i.value||e.disabled||(J(n)?i.value=n:n==="prev"?i.value>1&&(i.value-=1):n==="next"?i.value<z.value&&(i.value+=1):n==="..."&&(s===1?i.value=Math.max(i.value-e.maxPagerCount,1):i.value=Math.min(i.value+e.maxPagerCount,z.value)))},ee=()=>{e.disabled||(l.value=!0)},ae=n=>{a.value=n,l.value=!1},Q=n=>{var s=/^[1-9][0-9]*$/;return s.test(n)},le=(n,s,r)=>{if(r.target.blur(),Q(s)){var g=o(s);g>z.value&&(g=z.value,k.value=""+g),g!==i.value&&(i.value=g)}n==="quick"&&(V.value=""),n==="simple"&&!Q(s)&&(k.value=""+i.value)};return R([()=>e.current,()=>e.size],n=>{var[s,r]=n;i.value=o(s)||1,a.value=o(r||10)}),R([i,a,z],(n,s)=>{var[r,g,C]=n,[j,ie]=s,t=[],{maxPagerCount:v,total:ne,onChange:se}=e,re=Math.ceil(o(ne)/o(ie)),N=C-(v-P.value)-1;if(k.value=""+r,C-2>v){if(j===void 0||C!==re)for(var T=2;T<v+2;T++)t.push(T);if(r<=v&&r<N){t=[];for(var U=1;U<v+1;U++)t.push(U+1);w.value=!0,y.value=!1}if(r>v&&r<N){t=[];for(var E=1;E<v+1;E++)t.push(r+E-P.value);w.value=r===2&&v===1,y.value=!1}if(r>=N){t=[];for(var q=1;q<v+1;q++)t.push(C-(v-q)-1);w.value=!1,y.value=!0}t=[1,"...",...t,"...",C]}else for(var H=1;H<=C;H++)t.push(H);f.value=t,j!==void 0&&C>0&&K(se,r,g),K(e["onUpdate:current"],r),K(e["onUpdate:size"],g)},{immediate:!0}),{n:Ce,classes:Ve,pack:be,current:i,menuVisible:l,size:a,pageCount:z,pageList:f,inputValue:V,simpleValue:k,totalText:Z,getMode:x,isHideEllipsis:c,clickItem:_,showMenu:ee,clickSize:ae,setPage:le,toNumber:o}}});O.install=function(e){e.component(O.name,O)};export{O as P};
