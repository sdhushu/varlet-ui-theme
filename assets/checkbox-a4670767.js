import{I as Y}from"./index-19d5ca99.js";import{F as W,u as $}from"./provide-2db49db1.js";import{v as q}from"./index-10e817da.js";import{a as m,u as L,g as J,h as Q,i as Z,j as _,e as d,c as x}from"./shared-c5b4ee22.js";import{d as ee,a as V,b as B,w as ae,p as O,ag as re,f as E,h as N,M as S,D as le,N as u,R as oe,O as k,q as b,n as ne}from"./vue-router.esm-bundler-1cdb4ad3.js";var ie={modelValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedValue:{type:[String,Number,Boolean,Object,Array],default:!0},uncheckedValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedColor:{type:String},uncheckedColor:{type:String},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},iconSize:{type:[String,Number]},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:["onChange"]},rules:{type:Array},onClick:m(),onChange:m(),"onUpdate:modelValue":m()},G=Symbol("CHECKBOX_GROUP_BIND_CHECKBOX_KEY"),K=Symbol("CHECKBOX_GROUP_COUNT_CHECKBOX_KEY");function be(){var{bindChildren:e,childProviders:r}=J(G),{length:o}=L(K);return{length:o,checkboxes:r,bindCheckboxes:e}}function se(){var{bindParent:e,parentProvider:r}=Q(G),{index:o}=Z(K);return{index:o,checkboxGroup:r,bindCheckboxGroup:e}}var{n:de,classes:ue}=x("checkbox");function ce(e,r){var o=O("var-icon"),t=O("var-form-details"),c=re("ripple");return E(),N("div",{class:u(e.n("wrap")),onClick:r[0]||(r[0]=function(){return e.handleClick&&e.handleClick(...arguments)})},[S("div",{class:u(e.n())},[le((E(),N("div",{class:u(e.classes(e.n("action"),[e.checked,e.n("--checked"),e.n("--unchecked")],[e.errorMessage||e.checkboxGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:oe({color:e.checked?e.checkedColor:e.uncheckedColor})},[e.checked?k(e.$slots,"checked-icon",{key:0},()=>[b(o,{class:u(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),name:"checkbox-marked",size:e.iconSize,"var-checkbox-cover":""},null,8,["class","size"])]):k(e.$slots,"unchecked-icon",{key:1},()=>[b(o,{class:u(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),name:"checkbox-blank-outline",size:e.iconSize,"var-checkbox-cover":""},null,8,["class","size"])])],6)),[[c,{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple}]]),S("div",{class:u(e.classes(e.n("text"),[e.errorMessage||e.checkboxGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")]))},[k(e.$slots,"default")],2)],2),b(t,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var A=ee({name:"VarCheckbox",directives:{Ripple:q},components:{VarIcon:Y,VarFormDetails:W},props:ie,setup(e){var r=V(!1),o=B(()=>r.value===e.checkedValue),t=B(()=>e.checkedValue),c=V(!1),{checkboxGroup:i,bindCheckboxGroup:D}=se(),{form:s,bindForm:P}=$(),{errorMessage:R,validateWithTrigger:U,validate:w,resetValidation:h}=_(),z=a=>{ne(()=>{var{validateTrigger:l,rules:n,modelValue:v}=e;U(l,a,n,v)})},f=a=>{r.value=a;var{checkedValue:l,onChange:n}=e;d(e["onUpdate:modelValue"],r.value),d(n,r.value),z("onChange"),a===l?i==null||i.onChecked(l):i==null||i.onUnchecked(l)},M=a=>{var{disabled:l,readonly:n,checkedValue:v,uncheckedValue:I,onClick:F}=e;if(!(s!=null&&s.disabled.value||l)&&(d(F,a),!(s!=null&&s.readonly.value||n))){c.value=!0;var j=i?i.checkedCount.value>=Number(i.max.value):!1;!o.value&&j||f(o.value?I:v)}},H=a=>{var{checkedValue:l,uncheckedValue:n}=e;r.value=a.includes(l)?l:n},X=()=>{c.value=!1},g=()=>{d(e["onUpdate:modelValue"],e.uncheckedValue),h()},T=a=>{var{checkedValue:l,uncheckedValue:n}=e,v=![l,n].includes(a);v&&(a=o.value?n:l),f(a)},p=()=>w(e.rules,e.modelValue);ae(()=>e.modelValue,a=>{r.value=a},{immediate:!0});var y={checkedValue:t,checked:o,sync:H,validate:p,resetValidation:h,reset:g,resetWithAnimation:X};return d(D,y),d(P,y),{withAnimation:c,checked:o,errorMessage:R,checkboxGroupErrorMessage:i==null?void 0:i.errorMessage,formDisabled:s==null?void 0:s.disabled,formReadonly:s==null?void 0:s.readonly,n:de,classes:ue,handleClick:M,toggle:T,reset:g,validate:p,resetValidation:h}}});A.render=ce;const C=A;C.install=function(e){e.component(C.name,C)};export{C,be as u};
