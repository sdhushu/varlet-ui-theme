import{M as oe}from"./menu-2ba12516.js";import{v as te}from"./index-c6a26488.js";import{I as de}from"./index-951ce32a.js";import{C as ve}from"./cell-38ee58c5.js";import{I as me}from"./input-49e39e7d.js";import{d as pe,a as b,Z as u,b as M,w as j,p as S,ag as fe,f as d,h as m,D as I,N as o,O as A,q as P,aP as X,M as B,P as $,Q as p,F as Z,ai as G,S as D,i as ge,j as L,X as F}from"./vue-router.esm-bundler-9b345358.js";import{a as J,c as be,e as K}from"./shared-4a7fb7de.js";import{p as ke}from"./index-a7264297.js";var Ce={current:{type:[Number,String]},size:{type:[Number,String],default:10},total:{type:[Number,String],default:0},maxPagerCount:{type:Number,default:3},disabled:{type:Boolean,default:!1},simple:{type:Boolean,default:!0},showSizeChanger:{type:Boolean,default:!0},showQuickJumper:{type:Boolean,default:!1},sizeOption:{type:Array,default:()=>[10,20,50,100]},showTotal:{type:Function},onChange:J(),"onUpdate:current":J(),"onUpdate:size":J()},{n:Ve,classes:we}=be("pagination"),ye=["item-mode","onClick"];function ze(e,l){var V=S("var-icon"),k=S("var-input"),w=S("var-cell"),y=S("var-menu"),i=fe("ripple");return d(),m("ul",{class:o(e.n())},[I((d(),m("li",{class:o(e.classes(e.n("item"),e.n("prev"),[e.current<=1||e.disabled,e.n("item--disabled")],[e.simple,e.n("item--simple"),e.n("$-elevation--2")])),onClick:l[0]||(l[0]=a=>e.clickItem("prev"))},[A(e.$slots,"prev",{},()=>[P(V,{name:"chevron-left"})])],2)),[[i,{disabled:e.current<=1||e.disabled}]]),e.simple?(d(),m("li",{key:0,class:o(e.classes(e.n("simple"),[e.disabled,e.n("item--disabled")]))},[P(k,{modelValue:e.simpleValue,"onUpdate:modelValue":l[1]||(l[1]=a=>e.simpleValue=a),disabled:e.disabled,"var-pagination-cover":"",onBlur:l[2]||(l[2]=a=>e.setPage("simple",e.simpleValue,a)),onKeydown:l[3]||(l[3]=X(a=>e.setPage("simple",e.simpleValue,a),["enter"]))},null,8,["modelValue","disabled"]),B("span",null,[$(" / "+p(e.pageCount)+" ",1),B("div",{class:o(e.n("simple-line"))},null,2)])],2)):(d(!0),m(Z,{key:1},G(e.pageList,(a,f)=>I((d(),m("li",{key:e.toNumber(a)+f,"item-mode":e.getMode(a,f),class:o(e.classes(e.n("item"),e.n("$-elevation--2"),[a===e.current&&!e.disabled,e.n("item--active")],[e.isHideEllipsis(a,f),e.n("item--hide")],[e.disabled,e.n("item--disabled")],[a===e.current&&e.disabled,e.n("item--disabled--active")])),onClick:h=>e.clickItem(a,f)},[$(p(a),1)],10,ye)),[[i,{disabled:e.disabled}]])),128)),I((d(),m("li",{class:o(e.classes(e.n("item"),e.n("next"),[e.current>=e.pageCount||e.disabled,e.n("item--disabled")],[e.simple,e.n("item--simple"),e.n("$-elevation--2")])),onClick:l[4]||(l[4]=a=>e.clickItem("next"))},[A(e.$slots,"next",{},()=>[P(V,{name:"chevron-right"})])],2)),[[i,{disabled:e.current>=e.pageCount||e.disabled}]]),e.showSizeChanger?(d(),m("li",{key:2,class:o(e.classes(e.n("size"),[e.disabled,e.n("item--disabled")]))},[P(y,{show:e.menuVisible,"onUpdate:show":l[6]||(l[6]=a=>e.menuVisible=a),"offset-x":-4},{menu:D(()=>[(d(!0),m(Z,null,G(e.sizeOption,(a,f)=>I((d(),ge(w,{class:o(e.classes(e.n("list"),[e.size===a,e.n("list--active")])),key:f,onClick:h=>e.clickSize(a)},{default:D(()=>[$(p(a)+p(e.pack.paginationItem)+" / "+p(e.pack.paginationPage),1)]),_:2},1032,["class","onClick"])),[[i]])),128))]),default:D(()=>[B("div",{class:o(e.classes(e.n("size--open"),[e.current<=1||e.disabled,e.n("size--open--disabled")])),onClick:l[5]||(l[5]=function(){return e.showMenu&&e.showMenu(...arguments)})},[B("span",null,p(e.size)+p(e.pack.paginationItem)+" / "+p(e.pack.paginationPage),1),P(V,{class:o(e.n("size--open-icon")),"var-pagination-cover":"",name:"menu-down"},null,8,["class"])],2)]),_:1},8,["show"])],2)):L("v-if",!0),e.showQuickJumper&&!e.simple?(d(),m("li",{key:3,class:o(e.classes(e.n("quickly"),[e.disabled,"item--disabled"]))},[$(p(e.pack.paginationJump)+" ",1),P(k,{modelValue:e.inputValue,"onUpdate:modelValue":l[7]||(l[7]=a=>e.inputValue=a),disabled:e.disabled,"var-pagination-cover":"",onBlur:l[8]||(l[8]=a=>e.setPage("quick",e.inputValue,a)),onKeydown:l[9]||(l[9]=X(a=>e.setPage("quick",e.inputValue,a),["enter"]))},null,8,["modelValue","disabled"])],2)):L("v-if",!0),e.totalText?(d(),m("li",{key:4,class:o(e.n("total"))},p(e.totalText),3)):L("v-if",!0)],2)}var W=pe({name:"VarPagination",components:{VarMenu:oe,VarIcon:de,VarCell:ve,VarInput:me},directives:{Ripple:te},props:Ce,setup(e){var l=b(!1),V=b(""),k=b("1"),w=b(!1),y=b(!1),i=b(u(e.current)||1),a=b(u(e.size)||10),f=b([]),h=M(()=>Math.ceil(e.maxPagerCount/2)),z=M(()=>Math.ceil(u(e.total)/u(a.value))),Y=M(()=>{var n=a.value*(i.value-1)+1,s=Math.min(a.value*i.value,u(e.total));return[n,s]}),c=M(()=>e.showTotal?e.showTotal(u(e.total),Y.value):""),x=(n,s)=>F(n)?!1:s===1?w.value:y.value,_=(n,s)=>F(n)?"basic":s===1?"head":"tail",ee=(n,s)=>{n===i.value||e.disabled||(F(n)?i.value=n:n==="prev"?i.value>1&&(i.value-=1):n==="next"?i.value<z.value&&(i.value+=1):n==="..."&&(s===1?i.value=Math.max(i.value-e.maxPagerCount,1):i.value=Math.min(i.value+e.maxPagerCount,z.value)))},ae=()=>{e.disabled||(l.value=!0)},le=n=>{a.value=n,l.value=!1},Q=n=>{var s=/^[1-9][0-9]*$/;return s.test(n)},ie=(n,s,r)=>{if(r.target.blur(),Q(s)){var g=u(s);g>z.value&&(g=z.value,k.value=""+g),g!==i.value&&(i.value=g)}n==="quick"&&(V.value=""),n==="simple"&&!Q(s)&&(k.value=""+i.value)};return j([()=>e.current,()=>e.size],n=>{var[s,r]=n;i.value=u(s)||1,a.value=u(r||10)}),j([i,a,z],(n,s)=>{var[r,g,C]=n,[R,ne]=s,t=[],{maxPagerCount:v,total:se,onChange:re}=e,ue=Math.ceil(u(se)/u(ne)),N=C-(v-h.value)-1;if(k.value=""+r,C-2>v){if(R===void 0||C!==ue)for(var T=2;T<v+2;T++)t.push(T);if(r<=v&&r<N){t=[];for(var U=1;U<v+1;U++)t.push(U+1);w.value=!0,y.value=!1}if(r>v&&r<N){t=[];for(var E=1;E<v+1;E++)t.push(r+E-h.value);w.value=r===2&&v===1,y.value=!1}if(r>=N){t=[];for(var q=1;q<v+1;q++)t.push(C-(v-q)-1);w.value=!1,y.value=!0}t=[1,"...",...t,"...",C]}else for(var H=1;H<=C;H++)t.push(H);f.value=t,R!==void 0&&C>0&&K(re,r,g),K(e["onUpdate:current"],r),K(e["onUpdate:size"],g)},{immediate:!0}),{n:Ve,classes:we,pack:ke,current:i,menuVisible:l,size:a,pageCount:z,pageList:f,inputValue:V,simpleValue:k,totalText:c,getMode:_,isHideEllipsis:x,clickItem:ee,showMenu:ae,clickSize:le,setPage:ie,toNumber:u}}});W.render=ze;const O=W;O.install=function(e){e.component(O.name,O)};export{O as P};
