import{C as X}from"./cell.bc201427.js";import{S as re}from"./sticky.78fc6058.js";import{d as Y,a as c,b,G as te,f as h,i as G,S as C,M as q,O as U,P as E,Q as v,m as oe,au as se,w as le,o as j,e as ie,h as I,F as Q,ak as J,N as z,R as H,an as m,q as $}from"./vue-router.esm-bundler.e1992e73.js";import{G as ue,r as de,q as ce,H as ve,c as W,x as fe,b as L,j as F,K as pe,y as V,z as me,F as he,A as ye,B as ge,C as ke,L as be,n as Ce}from"./shared.c1bcce9d.js";/* empty css             */import"./CellSfc.90047be6.js";import{d as Ie}from"./index.b9d01deb.js";import{p as M,u as Te}from"./index.fd57b854.js";import{a as xe,b as Be}from"./utils.d3fc41d2.js";import{u as Ae}from"./sync.636afef4.js";import"./index.f1637ca3.js";import"./_commonjsHelpers.b8add541.js";import"./index.9c303bc0.js";var Z=Symbol("INDEX_BAR_BIND_INDEX_ANCHOR_KEY"),ee=Symbol("INDEX_BAR_COUNT_INDEX_ANCHOR_KEY");function Ne(){var{bindChildren:e,childProviders:t}=de(Z),{length:n}=ue(ee);return{length:n,indexAnchors:t,bindIndexAnchors:e}}function Ee(){var{parentProvider:e,bindParent:t}=ce(Z),{index:n}=ve(ee);if(!e||!t)throw Error('[Varlet] IndexAnchor: You should use this component in "IndexBar"');return{index:n,indexBar:e,bindIndexBar:t}}var Se={index:{type:[Number,String]}},{n:_e,classes:we}=W("index-anchor");function De(e,t){return h(),G(se(e.sticky?e.n("$-sticky"):e.Transition),{"offset-top":e.sticky?e.stickyOffsetTop:null,"z-index":e.sticky?e.zIndex:null,disabled:e.disabled&&!e.cssMode,"css-mode":e.cssMode,ref:"anchorEl"},{default:C(()=>[q("div",oe({class:e.n()},e.$attrs),[U(e.$slots,"default",{},()=>[E(v(e.name),1)])],16)]),_:3},8,["offset-top","z-index","disabled","css-mode"])}const S=Y({render:De,name:"VarIndexAnchor",components:{VarSticky:re},inheritAttrs:!1,props:Se,setup(e){var{index:t,indexBar:n,bindIndexBar:u}=Ee(),i=c(0),a=c(!1),s=b(()=>e.index),r=c(null),{active:l,sticky:g,cssMode:w,stickyOffsetTop:k,zIndex:T}=n,D=()=>{!r.value||(i.value=r.value.$el?r.value.$el.offsetTop:r.value.offsetTop)},x=A=>{a.value=A},B={index:t,name:s,ownTop:i,setOwnTop:D,setDisabled:x};return u(B),{n:_e,classes:we,name:s,anchorEl:r,active:l,sticky:g,zIndex:T,disabled:a,cssMode:w,stickyOffsetTop:k,Transition:te}}});S.install=function(e){e.component(S.name,S)};var Oe={sticky:{type:Boolean,default:!0},stickyOffsetTop:{type:[String,Number],default:0},cssMode:{type:Boolean,default:!1},hideList:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:1},highlightColor:{type:String},duration:{type:[Number,String],default:0},onClick:{type:Function},onChange:{type:Function}};function K(e,t,n,u,i,a,s){try{var r=e[a](s),l=r.value}catch(g){n(g);return}r.done?t(l):Promise.resolve(l).then(u,i)}function R(e){return function(){var t=this,n=arguments;return new Promise(function(u,i){var a=e.apply(t,n);function s(l){K(a,u,i,s,r,"next",l)}function r(l){K(a,u,i,s,r,"throw",l)}s(void 0)})}}var{n:Pe,classes:ze}=W("index-bar"),$e=["onClick"];function Le(e,t){return h(),I("div",{class:z(e.n()),ref:"barEl"},[U(e.$slots,"default"),q("ul",{class:z(e.n("anchor-list")),style:H({zIndex:e.toNumber(e.zIndex)+2,display:e.hideList?"none":"block"})},[(h(!0),I(Q,null,J(e.anchorNameList,n=>(h(),I("li",{key:n,class:z(e.classes(e.n("anchor-item"),[e.active===n,e.n("anchor-item--active")])),style:H({color:e.active===n&&e.highlightColor?e.highlightColor:""}),onClick:u=>e.anchorClick(n,!0)},v(n),15,$e))),128))],6)],2)}const _=Y({render:Le,name:"VarIndexBar",props:Oe,setup(e){var{length:t,indexAnchors:n,bindIndexAnchors:u}=Ne(),i=c(""),a=c(null),s=c(null),r=c([]),l=c(),g=b(()=>e.sticky),w=b(()=>e.cssMode),k=b(()=>fe(e.stickyOffsetTop)),T=b(()=>e.zIndex),D={active:l,sticky:g,cssMode:w,stickyOffsetTop:k,zIndex:T};u(D);var x=d=>{var o=Ce(d)?d.name.value:d;o===l.value||o===void 0||(l.value=o,L(e.onChange,o))},B=()=>{var d=he(a.value),o=a.value===window?document.body.scrollHeight:a.value.scrollHeight,{offsetTop:y}=s.value;n.forEach((f,p)=>{var O=f.ownTop.value,N=d-O+k.value-y,P=p===n.length-1?o:n[p+1].ownTop.value-f.ownTop.value;N>=0&&N<P&&!i.value&&(p&&!e.cssMode&&n[p-1].setDisabled(!0),f.setDisabled(!1),x(f))})},A=function(){var d=R(function*(o,y){var{offsetTop:f}=s.value;if(y&&L(e.onClick,o),o!==l.value){var p=n.find(P=>{var{name:ne}=P;return o===ne.value});if(!!p){var O=p.ownTop.value-k.value+f,N=ye(a.value);i.value=o,x(o),yield ge(a.value,{left:N,top:O,animation:ke,duration:F(e.duration)}),be(()=>{i.value=""})}}});return function(y,f){return d.apply(this,arguments)}}(),ae=d=>{pe(()=>A(d))};return le(()=>t.value,R(function*(){yield V(),n.forEach(d=>{var{name:o,setOwnTop:y}=d;o.value&&r.value.push(o.value),y()})})),j(R(function*(){yield V(),a.value=me(s.value),a.value.addEventListener("scroll",B)})),ie(()=>{L(a.value.removeEventListener,"scroll",B)}),{n:Pe,classes:ze,barEl:s,active:l,zIndex:T,anchorNameList:r,toNumber:F,scrollTo:ae,anchorClick:A}}});_.install=function(e){e.component(_.name,_)};const Je={setup(e){const t=c([]),n=c("#e7edf7"),u=c("#2e67ba");j(()=>{for(let a=0;a<26;a++)t.value.push(String.fromCharCode(65+a))});const i=a=>{console.log(a)};return xe(Te),Be(Ie,a=>{n.value=a==="darkTheme"?"rgb(41, 42, 45)":"#e7edf7",u.value=a==="darkTheme"?"#3980e8":"#2e67ba"}),Ae(),(a,s)=>(h(),G(m(_),{onChange:i,duration:"300","sticky-offset-top":"14.4vw"},{default:C(()=>[(h(!0),I(Q,null,J(t.value,r=>(h(),I("div",{key:r},[$(m(S),{index:r,class:"var-index-anchor__example",style:H({background:n.value,color:u.value})},{default:C(()=>[E(v(m(M).title)+" "+v(r),1)]),_:2},1032,["index","style"]),$(m(X),null,{default:C(()=>[E(v(r)+" "+v(m(M).text),1)]),_:2},1024),$(m(X),null,{default:C(()=>[E(v(r)+" "+v(m(M).text),1)]),_:2},1024)]))),128))]),_:1}))}};export{Je as default};
