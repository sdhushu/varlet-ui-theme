import{F as w,u as z}from"./provide-982d6f56.js";import{a as C,n as B,e as l,c as q,R as b}from"./shared-128c81f0.js";import{u as D}from"./checkbox-743c7bde.js";import{d as P,b as i,w as p,p as L,f as O,h as R,M as $,O as j,N as x,q as H,n as I}from"./vue-router.esm-bundler-fa266481.js";function J(e){return["horizontal","vertical"].includes(e)}var K={modelValue:{type:Array,default:()=>[]},max:{type:[String,Number]},direction:{type:String,default:"horizontal",validator:J},validateTrigger:{type:Array,default:["onChange"]},rules:{type:Array},onChange:C(),"onUpdate:modelValue":C()},{n:Q,classes:X}=q("checkbox-group");function Y(e,u){var s=L("var-form-details");return O(),R("div",{class:x(e.n("wrap"))},[$("div",{class:x(e.classes(e.n(),e.n("--"+e.direction)))},[j(e.$slots,"default")],2),H(s,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var y=P({name:"VarCheckboxGroup",components:{VarFormDetails:w},props:K,setup(e){var u=i(()=>e.max),s=i(()=>e.modelValue.length),{length:A,checkboxes:t,bindCheckboxes:_}=D(),{bindForm:G}=z(),{errorMessage:v,validateWithTrigger:M,validate:U,resetValidation:c}=B(),F=i(()=>v.value),N=a=>{I(()=>{var{validateTrigger:r,rules:o,modelValue:n}=e;M(r,a,o,n)})},m=a=>{l(e["onUpdate:modelValue"],a),l(e.onChange,a),N("onChange")},S=a=>{var{modelValue:r}=e;r.includes(a)||m([...r,a])},T=a=>{var{modelValue:r}=e;r.includes(a)&&m(r.filter(o=>o!==a))},h=()=>t.forEach(a=>{var{sync:r}=a;return r(e.modelValue)}),f=()=>{t.forEach(a=>a.resetWithAnimation())},E=()=>{var a=t.map(o=>{var{checkedValue:n}=o;return n.value}),r=b(a);return f(),l(e["onUpdate:modelValue"],r),r},W=()=>{var a=t.filter(o=>{var{checked:n}=o;return!n.value}).map(o=>{var{checkedValue:n}=o;return n.value}),r=b(a);return f(),l(e["onUpdate:modelValue"],r),r},k=()=>{l(e["onUpdate:modelValue"],[]),c()},g=()=>U(e.rules,e.modelValue);p(()=>e.modelValue,h,{deep:!0}),p(()=>A.value,h);var V={max:u,checkedCount:s,onChecked:S,onUnchecked:T,validate:g,resetValidation:c,reset:k,errorMessage:F};return _(V),l(G,V),{errorMessage:v,n:Q,classes:X,checkAll:E,inverseAll:W,reset:k,validate:g,resetValidation:c}}});y.render=Y;const d=y;d.install=function(e){e.component(d.name,d)};export{d as C};
