import{d as H,b as k,w as A,f as $,h as U,O as E,N as g,n as B,a as P,p as J,M as S,P as d,Q as m,q as o,D as R,E as W,r as X,ac as Z,az as x,S as r,ao as a,F as ee,aA as y}from"./vue-router.esm-bundler-fa266481.js";import{B as ae}from"./index-d8afa4d8.js";import{a as O,c as q,e as z,g as L,u as le,T as F,U as te}from"./shared-128c81f0.js";import{u as ne}from"./useChildren-57fd1ce4.js";import{I as re}from"./index-59b46fed.js";import{S as oe}from"./index-1a3a74ad.js";import{d as ie}from"./index-404bdbb6.js";import{p as l,u as ue}from"./index-3eaa0999.js";import{u as se}from"./sync-1c3f49e5.js";/* empty css                  *//* empty css             *//* empty css                     *//* empty css               *//* empty css                *//* empty css               */import"./ButtonSfc-4ed993c7.js";/* empty css              */import"./index-c5f09b40.js";import"./index-085596df.js";import"./index-d8f4ea61.js";import"./index-fe11295e.js";import"./_commonjsHelpers-725317a4.js";import"./index-7acf965d.js";var K=Symbol("COLLAPSE_BIND_COLLAPSE_ITEM_KEY");function de(){var{childProviders:e,length:i,bindChildren:t}=ne(K);return{length:i,collapseItem:e,bindCollapseItem:t}}var me={modelValue:{type:[Array,String,Number]},accordion:{type:Boolean,default:!1},offset:{type:Boolean,default:!0},onChange:O(),"onUpdate:modelValue":O()},{n:fe}=q("collapse");function ve(e,i){return $(),U("div",{class:g(e.n())},[E(e.$slots,"default")],2)}var Y=H({name:"VarCollapse",props:me,setup(e){var{length:i,collapseItem:t,bindCollapseItem:b}=de(),h=k(()=>e.modelValue),n=k(()=>e.offset),f=()=>!e.accordion&&!L(e.modelValue)?(console.error('[Varlet] Collapse: type of prop "modelValue" should be an Array'),!1):e.accordion&&L(e.modelValue)?(console.error('[Varlet] Collapse: type of prop "modelValue" should be a String or Number'),!1):!0,V=(u,s)=>f()?s?e.accordion?u:[...e.modelValue,u]:e.accordion?null:e.modelValue.filter(v=>v!==u):null,I=(u,s)=>{var v=V(u,s);z(e["onUpdate:modelValue"],v),z(e.onChange,v)},T=()=>{if(e.accordion)return t.find(s=>{var{name:v}=s;return e.modelValue===v.value});var u=t.filter(s=>{var{name:v}=s;return v.value===void 0?!1:e.modelValue.includes(v.value)});return u.length?u:void 0},_=()=>e.accordion?t.find(u=>{var{index:s,name:v}=u;return v.value===void 0&&e.modelValue===s.value}):t.filter(u=>{var{index:s,name:v}=u;return v.value===void 0&&e.modelValue.includes(s.value)}),w=()=>{if(f()){var u=T()||_();if(e.accordion&&!u||!e.accordion&&!u.length){t.forEach(s=>{s.init(e.accordion,!1)});return}t.forEach(s=>{var v=e.accordion?u===s:u.includes(s);s.init(e.accordion,v)})}},N={active:h,offset:n,updateItem:I};return b(N),A(()=>i.value,()=>B().then(w)),A(()=>e.modelValue,()=>B().then(w)),{n:fe}}});Y.render=ve;const C=Y;C.install=function(e){e.component(C.name,C)};function ce(){var{parentProvider:e,index:i,bindParent:t}=le(K);if(!t)throw Error("[Varlet] Collapse: <var-collapse-item/> must in <var-collapse>");return{index:i,collapse:e,bindCollapse:t}}var pe={name:{type:[String,Number]},title:{type:String},icon:{type:String,default:"chevron-down"},disabled:{type:Boolean,default:!1}},{n:he,classes:Ve}=q("collapse-item");function ge(e,i){var t=J("var-icon");return $(),U("div",{class:g(e.classes(e.n(),[e.offset&&e.isShow,e.n("--active")],[e.disabled,e.n("--disable")]))},[S("div",{class:g(e.n("header")),onClick:i[0]||(i[0]=b=>e.toggle())},[S("div",{class:g(e.n("header-title"))},[E(e.$slots,"title",{},()=>[d(m(e.title),1)])],2),S("div",{class:g(e.n("header-icon"))},[E(e.$slots,"icon",{},()=>[o(t,{name:e.icon,transition:250,class:g(e.classes(e.n("header-icon"),[e.isShow&&e.icon==="chevron-down",e.n("header-open")],[e.disabled,e.n("header--disable")]))},null,8,["name","class"])])],2)],2),R(S("div",{class:g(e.n("content")),ref:"contentEl",onTransitionend:i[1]||(i[1]=function(){return e.transitionend&&e.transitionend(...arguments)}),onTransitionstart:i[2]||(i[2]=function(){return e.start&&e.start(...arguments)})},[S("div",{class:g(e.n("content-wrap"))},[E(e.$slots,"default")],2)],34),[[W,e.show]])],2)}var Q=H({name:"VarCollapseItem",components:{VarIcon:re},props:pe,setup(e){var{index:i,collapse:t,bindCollapse:b}=ce(),h=!0,n=P(null),f=P(!1),V=P(!1),{active:I,offset:T,updateItem:_}=t,w=k(()=>e.name),N=(p,M)=>{I.value===void 0||p&&L(I.value)||M===V.value||(V.value=M,u(!0))},u=p=>{e.disabled||p||_(e.name||i.value,!V.value)},s=()=>{n.value&&(n.value.style.height="",f.value=!0,B(()=>{var{offsetHeight:p}=n.value;n.value.style.height=0+"px",F(()=>{n.value.style.height=p+"px",h&&te(()=>{h&&D()})})}))},v=()=>{h=!1},j=()=>{if(n.value){var{offsetHeight:p}=n.value;n.value.style.height=p+"px",F(()=>{n.value.style.height=0+"px"})}},D=()=>{V.value||(f.value=!1),n.value.style.height=""},G={index:i,name:w,init:N};return b(G),A(V,p=>{p?s():j()}),{n:he,start:v,classes:Ve,show:f,isShow:V,offset:T,toggle:u,contentEl:n,transitionend:D}}});Q.render=ge;const c=Q;c.install=function(e){e.component(c.name,c)};const Ce=d("^_^"),Ke={setup(e){const i=P(!1),t=X({value:["1"],value1:"",value2:[1],value3:["1"],value4:["2"]}),b=h=>{console.log(h)};return Z(ue),x(ie),se(),(h,n)=>($(),U(ee,null,[o(a(y),null,{default:r(()=>[d(m(a(l).basicUsage),1)]),_:1}),o(a(C),{modelValue:a(t).value,"onUpdate:modelValue":n[0]||(n[0]=f=>a(t).value=f),onChange:b},{default:r(()=>[o(a(c),{title:a(l).title,name:"1"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"]),o(a(c),{title:a(l).title,name:"2"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),o(a(y),null,{default:r(()=>[d(m(a(l).hideMargin),1)]),_:1}),o(a(C),{modelValue:a(t).value4,"onUpdate:modelValue":n[1]||(n[1]=f=>a(t).value4=f),offset:!1},{default:r(()=>[o(a(c),{title:a(l).title,name:"1"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"]),o(a(c),{title:a(l).title,name:"2"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),o(a(y),null,{default:r(()=>[d(m(a(l).accordionMode),1)]),_:1}),o(a(C),{modelValue:a(t).value1,"onUpdate:modelValue":n[2]||(n[2]=f=>a(t).value1=f),accordion:"",offset:!1},{default:r(()=>[o(a(c),{title:a(l).title,name:"1"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"]),o(a(c),{title:a(l).title,name:"2"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),o(a(y),null,{default:r(()=>[d(m(a(l).disabled),1)]),_:1}),o(a(oe),{direction:"column",size:[8,8]},{default:r(()=>[o(a(ae),{onClick:n[3]||(n[3]=f=>i.value=!i.value)},{default:r(()=>[d(m(i.value?a(l).enable:a(l).disabled),1)]),_:1}),o(a(C),{modelValue:a(t).value2,"onUpdate:modelValue":n[4]||(n[4]=f=>a(t).value2=f)},{default:r(()=>[o(a(c),{title:a(l).title,name:1,disabled:i.value},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title","disabled"]),o(a(c),{title:a(l).title,name:2,disabled:i.value},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title","disabled"])]),_:1},8,["modelValue"])]),_:1}),o(a(y),null,{default:r(()=>[d(m(a(l).customContent),1)]),_:1}),o(a(C),{modelValue:a(t).value3,"onUpdate:modelValue":n[5]||(n[5]=f=>a(t).value3=f)},{default:r(()=>[o(a(c),{title:a(l).slotTitle,name:"1",icon:"account-circle"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"]),o(a(c),{name:"2"},{title:r(()=>[d(m(a(l).slotTitle),1)]),icon:r(()=>[Ce]),default:r(()=>[d(" "+m(a(l).slotContent),1)]),_:1})]),_:1},8,["modelValue"])],64))}};export{Ke as default};
