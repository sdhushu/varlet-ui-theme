import{u as T,v as l,b as d,c as W}from"./shared.c1bcce9d.js";import{F as j,u as q}from"./provide.40761c70.js";import{L as E}from"./index.3e75a6d6.js";import{v as P}from"./index.9385979f.js";import{d as $,b,p as w,ai as G,f as g,h as k,M as h,R as m,N as u,D as H,i as I,j as J,q as K,n as O}from"./vue-router.esm-bundler.e1992e73.js";var Q={modelValue:{default:!1},activeValue:{default:!0},inactiveValue:{default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},color:{type:String},loadingColor:{type:String},closeColor:{type:String},size:{type:[String,Number]},rules:{type:Array},ripple:{type:Boolean,default:!0},onClick:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},{n:X,classes:Y}=W("switch");function Z(e,v){var r=w("var-loading"),n=w("var-form-details"),c=G("ripple");return g(),k("div",{class:u(e.n())},[h("div",{class:u(e.classes(e.n("block"),[e.disabled||e.formDisabled,e.n("--disabled")])),onClick:v[0]||(v[0]=function(){return e.switchActive&&e.switchActive(...arguments)}),style:m(e.styleComputed.switch)},[h("div",{style:m(e.styleComputed.track),class:u(e.classes(e.n("track"),[e.modelValue===e.activeValue,e.n("track--active")],[e.errorMessage,e.n("track--error")]))},null,6),H((g(),k("div",{class:u(e.classes(e.n("ripple"),[e.modelValue===e.activeValue,e.n("ripple--active")])),style:m(e.styleComputed.ripple)},[h("div",{style:m(e.styleComputed.handle),class:u(e.classes(e.n("handle"),e.n("$-elevation--2"),[e.modelValue===e.activeValue,e.n("handle--active")],[e.errorMessage,e.n("handle--error")]))},[e.loading?(g(),I(r,{key:0,radius:e.radius,color:"currentColor"},null,8,["radius"])):J("v-if",!0)],6)],6)),[[c,{disabled:!e.ripple||e.disabled||e.loading||e.formDisabled}]])],6),K(n,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const f=$({render:Z,name:"VarSwitch",components:{VarLoading:E,VarFormDetails:j},directives:{Ripple:P},props:Q,setup(e){var{bindForm:v,form:r}=q(),{errorMessage:n,validateWithTrigger:c,validate:S,resetValidation:y}=T(),B=()=>S(e.rules,e.modelValue),D=()=>O(()=>c(["onChange"],"onChange",e.rules,e.modelValue)),F=b(()=>{var{size:a,modelValue:i,color:s,closeColor:t,loadingColor:p,activeValue:o}=e;return{handle:{width:l(a),height:l(a),backgroundColor:i===o?s:t,color:p},ripple:{left:i===o?l(a,.5):"-"+l(a,.5),color:i===o?s:t||"#999",width:l(a,2),height:l(a,2)},track:{height:l(a,.72),width:l(a,1.9),borderRadius:l(a,2/3),filter:i===o||n!=null&&n.value?void 0:"brightness(.6)",backgroundColor:i===o?s:t},switch:{height:l(a,1.2),width:l(a,2)}}}),z=b(()=>{var{size:a="5.333vw"}=e;return l(a,.4)}),M=a=>{var{onClick:i,onChange:s,disabled:t,loading:p,readonly:o,modelValue:A,activeValue:V,inactiveValue:U,"onUpdate:modelValue":L}=e;if(d(i,a),!(t||p||o||r!=null&&r.disabled.value||r!=null&&r.readonly.value)){var C=A===V?U:V;d(s,C),d(L,C),D()}},N=()=>{d(e["onUpdate:modelValue"],e.inactiveValue),y()},R={reset:N,validate:B,resetValidation:y};return d(v,R),{n:X,classes:Y,switchActive:M,radius:z,styleComputed:F,errorMessage:n,formDisabled:r==null?void 0:r.disabled,formReadonly:r==null?void 0:r.readonly}}});f.install=function(e){e.component(f.name,f)};export{f as S};
