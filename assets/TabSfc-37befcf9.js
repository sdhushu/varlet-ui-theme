import{v as Te}from"./index-c6a26488.js";import{a as z,u as re,g as ne,h as te,i as ie,c as _,e as B,p as G,t as Ce,x as J,q as oe,E as Q}from"./shared-4a7fb7de.js";import{d as M,a as h,b as y,w as $,ag as Se,D as ge,f as U,h as Ie,O as L,N as A,R as le,p as se,i as q,S as F,j as we,o as ke,u as Be,G as $e,M as H,m as Ee,au as ze,X as Ae}from"./vue-router.esm-bundler-9b345358.js";import{a as De,S as Ne}from"./index-90cccecc.js";import{p as O,S as Pe}from"./sticky-444c38c2.js";var _e={name:{type:[String,Number]},disabled:{type:Boolean,default:!1},onClick:z()},ve=Symbol("TABS_BIND_TAB_KEY"),ue=Symbol("TABS_COUNT_TAB_KEY");function Me(){var{childProviders:e,bindChildren:r}=ne(ve),{length:a}=re(ue);return{length:a,tabList:e,bindTabList:r}}function Ue(){var{parentProvider:e,bindParent:r}=te(ve),{index:a}=ie(ue);if(!e||!r||!a)throw Error("<var-tab/> must in <var-tabs/>");return{index:a,tabs:e,bindTabs:r}}var{n:P,classes:Le}=_("tab");function Ye(e,r){var a=Se("ripple");return ge((U(),Ie("div",{class:A(e.classes(e.n(),e.n("$--box"),e.computeColorClass(),e.n("--"+e.itemDirection))),ref:"tabEl",style:le({color:e.computeColorStyle()}),onClick:r[0]||(r[0]=function(){return e.handleClick&&e.handleClick(...arguments)})},[L(e.$slots,"default")],6)),[[a,{disabled:e.disabled}]])}var de=M({name:"VarTab",directives:{Ripple:Te},props:_e,setup(e){var r=h(null),a=y(()=>e.name),s=y(()=>e.disabled),v=y(()=>r.value),{index:n,tabs:o,bindTabs:l}=Ue(),{onTabClick:t,active:b,activeColor:g,inactiveColor:I,disabledColor:d,itemDirection:c,resize:f}=o,p={name:a,index:n,disabled:s,element:v};l(p);var T=()=>{var{disabled:C,name:S}=e;return C?d.value:b.value===S||b.value===(n==null?void 0:n.value)?g.value:I.value},E=()=>{var{disabled:C,name:S}=e;return C?P("$-tab--disabled"):b.value===S||b.value===(n==null?void 0:n.value)?P("$-tab--active"):P("$-tab--inactive")},D=C=>{var{disabled:S,name:N,onClick:Y}=e;S||(B(Y,N??n.value,C),t(p))};return $(()=>e.name,f),$(()=>e.disabled,f),{n:P,classes:Le,tabEl:r,active:b,activeColor:g,inactiveColor:I,itemDirection:c,computeColorStyle:T,computeColorClass:E,handleClick:D}}});de.render=Ye;const W=de;W.install=function(e){e.component(W.name,W)};var ce=Symbol("TABS_ITEMS_BIND_TAB_ITEM_KEY"),fe=Symbol("TABS_ITEMS_COUNT_TAB_ITEM_KEY");function Ve(){var{bindChildren:e,childProviders:r}=ne(ce),{length:a}=re(fe);return{length:a,tabItemList:r,bindTabItem:e}}function Ke(){var{parentProvider:e,bindParent:r}=te(ce),{index:a}=ie(fe);if(!e||!r||!a)throw Error("<var-tab-item/> must in <var-tabs-items/>");return{index:a,tabsItems:e,bindTabsItems:r}}var Ge={name:{type:[String,Number]}},{n:He,classes:Oe}=_("tab-item");function We(e,r){var a=se("var-swipe-item");return U(),q(a,{class:A(e.classes(e.n(),[!e.current,e.n("--inactive")])),"var-tab-item-cover":""},{default:F(()=>[e.initSlot?L(e.$slots,"default",{key:0}):we("v-if",!0)]),_:3},8,["class"])}var me=M({name:"VarTabItem",components:{VarSwipeItem:De},props:Ge,setup(e){var r=h(!1),a=h(!1),s=y(()=>e.name),{index:v,bindTabsItems:n}=Ke(),o=t=>{!a.value&&t&&(a.value=!0),r.value=t},l={index:v,name:s,setCurrent:o};return n(l),{n:He,classes:Oe,current:r,initSlot:a}}});me.render=We;const R=me;R.install=function(e){e.component(R.name,R)};function j(e){return["horizontal","vertical"].includes(e)}var Re={active:{type:[String,Number],default:0},layoutDirection:{type:String,default:"horizontal",validator:j},itemDirection:{type:String,default:"horizontal",validator:j},fixedBottom:{type:Boolean,default:!1},activeColor:{type:String},inactiveColor:{type:String},disabledColor:{type:String},color:{type:String},indicatorColor:{type:String},indicatorSize:{type:[String,Number]},elevation:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},stickyCssMode:G(O,"cssMode"),stickyZIndex:G(O,"zIndex"),offsetTop:G(O,"offsetTop"),safeArea:{type:Boolean,default:!1},onClick:z(),onChange:z(),"onUpdate:active":z()};function x(e,r,a,s,v,n,o){try{var l=e[n](o),t=l.value}catch(b){a(b);return}l.done?r(t):Promise.resolve(t).then(s,v)}function ee(e){return function(){var r=this,a=arguments;return new Promise(function(s,v){var n=e.apply(r,a);function o(t){x(n,s,v,o,l,"next",t)}function l(t){x(n,s,v,o,l,"throw",t)}o(void 0)})}}var{n:Xe,classes:Ze}=_("tabs");function qe(e,r){return U(),q(ze(e.sticky?e.n("$-sticky"):e.Transition),{ref:e.sticky?"stickyComponent":void 0,"css-mode":e.sticky?e.stickyCssMode:void 0,"offset-top":e.sticky?e.offsetTop:void 0,"z-index":e.sticky?e.stickyZIndex:void 0},{default:F(()=>[H("div",Ee({class:e.classes(e.n(),e.n("$--box"),e.n("--item-"+e.itemDirection),e.n("--layout-"+e.layoutDirection+"-padding"),[e.elevation,e.n("$-elevation--4")],[e.fixedBottom,e.n("--fixed-bottom")],[e.safeArea,e.n("--safe-area")]),style:{background:e.color}},e.$attrs),[H("div",{ref:"scrollerEl",class:A(e.classes(e.n("tab-wrap"),[e.scrollable,e.n("--layout-"+e.layoutDirection+"-scrollable")],e.n("--layout-"+e.layoutDirection)))},[L(e.$slots,"default"),H("div",{class:A(e.classes(e.n("indicator"),e.n("--layout-"+e.layoutDirection+"-indicator"))),style:le({width:e.layoutDirection==="horizontal"?e.indicatorWidth:e.toSizeUnit(e.indicatorSize),height:e.layoutDirection==="horizontal"?e.toSizeUnit(e.indicatorSize):e.indicatorHeight,transform:e.layoutDirection==="horizontal"?"translateX("+e.indicatorX+")":"translateY("+e.indicatorY+")",background:e.indicatorColor||e.activeColor})},null,6)],2)],16)]),_:3},8,["css-mode","offset-top","z-index"])}var be=M({name:"VarTabs",components:{VarSticky:Pe},inheritAttrs:!1,props:Re,setup(e){var r=h("0px"),a=h("0px"),s=h("0px"),v=h("0px"),n=h(!1),o=h(null),l=y(()=>e.active),t=y(()=>e.activeColor),b=y(()=>e.inactiveColor),g=y(()=>e.disabledColor),I=y(()=>e.itemDirection),d=h(null),{tabList:c,bindTabList:f,length:p}=Me(),T=i=>{var m,u=(m=i.name.value)!=null?m:i.index.value,{active:k,onChange:V,onClick:K}=e;B(e["onUpdate:active"],u),B(K,u),u!==k&&B(V,u)},E=()=>c.find(i=>{var{name:m}=i;return e.active===m.value}),D=i=>c.find(m=>{var{index:u}=m;return(i??e.active)===u.value}),C=()=>{if(p.value!==0){var{active:i}=e;if(Ae(i)){var m=i>p.value-1?p.value-1:0;return B(e["onUpdate:active"],m),D(m)}}},S=()=>{n.value=c.length>=5},N=i=>{var{element:m}=i,u=m.value;u&&(e.layoutDirection==="horizontal"?(r.value=u.offsetWidth+"px",s.value=u.offsetLeft+"px"):(a.value=u.offsetHeight+"px",v.value=u.offsetTop+"px"))},Y=i=>{var{element:m}=i;if(n.value){var u=o.value,k=m.value;if(e.layoutDirection==="horizontal"){var V=k.offsetLeft+k.offsetWidth/2-u.offsetWidth/2;J(u,{left:V,animation:Q})}else{var K=k.offsetTop+k.offsetHeight/2-u.offsetHeight/2;J(u,{top:K,animation:Q})}}},w=()=>{var i=E()||D()||C();!i||i.disabled.value||(S(),N(i),Y(i))},he=function(){var i=ee(function*(){e.sticky&&d.value&&(yield d.value.resize())});return function(){return i.apply(this,arguments)}}(),ye={active:l,activeColor:t,inactiveColor:b,disabledColor:g,itemDirection:I,resize:w,onTabClick:T};return f(ye),$(()=>p.value,ee(function*(){yield oe(),w()})),$(()=>e.active,w),ke(()=>window.addEventListener("resize",w)),Be(()=>window.removeEventListener("resize",w)),{stickyComponent:d,indicatorWidth:r,indicatorHeight:a,indicatorX:s,indicatorY:v,scrollable:n,scrollerEl:o,Transition:$e,toSizeUnit:Ce,n:Xe,classes:Ze,resize:w,resizeSticky:he}}});be.render=qe;const X=be;X.install=function(e){e.component(X.name,X)};var Fe={active:{type:[String,Number],default:0},canSwipe:{type:Boolean,default:!0},loop:{type:Boolean,default:!1},"onUpdate:active":z()};function ae(e,r,a,s,v,n,o){try{var l=e[n](o),t=l.value}catch(b){a(b);return}l.done?r(t):Promise.resolve(t).then(s,v)}function Je(e){return function(){var r=this,a=arguments;return new Promise(function(s,v){var n=e.apply(r,a);function o(t){ae(n,s,v,o,l,"next",t)}function l(t){ae(n,s,v,o,l,"throw",t)}o(void 0)})}}var{n:Qe}=_("tabs-items");function je(e,r){var a=se("var-swipe");return U(),q(a,{class:A(e.n()),ref:"swipe",loop:e.loop,touchable:e.canSwipe,indicator:!1,onChange:e.handleSwipeChange},{default:F(()=>[L(e.$slots,"default")]),_:3},8,["class","loop","touchable","onChange"])}var pe=M({name:"VarTabsItems",components:{VarSwipe:Ne},props:Fe,setup(e){var r=h(null),{tabItemList:a,bindTabItem:s,length:v}=Ve(),n=d=>a.find(c=>{var{name:f}=c;return d===f.value}),o=d=>a.find(c=>{var{index:f}=c;return d===f.value}),l=d=>n(d)||o(d),t=d=>{var c,f=l(d);f&&(a.forEach(p=>{var{setCurrent:T}=p;return T(!1)}),f.setCurrent(!0),(c=r.value)==null||c.to(f.index.value))},b=d=>{var c,f=a.find(T=>{var{index:E}=T;return E.value===d}),p=(c=f.name.value)!=null?c:f.index.value;B(e["onUpdate:active"],p)},g=()=>r.value,I={};return s(I),$(()=>e.active,t),$(()=>v.value,Je(function*(){yield oe(),t(e.active)})),{swipe:r,n:Qe,handleSwipeChange:b,getSwipe:g}}});pe.render=je;const Z=pe;Z.install=function(e){e.component(Z.name,Z)};export{W as T,X as a,R as b,Z as c};
