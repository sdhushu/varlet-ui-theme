import{v as q}from"./index.9385979f.js";import{I as A}from"./index.f1637ca3.js";import{B as Q}from"./index.5b34a885.js";import{d as Y,a,b as Z,w as J,p as H,ai as K,D as X,f as v,h as f,M as I,O as p,N as o,R as h,j as g,Q as F,q as V,S as x,aj as _,n as ee}from"./vue-router.esm-bundler.e1992e73.js";import{t as y,c as ae,b as te,y as oe}from"./shared.c1bcce9d.js";import{u as ne}from"./zIndex.f370b3a7.js";import{u as le}from"./lock.f6f827bf.js";function ie(e){return["fill","contain","cover","none","scale-down"].includes(e)}var re={src:{type:String},fit:{type:String,validator:ie,default:"cover"},imageHeight:{type:[String,Number]},imageWidth:{type:[String,Number]},layout:{type:String,default:"column"},floating:{type:Boolean,default:!1},"onUpdate:floating":{type:Function},floatingDuration:{type:Number,default:250},alt:{type:String},title:{type:String},subtitle:{type:String},description:{type:String},elevation:{type:[Number,String]},ripple:{type:Boolean,default:!1},onClick:{type:Function}};function L(e,u,d,n,l,s,r){try{var i=e[s](r),t=i.value}catch(c){d(c);return}i.done?u(t):Promise.resolve(t).then(n,l)}function P(e){return function(){var u=this,d=arguments;return new Promise(function(n,l){var s=e.apply(u,d);function r(t){L(s,n,l,r,i,"next",t)}function i(t){L(s,n,l,r,i,"throw",t)}r(void 0)})}}var{n:se,classes:ue}=ae("card"),ve=500,fe=["src","alt"];function de(e,u){var d=H("var-icon"),n=H("var-button"),l=K("ripple");return X((v(),f("div",{ref:"card",class:o(e.classes(e.n(),[e.isRow,e.n("--layout-row")],[e.elevation,e.n("$-elevation--"+e.elevation),e.n("$-elevation--1")])),style:h({zIndex:e.floated?e.zIndex:void 0}),onClick:u[0]||(u[0]=function(){return e.onClick&&e.onClick(...arguments)})},[I("div",{ref:"cardFloater",class:o(e.n("floater")),style:h({width:e.floaterWidth,height:e.floaterHeight,top:e.floaterTop,left:e.floaterLeft,overflow:e.floaterOverflow,position:e.floaterPosition,transition:e.floated?"background-color "+e.floatingDuration+"ms, color "+e.floatingDuration+"ms, width "+e.floatingDuration+"ms, height "+e.floatingDuration+"ms, top "+e.floatingDuration+"ms, left "+e.floatingDuration+"ms":void 0})},[p(e.$slots,"image",{},()=>[e.src?(v(),f("img",{key:0,class:o(e.n("image")),style:h({objectFit:e.fit,height:e.toSizeUnit(e.imageHeight),width:e.toSizeUnit(e.imageWidth)}),src:e.src,alt:e.alt},null,14,fe)):g("v-if",!0)]),I("div",{class:o(e.n("container"))},[p(e.$slots,"title",{},()=>[e.title?(v(),f("div",{key:0,class:o(e.n("title"))},F(e.title),3)):g("v-if",!0)]),p(e.$slots,"subtitle",{},()=>[e.subtitle?(v(),f("div",{key:0,class:o(e.n("subtitle"))},F(e.subtitle),3)):g("v-if",!0)]),p(e.$slots,"description",{},()=>[e.description?(v(),f("div",{key:0,class:o(e.n("description"))},F(e.description),3)):g("v-if",!0)]),e.$slots.extra?(v(),f("div",{key:0,class:o(e.n("footer"))},[p(e.$slots,"extra")],2)):g("v-if",!0),e.$slots["floating-content"]&&!e.isRow?(v(),f("div",{key:1,class:o(e.n("floating-content")),style:h({height:e.contentHeight,opacity:e.opacity,transition:"opacity "+e.floatingDuration*2+"ms"})},[p(e.$slots,"floating-content")],6)):g("v-if",!0)],2),e.showFloatingButtons?(v(),f("div",{key:0,class:o(e.classes(e.n("floating-buttons"),e.n("$--box"))),style:h({zIndex:e.zIndex,opacity:e.opacity,transition:"opacity "+e.floatingDuration*2+"ms"})},[p(e.$slots,"close-button",{},()=>[V(n,{"var-card-cover":"",round:"",class:o(e.classes(e.n("close-button"),e.n("$-elevation--6"))),onClick:_(e.close,["stop"])},{default:x(()=>[V(d,{"var-card-cover":"",name:"window-close",class:o(e.n("close-button-icon"))},null,8,["class"])]),_:1},8,["class","onClick"])])],6)):g("v-if",!0)],6),I("div",{class:o(e.n("holder")),style:h({width:e.holderWidth,height:e.holderHeight})},null,6)],6)),[[l,{disabled:!e.ripple||e.floater}]])}const N=Y({render:de,name:"VarCard",directives:{Ripple:q},components:{VarIcon:A,VarButton:Q},props:re,setup(e){var u=a(null),d=a(null),n=a("auto"),l=a("auto"),s=a("100%"),r=a("100%"),i=a("auto"),t=a("auto"),c=a(void 0),w=a("hidden"),b=a("0px"),S=a("0"),k=Z(()=>e.layout==="row"),C=a(!1),D=a(!1),{zIndex:W}=ne(()=>e.floating,1);le(()=>e.floating,()=>!k.value);var $="auto",B="auto",T=null,m=a(null),U=function(){var z=P(function*(){clearTimeout(m.value),clearTimeout(T),m.value=null,m.value=setTimeout(P(function*(){var{width:R,height:j,left:G,top:M}=u.value.getBoundingClientRect();n.value=y(R),l.value=y(j),s.value=n.value,r.value=l.value,i.value=y(M),t.value=y(G),c.value="fixed",$=i.value,B=t.value,C.value=!0,yield oe(),i.value="0",t.value="0",s.value="100vw",r.value="100vh",b.value="auto",S.value="1",w.value="auto",D.value=!0}),e.ripple?ve:0)});return function(){return z.apply(this,arguments)}}(),E=()=>{clearTimeout(T),clearTimeout(m.value),m.value=null,s.value=n.value,r.value=l.value,i.value=$,t.value=B,b.value="0px",S.value="0",C.value=!1,T=setTimeout(()=>{n.value="auto",l.value="auto",s.value="100%",r.value="100%",i.value="auto",t.value="auto",$="auto",B="auto",w.value="hidden",c.value=void 0,D.value=!1},e.floatingDuration)},O=()=>{te(e["onUpdate:floating"],!1)};return J(()=>e.floating,z=>{k.value||ee(()=>{z?U():E()})},{immediate:!0}),{n:se,classes:ue,toSizeUnit:y,card:u,cardFloater:d,holderWidth:n,holderHeight:l,floater:m,floaterWidth:s,floaterHeight:r,floaterTop:i,floaterLeft:t,floaterPosition:c,floaterOverflow:w,contentHeight:b,opacity:S,zIndex:W,isRow:k,close:O,showFloatingButtons:C,floated:D}}});N.install=function(e){e.component(N.name,N)};export{N as C};
