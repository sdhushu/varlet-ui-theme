import{F as W,u as w}from"./provide.06dca14c.js";import{u as z,b as t,c as B}from"./shared.b93193ef.js";import{u as q}from"./checkbox.36b76e32.js";import{d as D,b as i,w as b,p as K,f as O,h as P,M as $,O as j,N as C,q as H,aK as p,n as I}from"./vue-router.esm-bundler.90e8925a.js";function J(e){return["horizontal","vertical"].includes(e)}var L={modelValue:{type:Array,default:()=>[]},max:{type:[String,Number]},direction:{type:String,default:"horizontal",validator:J},validateTrigger:{type:Array,default:["onChange"]},rules:{type:Array},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},{n:Q,classes:R}=B("checkbox-group");function X(e,d){var c=K("var-form-details");return O(),P("div",{class:C(e.n("wrap"))},[$("div",{class:C(e.classes(e.n(),e.n("--"+e.direction)))},[j(e.$slots,"default")],2),H(c,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const u=D({render:X,name:"VarCheckboxGroup",components:{VarFormDetails:W},props:L,setup(e){var d=i(()=>e.max),c=i(()=>e.modelValue.length),{length:y,checkboxes:l,bindCheckboxes:x}=q(),{bindForm:A}=w(),{errorMessage:v,validateWithTrigger:F,validate:G,resetValidation:s}=z(),M=i(()=>v.value),U=a=>{I(()=>{var{validateTrigger:r,rules:o,modelValue:n}=e;F(r,a,o,n)})},m=a=>{t(e["onUpdate:modelValue"],a),t(e.onChange,a),U("onChange")},N=a=>{var{modelValue:r}=e;r.includes(a)||m([...r,a])},S=a=>{var{modelValue:r}=e;!r.includes(a)||m(r.filter(o=>o!==a))},h=()=>l.forEach(a=>{var{sync:r}=a;return r(e.modelValue)}),k=()=>{l.forEach(a=>a.resetWithAnimation())},T=()=>{var a=l.map(o=>{var{checkedValue:n}=o;return n.value}),r=p(a);return k(),t(e["onUpdate:modelValue"],r),r},E=()=>{var a=l.filter(o=>{var{checked:n}=o;return!n.value}).map(o=>{var{checkedValue:n}=o;return n.value}),r=p(a);return k(),t(e["onUpdate:modelValue"],r),r},f=()=>{t(e["onUpdate:modelValue"],[]),s()},g=()=>G(e.rules,e.modelValue);b(()=>e.modelValue,h,{deep:!0}),b(()=>y.value,h);var V={max:d,checkedCount:c,onChecked:N,onUnchecked:S,validate:g,resetValidation:s,reset:f,errorMessage:M};return x(V),t(A,V),{errorMessage:v,n:Q,classes:R,checkAll:T,inverseAll:E,reset:f,validate:g,resetValidation:s}}});u.install=function(e){e.component(u.name,u)};export{u as C};
