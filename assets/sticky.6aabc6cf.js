import{a as H,y as I,l as R,c as V,e as G,V as O,z as A,B as D}from"./shared.33d42a23.js";import{d as U,a as t,b,w as $,v as q,x as J,o as K,u as Q,f as X,h as Y,M as Z,O as j,N as k,R as L}from"./vue-router.esm-bundler.d85fe05e.js";var _={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onScroll:H()};function z(e,i,u,a,s,l,o){try{var d=e[l](o),n=d.value}catch(p){u(p);return}d.done?i(n):Promise.resolve(n).then(a,s)}function W(e){return function(){var i=this,u=arguments;return new Promise(function(a,s){var l=e.apply(i,u);function o(n){z(l,a,s,o,d,"next",n)}function d(n){z(l,a,s,o,d,"throw",n)}o(void 0)})}}var{n:ee,classes:ae}=V("sticky");function ne(e,i){return X(),Y("div",{class:k(e.classes(e.n(),[e.enableCSSMode,e.n("--css-mode")])),ref:"stickyEl",style:L({zIndex:e.toNumber(e.zIndex),top:e.enableCSSMode?e.offsetTop+"px":void 0,width:e.enableFixedMode?e.fixedWidth:void 0,height:e.enableFixedMode?e.fixedHeight:void 0})},[Z("div",{class:k(e.n("wrapper")),ref:"wrapperEl",style:L({zIndex:e.toNumber(e.zIndex),position:e.enableFixedMode?"fixed":void 0,width:e.enableFixedMode?e.fixedWrapperWidth:void 0,height:e.enableFixedMode?e.fixedWrapperHeight:void 0,left:e.enableFixedMode?e.fixedLeft:void 0,top:e.enableFixedMode?e.fixedTop:void 0})},[j(e.$slots,"default")],6)],6)}const x=U({render:ne,name:"VarSticky",props:_,setup(e){var i=t(null),u=t(null),a=t(!1),s=t("0px"),l=t("0px"),o=t("auto"),d=t("auto"),n=t("auto"),p=t("auto"),E=b(()=>!e.disabled&&e.cssMode),N=b(()=>!e.disabled&&!e.cssMode&&a.value),c=b(()=>I(e.offsetTop)),f,w=()=>{var{cssMode:r,disabled:m}=e;if(!m){var h=0;if(f!==window){var{top:B}=f.getBoundingClientRect();h=B}var F=u.value,y=i.value,{top:C,left:P}=y.getBoundingClientRect(),T=C-h;return T<=c.value?(r||(o.value=y.offsetWidth+"px",d.value=y.offsetHeight+"px",s.value=h+c.value+"px",l.value=P+"px",n.value=F.offsetWidth+"px",p.value=F.offsetHeight+"px",a.value=!0),{offsetTop:c.value,isFixed:!0}):(a.value=!1,{offsetTop:T,isFixed:!1})}},v=()=>{var r=w();r&&G(e.onScroll,r.offsetTop,r.isFixed)},S=function(){var r=W(function*(){a.value=!1,yield O(),w()});return function(){return r.apply(this,arguments)}}(),g=function(){var r=W(function*(){yield A(),f=D(i.value),f!==window&&f.addEventListener("scroll",v),window.addEventListener("scroll",v),v()});return function(){return r.apply(this,arguments)}}(),M=()=>{f!==window&&f.removeEventListener("scroll",v),window.removeEventListener("scroll",v)};return $(()=>e.disabled,S),q(g),J(M),K(g),Q(M),{n:ee,classes:ae,resize:S,stickyEl:i,wrapperEl:u,isFixed:a,offsetTop:c,fixedTop:s,fixedLeft:l,fixedWidth:o,fixedHeight:d,fixedWrapperWidth:n,fixedWrapperHeight:p,enableCSSMode:E,enableFixedMode:N,toNumber:R}}});x.install=function(e){e.component(x.name,x)};export{x as S,_ as p};
