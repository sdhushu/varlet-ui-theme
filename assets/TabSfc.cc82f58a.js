import{v as ve}from"./index.a7ee3f87.js";import{G as j,r as _,q as x,H as ee,c as N,p as ue,t as de,b as A,g as ce,B as X,y as ae,Q as q}from"./shared.cb7db5ff.js";import{d as P,a as p,b as y,w as E,ai as fe,D as me,f as U,h as be,O as L,N as D,R as ne,p as re,i as W,S as R,j as pe,o as he,u as ye,G as Te,M as K,m as Se,au as Ce}from"./vue-router.esm-bundler.61b845b6.js";import{a as ge,S as we}from"./index.298c04ce.js";import{p as Be,S as Ie}from"./sticky.e4930984.js";var $e={name:{type:[String,Number]},disabled:{type:Boolean,default:!1},onClick:{type:Function}},te=Symbol("TABS_BIND_TAB_KEY"),ie=Symbol("TABS_COUNT_TAB_KEY");function Ee(){var{childProviders:e,bindChildren:n}=_(te),{length:a}=j(ie);return{length:a,tabList:e,bindTabList:n}}function Ae(){var{parentProvider:e,bindParent:n}=x(te),{index:a}=ee(ie);if(!e||!n||!a)throw Error("<var-tab/> must in <var-tabs/>");return{index:a,tabs:e,bindTabs:n}}var{n:z,classes:De}=N("tab");function ke(e,n){var a=fe("ripple");return me((U(),be("div",{class:D(e.classes(e.n(),e.n("$--box"),e.computeColorClass(),e.n("--"+e.itemDirection))),ref:"tabEl",style:ne({color:e.computeColorStyle()}),onClick:n[0]||(n[0]=function(){return e.handleClick&&e.handleClick(...arguments)})},[L(e.$slots,"default")],6)),[[a,{disabled:e.disabled}]])}const G=P({render:ke,name:"VarTab",directives:{Ripple:ve},props:$e,setup(e){var n=p(null),a=y(()=>e.name),v=y(()=>e.disabled),u=y(()=>n.value),{index:r,tabs:i,bindTabs:l}=Ae(),{onTabClick:t,active:f,activeColor:w,inactiveColor:B,disabledColor:c,itemDirection:m,resize:d}=i,T={name:a,index:r,disabled:v,element:u};l(T);var S=()=>{var{disabled:C,name:g}=e;return C?c.value:f.value===g||f.value===(r==null?void 0:r.value)?w.value:B.value},I=()=>{var{disabled:C,name:g}=e;return C?z("$-tab--disabled"):f.value===g||f.value===(r==null?void 0:r.value)?z("$-tab--active"):z("$-tab--inactive")},Y=C=>{var{disabled:g,name:k,onClick:h}=e;g||(h==null||h(k!=null?k:r.value,C),t(T))};return E(()=>e.name,d),E(()=>e.disabled,d),{n:z,classes:De,tabEl:n,active:f,activeColor:w,inactiveColor:B,itemDirection:m,computeColorStyle:S,computeColorClass:I,handleClick:Y}}});G.install=function(e){e.component(G.name,G)};var oe=Symbol("TABS_ITEMS_BIND_TAB_ITEM_KEY"),le=Symbol("TABS_ITEMS_COUNT_TAB_ITEM_KEY");function ze(){var{bindChildren:e,childProviders:n}=_(oe),{length:a}=j(le);return{length:a,tabItemList:n,bindTabItem:e}}function Ne(){var{parentProvider:e,bindParent:n}=x(oe),{index:a}=ee(le);if(!e||!n||!a)throw Error("<var-tab-item/> must in <var-tabs-items/>");return{index:a,tabsItems:e,bindTabsItems:n}}var Pe={name:{type:[String,Number]}},{n:Ue,classes:Le}=N("tab-item");function Ye(e,n){var a=re("var-swipe-item");return U(),W(a,{class:D(e.classes(e.n(),[!e.current,e.n("--inactive")])),"var-tab-item-cover":""},{default:R(()=>[e.initSlot?L(e.$slots,"default",{key:0}):pe("v-if",!0)]),_:3},8,["class"])}const H=P({render:Ye,name:"VarTabItem",components:{VarSwipeItem:ge},props:Pe,setup(e){var n=p(!1),a=p(!1),v=y(()=>e.name),{index:u,bindTabsItems:r}=Ne(),i=t=>{!a.value&&t&&(a.value=!0),n.value=t},l={index:u,name:v,setCurrent:i};return r(l),{n:Ue,classes:Le,current:n,initSlot:a}}});H.install=function(e){e.component(H.name,H)};function Q(e){return["horizontal","vertical"].includes(e)}var Me={active:{type:[String,Number],default:0},layoutDirection:{type:String,default:"horizontal",validator:Q},itemDirection:{type:String,default:"horizontal",validator:Q},fixedBottom:{type:Boolean,default:!1},activeColor:{type:String},inactiveColor:{type:String},disabledColor:{type:String},color:{type:String},indicatorColor:{type:String},indicatorSize:{type:[String,Number]},elevation:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},safeArea:{type:Boolean,default:!1},offsetTop:ue(Be,"offsetTop"),onClick:{type:Function},onChange:{type:Function},"onUpdate:active":{type:Function}};function J(e,n,a,v,u,r,i){try{var l=e[r](i),t=l.value}catch(f){a(f);return}l.done?n(t):Promise.resolve(t).then(v,u)}function Ve(e){return function(){var n=this,a=arguments;return new Promise(function(v,u){var r=e.apply(n,a);function i(t){J(r,v,u,i,l,"next",t)}function l(t){J(r,v,u,i,l,"throw",t)}i(void 0)})}}var{n:Ke,classes:Ge}=N("tabs");function He(e,n){return U(),W(Ce(e.sticky?e.n("$-sticky"):e.Transition),{"offset-top":e.sticky?e.offsetTop:null},{default:R(()=>[K("div",Se({class:e.classes(e.n(),e.n("$--box"),e.n("--item-"+e.itemDirection),e.n("--layout-"+e.layoutDirection+"-padding"),[e.elevation,e.n("$-elevation--4")],[e.fixedBottom,e.n("--fixed-bottom")],[e.safeArea,e.n("--safe-area")]),style:{background:e.color}},e.$attrs),[K("div",{ref:"scrollerEl",class:D(e.classes(e.n("tab-wrap"),[e.scrollable,e.n("--layout-"+e.layoutDirection+"-scrollable")],e.n("--layout-"+e.layoutDirection)))},[L(e.$slots,"default"),K("div",{class:D(e.classes(e.n("indicator"),e.n("--layout-"+e.layoutDirection+"-indicator"))),style:ne({width:e.layoutDirection==="horizontal"?e.indicatorWidth:e.toSizeUnit(e.indicatorSize),height:e.layoutDirection==="horizontal"?e.toSizeUnit(e.indicatorSize):e.indicatorHeight,transform:e.layoutDirection==="horizontal"?"translateX("+e.indicatorX+")":"translateY("+e.indicatorY+")",background:e.indicatorColor||e.activeColor})},null,6)],2)],16)]),_:3},8,["offset-top"])}const F=P({render:He,name:"VarTabs",components:{VarSticky:Ie},inheritAttrs:!1,props:Me,setup(e){var n=p("0px"),a=p("0px"),v=p("0px"),u=p("0px"),r=p(!1),i=p(null),l=y(()=>e.active),t=y(()=>e.activeColor),f=y(()=>e.inactiveColor),w=y(()=>e.disabledColor),B=y(()=>e.itemDirection),{tabList:c,bindTabList:m,length:d}=Ee(),T=s=>{var b,o=(b=s.name.value)!=null?b:s.index.value,{active:$,onChange:M,onClick:V}=e;A(e["onUpdate:active"],o),A(V,o),o!==$&&A(M,o)},S=()=>c.find(s=>{var{name:b}=s;return e.active===b.value}),I=s=>c.find(b=>{var{index:o}=b;return(s!=null?s:e.active)===o.value}),Y=()=>{if(d.value!==0){var{active:s}=e;if(ce(s)){var b=s>d.value-1?d.value-1:0;return A(e["onUpdate:active"],b),I(b)}}},C=()=>{r.value=c.length>=5},g=s=>{var{element:b}=s,o=b.value;e.layoutDirection==="horizontal"?(n.value=(o==null?void 0:o.offsetWidth)+"px",v.value=(o==null?void 0:o.offsetLeft)+"px"):(a.value=(o==null?void 0:o.offsetHeight)+"px",u.value=(o==null?void 0:o.offsetTop)+"px")},k=s=>{var{element:b}=s;if(!!r.value){var o=i.value,$=b.value;if(e.layoutDirection==="horizontal"){var M=$.offsetLeft+$.offsetWidth/2-o.offsetWidth/2;X(o,{left:M,animation:q})}else{var V=$.offsetTop+$.offsetHeight/2-o.offsetHeight/2;X(o,{top:V,animation:q})}}},h=()=>{var s=S()||I()||Y();!s||s.disabled.value||(C(),g(s),k(s))},se={active:l,activeColor:t,inactiveColor:f,disabledColor:w,itemDirection:B,resize:h,onTabClick:T};return m(se),E(()=>d.value,Ve(function*(){yield ae(),h()})),E(()=>e.active,h),he(()=>window.addEventListener("resize",h)),ye(()=>window.removeEventListener("resize",h)),{indicatorWidth:n,indicatorHeight:a,indicatorX:v,indicatorY:u,scrollable:r,scrollerEl:i,Transition:Te,toSizeUnit:de,n:Ke,classes:Ge,resize:h}}});F.install=function(e){e.component(F.name,F)};var Fe={active:{type:[String,Number],default:0},canSwipe:{type:Boolean,default:!0},loop:{type:Boolean,default:!1},"onUpdate:active":{type:Function}};function Z(e,n,a,v,u,r,i){try{var l=e[r](i),t=l.value}catch(f){a(f);return}l.done?n(t):Promise.resolve(t).then(v,u)}function Oe(e){return function(){var n=this,a=arguments;return new Promise(function(v,u){var r=e.apply(n,a);function i(t){Z(r,v,u,i,l,"next",t)}function l(t){Z(r,v,u,i,l,"throw",t)}i(void 0)})}}var{n:We}=N("tabs-items");function Re(e,n){var a=re("var-swipe");return U(),W(a,{class:D(e.n()),ref:"swipe",loop:e.loop,touchable:e.canSwipe,indicator:!1,onChange:e.handleSwipeChange},{default:R(()=>[L(e.$slots,"default")]),_:3},8,["class","loop","touchable","onChange"])}const O=P({render:Re,name:"VarTabsItems",components:{VarSwipe:we},props:Fe,setup(e){var n=p(null),{tabItemList:a,bindTabItem:v,length:u}=ze(),r=c=>a.find(m=>{var{name:d}=m;return c===d.value}),i=c=>a.find(m=>{var{index:d}=m;return c===d.value}),l=c=>r(c)||i(c),t=c=>{var m,d=l(c);!d||(a.forEach(T=>{var{setCurrent:S}=T;return S(!1)}),d.setCurrent(!0),(m=n.value)==null||m.to(d.index.value))},f=c=>{var m,d=a.find(S=>{var{index:I}=S;return I.value===c}),T=(m=d.name.value)!=null?m:d.index.value;A(e["onUpdate:active"],T)},w=()=>n.value,B={};return v(B),E(()=>e.active,t),E(()=>u.value,Oe(function*(){yield ae(),t(e.active)})),{swipe:n,n:We,handleSwipeChange:f,getSwipe:w}}});O.install=function(e){e.component(O.name,O)};export{G as T,F as a,H as b,O as c};
