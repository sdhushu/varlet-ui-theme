import{a as f,j as P,n as l,e as t,c as W}from"./shared-5ab78452.js";import{F as q,u as E}from"./provide-c186acaf.js";import{L as $}from"./index-4f7e8770.js";import{v as G}from"./index-1a189d73.js";import{d as H,b as w,p as k,ag as I,f as g,h as S,M as h,R as m,N as u,D as J,i as K,j as O,q as Q,n as X}from"./vue-router.esm-bundler-0540ad65.js";var Y={modelValue:{default:!1},activeValue:{default:!0},inactiveValue:{default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},color:{type:String},loadingColor:{type:String},closeColor:{type:String},size:{type:[String,Number]},rules:{type:Array},ripple:{type:Boolean,default:!0},onClick:f(),onChange:f(),"onUpdate:modelValue":f()},{n:Z,classes:_}=W("switch");function x(e,v){var r=k("var-loading"),s=k("var-form-details"),c=I("ripple");return g(),S("div",{class:u(e.n())},[h("div",{class:u(e.classes(e.n("block"),[e.disabled||e.formDisabled,e.n("--disabled")])),onClick:v[0]||(v[0]=function(){return e.switchActive&&e.switchActive(...arguments)}),style:m(e.styleComputed.switch)},[h("div",{style:m(e.styleComputed.track),class:u(e.classes(e.n("track"),[e.modelValue===e.activeValue,e.n("track--active")],[e.errorMessage,e.n("track--error")]))},null,6),J((g(),S("div",{class:u(e.classes(e.n("ripple"),[e.modelValue===e.activeValue,e.n("ripple--active")])),style:m(e.styleComputed.ripple)},[h("div",{style:m(e.styleComputed.handle),class:u(e.classes(e.n("handle"),e.n("$-elevation--2"),[e.modelValue===e.activeValue,e.n("handle--active")],[e.errorMessage,e.n("handle--error")]))},[e.loading?(g(),K(r,{key:0,radius:e.radius,color:"currentColor"},null,8,["radius"])):O("v-if",!0)],6)],6)),[[c,{disabled:!e.ripple||e.disabled||e.loading||e.formDisabled}]])],6),Q(s,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var B=H({name:"VarSwitch",components:{VarLoading:$,VarFormDetails:q},directives:{Ripple:G},props:Y,setup(e){var{bindForm:v,form:r}=E(),{errorMessage:s,validateWithTrigger:c,validate:D,resetValidation:y}=P(),z=()=>D(e.rules,e.modelValue),M=()=>X(()=>c(["onChange"],"onChange",e.rules,e.modelValue)),N=w(()=>{var{size:a,modelValue:i,color:n,closeColor:d,loadingColor:p,activeValue:o}=e;return{handle:{width:l(a),height:l(a),backgroundColor:i===o?n:d,color:p},ripple:{left:i===o?l(a,.5):"-"+l(a,.5),color:i===o?n:d||"#999",width:l(a,2),height:l(a,2)},track:{height:l(a,.72),width:l(a,1.9),borderRadius:l(a,2/3),filter:i===o||s!=null&&s.value?void 0:"brightness(.6)",backgroundColor:i===o?n:d},switch:{height:l(a,1.2),width:l(a,2)}}}),F=w(()=>{var{size:a="5.333vw"}=e;return l(a,.4)}),R=a=>{var{onClick:i,onChange:n,disabled:d,loading:p,readonly:o,modelValue:U,activeValue:C,inactiveValue:T,"onUpdate:modelValue":j}=e;if(t(i,a),!(d||p||o||r!=null&&r.disabled.value||r!=null&&r.readonly.value)){var b=U===C?T:C;t(n,b),t(j,b),M()}},A=()=>{t(e["onUpdate:modelValue"],e.inactiveValue),y()},L={reset:A,validate:z,resetValidation:y};return t(v,L),{n:Z,classes:_,switchActive:R,radius:F,styleComputed:N,errorMessage:s,formDisabled:r==null?void 0:r.disabled,formReadonly:r==null?void 0:r.readonly}}});B.render=x;const V=B;V.install=function(e){e.component(V.name,V)};export{V as S};
