import{I as Y}from"./index-59b46fed.js";import{F as q,u as L}from"./provide-982d6f56.js";import{v as J}from"./index-c5f09b40.js";import{a as Q,H as Z,u as _}from"./index-fe11295e.js";import{a as b,u as x,n as ee,e as d,c as ae}from"./shared-128c81f0.js";import{u as re}from"./useChildren-57fd1ce4.js";import{d as oe,a as O,b as D,w as le,p as f,ag as S,f as H,h as N,M as E,D as ne,N as u,R as ie,O as g,q as t,n as se}from"./vue-router.esm-bundler-fa266481.js";var de={modelValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedValue:{type:[String,Number,Boolean,Object,Array],default:!0},uncheckedValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedColor:{type:String},uncheckedColor:{type:String},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},iconSize:{type:[String,Number]},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:["onChange"]},rules:{type:Array},onClick:b(),onChange:b(),"onUpdate:modelValue":b()},G=Symbol("CHECKBOX_GROUP_BIND_CHECKBOX_KEY");function pe(){var{bindChildren:e,childProviders:r,length:l}=re(G);return{length:l,checkboxes:r,bindCheckboxes:e}}function ue(){var{bindParent:e,parentProvider:r,index:l}=x(G);return{index:l,checkboxGroup:r,bindCheckboxGroup:e}}var{n:ve,classes:ce}=ae("checkbox");function te(e,r){var l=f("var-icon"),h=f("var-hover-overlay"),v=f("var-form-details"),n=S("hover"),m=S("ripple");return H(),N("div",{class:u(e.n("wrap")),onClick:r[0]||(r[0]=function(){return e.handleClick&&e.handleClick(...arguments)})},[E("div",{class:u(e.n())},[ne((H(),N("div",{class:u(e.classes(e.n("action"),[e.checked,e.n("--checked"),e.n("--unchecked")],[e.errorMessage||e.checkboxGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:ie({color:e.checked?e.checkedColor:e.uncheckedColor})},[e.checked?g(e.$slots,"checked-icon",{key:0},()=>[t(l,{class:u(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),name:"checkbox-marked",size:e.iconSize,"var-checkbox-cover":""},null,8,["class","size"])]):g(e.$slots,"unchecked-icon",{key:1},()=>[t(l,{class:u(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),name:"checkbox-blank-outline",size:e.iconSize,"var-checkbox-cover":""},null,8,["class","size"])]),t(h,{hovering:!e.disabled&&!e.formDisabled&&e.hovering},null,8,["hovering"])],6)),[[n,e.handleHovering,"desktop"],[m,{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple}]]),E("div",{class:u(e.classes(e.n("text"),[e.errorMessage||e.checkboxGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")]))},[g(e.$slots,"default")],2)],2),t(v,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var w=oe({name:"VarCheckbox",directives:{Ripple:J,Hover:Q},components:{VarIcon:Y,VarFormDetails:q,VarHoverOverlay:Z},props:de,setup(e){var r=O(!1),l=D(()=>r.value===e.checkedValue),h=D(()=>e.checkedValue),v=O(!1),{checkboxGroup:n,bindCheckboxGroup:m}=ue(),{hovering:z,handleHovering:A}=_(),{form:s,bindForm:M}=L(),{errorMessage:P,validateWithTrigger:R,validate:K,resetValidation:k}=ee(),U=a=>{se(()=>{var{validateTrigger:o,rules:i,modelValue:c}=e;R(o,a,i,c)})},p=a=>{r.value=a;var{checkedValue:o,onChange:i}=e;d(e["onUpdate:modelValue"],r.value),d(i,r.value),U("onChange"),a===o?n==null||n.onChecked(o):n==null||n.onUnchecked(o)},F=a=>{var{disabled:o,readonly:i,checkedValue:c,uncheckedValue:j,onClick:W}=e;if(!(s!=null&&s.disabled.value||o)&&(d(W,a),!(s!=null&&s.readonly.value||i))){v.value=!0;var $=n?n.checkedCount.value>=Number(n.max.value):!1;!l.value&&$||p(l.value?j:c)}},I=a=>{var{checkedValue:o,uncheckedValue:i}=e;r.value=a.includes(o)?o:i},T=()=>{v.value=!1},y=()=>{d(e["onUpdate:modelValue"],e.uncheckedValue),k()},X=a=>{var{checkedValue:o,uncheckedValue:i}=e,c=![o,i].includes(a);c&&(a=l.value?i:o),p(a)},V=()=>K(e.rules,e.modelValue);le(()=>e.modelValue,a=>{r.value=a},{immediate:!0});var B={checkedValue:h,checked:l,sync:I,validate:V,resetValidation:k,reset:y,resetWithAnimation:T};return d(m,B),d(M,B),{withAnimation:v,checked:l,errorMessage:P,checkboxGroupErrorMessage:n==null?void 0:n.errorMessage,formDisabled:s==null?void 0:s.disabled,formReadonly:s==null?void 0:s.readonly,hovering:z,handleHovering:A,n:ve,classes:ce,handleClick:F,toggle:X,reset:y,validate:V,resetValidation:k}}});w.render=te;const C=w;C.install=function(e){e.component(C.name,C)};export{C,pe as u};
