import{e as E,r as ut,v as dt,w as ct,a as G,t as N,c as Q}from"./shared-5ab78452.js";import{aw as ft,aH as X,X as vt,W as pt,d as q,a as C,o as gt,aj as mt,ag as ht,f as A,h as _,F as K,D as yt,N as L,R as S,O as J,b as zt,ac as At,aE as _t,q as r,S as o,ao as a,P as f,Q as g,aF as y,M as j}from"./vue-router.esm-bundler-0540ad65.js";import{I as H}from"./index-f2f1ba46.js";import{I as Et}from"./input-2b9e9cad.js";import{S as c}from"./index-f4d50f63.js";import{d as bt}from"./index-404bdbb6.js";import{p as z,u as Lt}from"./index-b4086ad8.js";import{u as St}from"./sync-968c6b91.js";/* empty css              *//* empty css             */import"./IconSfc-4ed993c7.js";/* empty css                    */import"./InputSfc-4ed993c7.js";import"./_commonjsHelpers-725317a4.js";import"./provide-c186acaf.js";import"./index-5326559b.js";function Y(t,e,n,i,d,v,p){try{var m=t[v](p),u=m.value}catch(h){n(h);return}m.done?e(u):Promise.resolve(u).then(i,d)}function $(t){return function(){var e=this,n=arguments;return new Promise(function(i,d){var v=t.apply(e,n);function p(u){Y(v,i,d,p,m,"next",u)}function m(u){Y(v,i,d,p,m,"throw",u)}p(void 0)})}}function O(){return O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},O.apply(this,arguments)}var kt="background-image",jt="lazy-loading",wt="lazy-error",Z="lazy-attempt",Ct=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],W="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",b=[],V=[],x=ct(100),s={loading:W,error:W,attempt:3,throttleWait:300,events:Ct},D=X(w,s.throttleWait);function I(t,e){t._lazy.arg===kt?t.style.backgroundImage="url("+e+")":t.setAttribute("src",e)}function Vt(t){t._lazy.loading&&I(t,t._lazy.loading),w()}function $t(t){t._lazy.error&&I(t,t._lazy.error),t._lazy.state="error",U(t),w()}function tt(t,e){I(t,e),t._lazy.state="success",U(t),w()}function It(t){var e;V.includes(t)||(V.push(t),(e=s.events)==null||e.forEach(n=>{t.addEventListener(n,D,{passive:!0})}))}function Gt(){V.forEach(t=>{var e;(e=s.events)==null||e.forEach(n=>{t.removeEventListener(n,D)})}),V.length=0}function Nt(t,e){var n,i,d={loading:(n=t.getAttribute(jt))!=null?n:s.loading,error:(i=t.getAttribute(wt))!=null?i:s.error,attempt:t.getAttribute(Z)?Number(t.getAttribute(Z)):s.attempt};t._lazy=O({src:e.value,arg:e.arg,currentAttempt:0,state:"pending",attemptLock:!1},d),I(t,W),E(s.filter,t._lazy)}function Ot(t,e){var n=new Image;n.src=e,t._lazy.preloadImage=n,n.addEventListener("load",()=>{t._lazy.attemptLock=!1,x.add(e),tt(t,e)}),n.addEventListener("error",()=>{t._lazy.attemptLock=!1,t._lazy.currentAttempt>=t._lazy.attempt?$t(t):et(t)})}function et(t){if(!t._lazy.attemptLock){t._lazy.attemptLock=!0,t._lazy.currentAttempt++;var{src:e}=t._lazy;if(x.has(e)){tt(t,e),t._lazy.attemptLock=!1;return}Vt(t),Ot(t,e)}}function M(t){return B.apply(this,arguments)}function B(){return B=$(function*(t){(yield ut(t))&&et(t)}),B.apply(this,arguments)}function w(){b.forEach(t=>M(t))}function Wt(t){return P.apply(this,arguments)}function P(){return P=$(function*(t){!b.includes(t)&&b.push(t),dt(t).forEach(It),yield M(t)}),P.apply(this,arguments)}function U(t){ft(b,t),b.length===0&&Gt()}function Bt(t,e){var{src:n,arg:i}=t._lazy;return n!==e.value||i!==e.arg}function at(t,e){return R.apply(this,arguments)}function R(){return R=$(function*(t,e){Nt(t,e),yield Wt(t)}),R.apply(this,arguments)}function Pt(t,e){return T.apply(this,arguments)}function T(){return T=$(function*(t,e){if(!Bt(t,e)){b.includes(t)&&(yield M(t));return}yield at(t,e)}),T.apply(this,arguments)}function Rt(t){t===void 0&&(t={});var{events:e,loading:n,error:i,attempt:d,throttleWait:v,filter:p}=t;s.events=e??s.events,s.loading=n??s.loading,s.error=i??s.error,s.attempt=d??s.attempt,s.throttleWait=v??s.throttleWait,s.filter=p}var Tt={mounted:at,unmounted:U,updated:Pt,install(t,e){Rt(e),D=X(w,s.throttleWait),t.directive("lazy",this)}};const Dt=Tt;function Mt(t){return["fill","contain","cover","none","scale-down"].includes(t)}var rt=t=>["mini","small","normal","large"].includes(t);function nt(t){return rt(t)||vt(t)||pt(t)}var Ut={round:{type:Boolean,default:!0},size:{type:[String,Number],validator:nt,default:"normal"},color:{type:String},src:{type:String},fit:{type:String,validator:Mt,default:"cover"},bordered:{type:Boolean,default:!1},borderColor:{type:String},loading:{type:String},error:{type:String},lazy:{type:Boolean,default:!1},onClick:G(),onLoad:G(),onError:G()},{n:Ft,classes:Ht}=Q("avatar"),Yt=["src","lazy-loading","lazy-error"],Zt=["src"];function Qt(t,e){var n=ht("lazy");return A(),_("div",{ref:"avatarElement",class:L(t.classes(t.n(),t.n("$--box"),[t.internalSizeValidator(t.size),t.n("--"+t.size)],[t.round,t.n("--round")],[t.bordered,t.n("--bordered")])),style:S({width:t.internalSizeValidator(t.size)?void 0:t.toSizeUnit(t.size),height:t.internalSizeValidator(t.size)?void 0:t.toSizeUnit(t.size),borderColor:t.borderColor,backgroundColor:t.color}),onClick:e[3]||(e[3]=function(){return t.handleClick&&t.handleClick(...arguments)})},[t.src?(A(),_(K,{key:0},[t.lazy?yt((A(),_("img",{key:0,class:L(t.n("image")),src:t.src,style:S({objectFit:t.fit}),"lazy-loading":t.loading,"lazy-error":t.error,onLoad:e[0]||(e[0]=function(){return t.handleLoad&&t.handleLoad(...arguments)})},null,46,Yt)),[[n,t.src]]):(A(),_("img",{key:1,class:L(t.n("image")),src:t.src,style:S({objectFit:t.fit}),onLoad:e[1]||(e[1]=function(){return t.handleLoad&&t.handleLoad(...arguments)}),onError:e[2]||(e[2]=function(){return t.handleError&&t.handleError(...arguments)})},null,46,Zt))],2112)):(A(),_("div",{key:1,ref:"textElement",class:L(t.n("text")),style:S({transform:"scale("+t.scale+")"})},[J(t.$slots,"default")],6))],6)}var lt=q({name:"VarAvatar",directives:{Lazy:Dt},props:Ut,setup(t){var e=C(null),n=C(null),i=C(1),d=()=>{if(!e.value||!n.value){i.value=1;return}var u=e.value.offsetWidth,h=n.value.offsetWidth;u>h?i.value=1:i.value=u/h},v=u=>{var h=u.currentTarget,{lazy:it,onLoad:F,onError:st}=t;it?(h._lazy.state==="success"&&E(F,u),h._lazy.state==="error"&&E(st,u)):E(F,u)},p=u=>{E(t.onError,u)},m=u=>{E(t.onClick,u)};return gt(d),mt(d),{internalSizeValidator:rt,sizeValidator:nt,toSizeUnit:N,n:Ft,classes:Ht,avatarElement:e,textElement:n,scale:i,handleLoad:v,handleError:p,handleClick:m}}});lt.render=Qt;const l=lt;l.install=function(t){t.component(l.name,l)};var Xt={offset:{type:[Number,String]},vertical:{type:Boolean,default:!1}},{n:qt,classes:Kt}=Q("avatar-group");function Jt(t,e){return A(),_("div",{class:L(t.classes(t.n(),[t.vertical,t.n("--column"),t.n("--row")])),style:S(t.rootStyles)},[J(t.$slots,"default")],6)}var ot=q({name:"VarAvatarGroup",props:Xt,setup(t){var e=zt(()=>t.offset==null?{}:{"--avatar-group-offset":N(t.offset)});return{n:qt,classes:Kt,toSizeUnit:N,rootStyles:e}}});ot.render=Jt;const k=ot;k.install=function(t){t.component(k.name,k)};const xt=j("span",null,"cover",-1),te=j("span",null,"fill",-1),ee=j("span",null,"contain",-1),ae=j("span",null,"none",-1),re=j("span",null,"scale-down",-1),ne=f("+2"),le=f("+2"),Ee={setup(t){const e=C("VARLET");return At(Lt),_t(bt),St(),(n,i)=>(A(),_(K,null,[r(a(y),null,{default:o(()=>[f(g(a(z).avatarSize),1)]),_:1}),r(a(c),{align:"center"},{default:o(()=>[r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat.jpg",size:"mini"}),r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat.jpg",size:"small"}),r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat.jpg"}),r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat.jpg",size:"large"}),r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat.jpg",size:"21vw"})]),_:1}),r(a(y),null,{default:o(()=>[f(g(a(z).avatarShape),1)]),_:1}),r(a(c),null,{default:o(()=>[r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat.jpg"}),r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat.jpg",round:!1})]),_:1}),r(a(y),null,{default:o(()=>[f(g(a(z).fitMode),1)]),_:1}),r(a(c),null,{default:o(()=>[r(a(c),{direction:"column",align:"center"},{default:o(()=>[r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat.jpg"}),xt]),_:1}),r(a(c),{direction:"column",align:"center"},{default:o(()=>[r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat.jpg",fit:"fill"}),te]),_:1}),r(a(c),{direction:"column",align:"center"},{default:o(()=>[r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat.jpg",fit:"contain"}),ee]),_:1}),r(a(c),{direction:"column",align:"center"},{default:o(()=>[r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat.jpg",fit:"none"}),ae]),_:1}),r(a(c),{direction:"column",align:"center"},{default:o(()=>[r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat.jpg",fit:"scale-down"}),re]),_:1})]),_:1}),r(a(y),null,{default:o(()=>[f(g(a(z).fontSize),1)]),_:1}),r(a(c),{direction:"column"},{default:o(()=>[r(a(c),null,{default:o(()=>[r(a(l),null,{default:o(()=>[f(g(e.value),1)]),_:1}),r(a(l),{round:!1},{default:o(()=>[f(g(e.value),1)]),_:1})]),_:1}),r(a(Et),{modelValue:e.value,"onUpdate:modelValue":i[0]||(i[0]=d=>e.value=d)},null,8,["modelValue"])]),_:1}),r(a(y),null,{default:o(()=>[f(g(a(z).backgroundColor),1)]),_:1}),r(a(c),null,{default:o(()=>[r(a(l),{color:"#4a79f5"},{default:o(()=>[r(a(H),{name:"fire"})]),_:1}),r(a(l),{round:!1,color:"#eb5a3f"},{default:o(()=>[r(a(H),{name:"fire"})]),_:1})]),_:1}),r(a(y),null,{default:o(()=>[f(g(a(z).avatarHorizontalGroup),1)]),_:1}),r(a(k),null,{default:o(()=>[r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat.jpg",bordered:""}),r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat2.jpg",bordered:""}),r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat3.jpg",bordered:""}),r(a(l),{bordered:""},{default:o(()=>[ne]),_:1})]),_:1}),r(a(y),null,{default:o(()=>[f(g(a(z).avatarVerticalGroup),1)]),_:1}),r(a(k),{vertical:""},{default:o(()=>[r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat.jpg",bordered:""}),r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat2.jpg",bordered:""}),r(a(l),{src:"https://varlet.gitee.io/varlet-ui/cat3.jpg",bordered:""}),r(a(l),{bordered:""},{default:o(()=>[le]),_:1})]),_:1})],64))}};export{Ee as default};
