import{v as b}from"./index.38f8c4d5.js";import{p as s,L as h}from"./index.b51730c4.js";import{p as d,a as g,c,e as v,g as B}from"./shared.33d42a23.js";import{d as C,a as k,p as T,ai as z,D as S,f as m,h as L,i as V,N as u,j as $,M as N,O,R}from"./vue-router.esm-bundler.d85fe05e.js";function f(){return f=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e},f.apply(this,arguments)}function j(e){return["default","primary","info","success","warning","danger"].includes(e)}function P(e){return["normal","mini","small","large"].includes(e)}function w(e){return["button","reset","submit"].includes(e)}var D={type:{type:String,default:"default",validator:j},nativeType:{type:String,default:"button",validator:w},size:{type:String,default:"normal",validator:P},loading:{type:Boolean,default:!1},round:{type:Boolean,default:!1},block:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ripple:{type:Boolean,default:!0},color:{type:String},textColor:{type:String},autoLoading:{type:Boolean,default:!1},loadingRadius:{type:[Number,String]},loadingType:d(s,"type"),loadingSize:d(s,"size"),loadingColor:f({},d(s,"color"),{default:"currentColor"}),onClick:g(),onTouchstart:g()},{n:A,classes:E}=c("button"),M=["type","disabled"];function q(e,a){var o=T("var-loading"),l=z("ripple");return S((m(),L("button",{class:u(e.classes(e.n(),e.n("$--box"),e.n("--"+e.size),[e.block,e.n("$--flex")+" "+e.n("--block"),e.n("$--inline-flex")],[e.disabled,e.n("--disabled")],[e.text,e.n("--text-"+e.type)+" "+e.n("--text"),e.n("--"+e.type)+" "+e.n("$-elevation--2")],[e.text&&e.disabled,e.n("--text-disabled")],[e.round,e.n("--round")],[e.outline,e.n("--outline")])),style:R({color:e.textColor,background:e.color}),type:e.nativeType,disabled:e.disabled,onClick:a[0]||(a[0]=function(){return e.handleClick&&e.handleClick(...arguments)}),onTouchstart:a[1]||(a[1]=function(){return e.handleTouchstart&&e.handleTouchstart(...arguments)})},[e.loading||e.pending?(m(),V(o,{key:0,class:u(e.n("loading")),"var-button-cover":"",color:e.loadingColor,type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","color","type","size","radius"])):$("v-if",!0),N("div",{class:u(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[O(e.$slots,"default")],2)],46,M)),[[l,{disabled:e.disabled||!e.ripple}]])}const p=C({render:q,name:"VarButton",components:{VarLoading:h},directives:{Ripple:b},props:D,setup(e){var a=k(!1),o=n=>{e.autoLoading&&(a.value=!0,n=B(n)?n:[n],Promise.all(n).then(()=>{a.value=!1}).catch(()=>{a.value=!1}))},l=n=>{var{loading:r,disabled:t,onClick:i}=e;!i||r||t||a.value||o(v(i,n))},y=n=>{var{loading:r,disabled:t,onTouchstart:i}=e;!i||r||t||a.value||o(v(i,n))};return{n:A,classes:E,pending:a,handleClick:l,handleTouchstart:y}}});p.install=function(e){e.component(p.name,p)};export{p as B};
