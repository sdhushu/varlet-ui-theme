import{d as j,a as Q,b as N,w as V,p as h,D as Z,E as J,f as y,h as W,M as S,N as v,O as b,P as B,Q as q,i as C,j as L,R as P,q as O,S as k,m as w,G as X,T as x,r as z,Y as ee,C as ne}from"./vue-router.esm-bundler-fa266481.js";import{p as m,L as ae}from"./index-d8f4ea61.js";import{I as te}from"./index-59b46fed.js";import{u as oe}from"./zIndex-408b14a1.js";import{p as g,a as c,e as l,o as re,c as D,q as ie,m as se,r as le,h as de,k as U}from"./shared-128c81f0.js";import{C as ue}from"./index-085596df.js";import{u as ce}from"./lock-aaaeaa52.js";function E(){return E=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},E.apply(this,arguments)}function pe(e){var n=["top","center","bottom"];return n.includes(e)}function fe(e){return A.includes(e)}var G={type:{type:String,validator:fe},position:{type:String,default:"top",validator:pe},content:{type:String},contentClass:{type:String},duration:{type:Number,default:3e3},vertical:{type:Boolean,default:!1},loadingType:g(m,"type"),loadingSize:g(m,"size"),loadingRadius:g(m,"radius"),loadingColor:E({},g(m,"color"),{default:"currentColor"}),lockScroll:{type:Boolean,default:!1},show:{type:Boolean,default:!1},teleport:{type:String,default:"body"},forbidClick:{type:Boolean,default:!1},onOpen:c(),onOpened:c(),onClose:c(),onClosed:c(),"onUpdate:show":c(),_update:{type:String}},{n:ve,classes:me}=D("snackbar"),ge={success:"checkbox-marked-circle",warning:"warning",info:"information",error:"error",loading:""};function ye(e,n){var a=h("var-icon"),t=h("var-loading");return Z((y(),W("div",{class:v(e.n()),style:P({pointerEvents:e.isForbidClick?"auto":"none",zIndex:e.zIndex})},[S("div",{class:v(e.classes(e.n("wrapper"),e.n("wrapper-"+e.position),e.n("$-elevation--4"),[e.vertical,e.n("vertical")],[e.type&&e.SNACKBAR_TYPE.includes(e.type),e.n("wrapper-"+e.type)])),style:P({zIndex:e.zIndex})},[S("div",{class:v([e.n("content"),e.contentClass])},[b(e.$slots,"default",{},()=>[B(q(e.content),1)])],2),S("div",{class:v(e.n("action"))},[e.iconName?(y(),C(a,{key:0,name:e.iconName},null,8,["name"])):L("v-if",!0),e.type==="loading"?(y(),C(t,{key:1,type:e.loadingType,size:e.loadingSize,color:e.loadingColor,radius:e.loadingRadius},null,8,["type","size","color","radius"])):L("v-if",!0),b(e.$slots,"action")],2)],6)],6)),[[J,e.show]])}var M=j({name:"VarSnackbarCore",components:{VarLoading:ae,VarIcon:te},props:G,setup(e){var n=Q(null),{zIndex:a}=oe(()=>e.show,1);ce(()=>e.show,()=>e.lockScroll);var t=N(()=>e.type==="loading"||e.forbidClick),r=N(()=>e.type?ge[e.type]:""),s=()=>{n.value=setTimeout(()=>{e.type!=="loading"&&l(e["onUpdate:show"],!1)},e.duration)};return V(()=>e.show,f=>{f?(l(e.onOpen),s()):f===!1&&(clearTimeout(n.value),l(e.onClose))}),V(()=>e._update,()=>{clearTimeout(n.value),s()}),re(()=>{e.show&&(l(e.onOpen),s())}),{SNACKBAR_TYPE:A,n:ve,classes:me,zIndex:a,iconName:r,isForbidClick:t}}});M.render=ye;const R=M;var{n:be}=D("snackbar");function Oe(e,n){var a=h("var-snackbar-core");return y(),C(x,{to:e.teleport,disabled:e.disabled},[O(X,{name:e.n()+"-fade",onAfterEnter:e.onOpened,onAfterLeave:e.onClosed},{default:k(()=>[O(a,w(e.$props,{class:e.n("transition")}),{action:k(()=>[b(e.$slots,"action")]),default:k(()=>[b(e.$slots,"default",{},()=>[B(q(e.content),1)])]),_:3},16,["class"])]),_:3},8,["name","onAfterEnter","onAfterLeave"])],8,["to","disabled"])}var Y=j({name:"VarSnackbar",components:{VarSnackbarCore:R},props:G,setup(){var{disabled:e}=ie();return{n:be,disabled:e}}});Y.render=Oe;const d=Y;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},p.apply(this,arguments)}function Se(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ne(e)}var A=["loading","success","warning","info","error"],$=0,T=!1,_,u=!1,F={type:void 0,content:"",position:"top",duration:3e3,vertical:!1,contentClass:void 0,loadingType:"circle",loadingSize:"normal",lockScroll:!1,teleport:"body",forbidClick:!1,onOpen:()=>{},onOpened:()=>{},onClose:()=>{},onClosed:()=>{}},o=z([]),I=F,ke={name:"var-snackbar-fade",tag:"div",class:"var-transition-group"},he={setup(){return()=>{var e=o.map(n=>{var{id:a,reactiveSnackOptions:t,_update:r}=n,s=document.querySelector(".var-transition-group");t.forbidClick||t.type==="loading"?s.classList.add("var-pointer-auto"):s.classList.remove("var-pointer-auto"),u&&(t.position="top");var f=u?"relative":"absolute",K=p({position:f},Ae(t.position));return O(R,w(t,{key:a,style:K,"data-id":a,_update:r,show:t.show,"onUpdate:show":H=>t.show=H}),null)});return O(ee,w(ke,{style:{zIndex:ue.zIndex},onAfterEnter:Ce,onAfterLeave:we}),Se(e)?e:{default:()=>[e]})}}},i=function(e){var n=Te(e),a=z(p({},I,n));a.show=!0,T||(T=!0,_=se(he).unmountInstance);var{length:t}=o,r={id:$++,reactiveSnackOptions:a};if(t===0||u)Ee(r);else{var s="update-"+$;ze(a,s)}return{clear(){!u&&o.length?o[0].reactiveSnackOptions.show=!1:a.show=!1}}};A.forEach(e=>{i[e]=n=>(le(n)?n.type=e:n={content:n,type:e},i(n))});i.install=function(e){e.component(d.name,d)};i.allowMultiple=function(e){e===void 0&&(e=!1),e!==u&&(o.forEach(n=>{n.reactiveSnackOptions.show=!1}),u=e)};i.clear=function(){o.forEach(e=>{e.reactiveSnackOptions.show=!1})};i.setDefaultOptions=function(e){I=e};i.resetDefaultOptions=function(){I=F};i.Component=d;function Ce(e){var n=e.getAttribute("data-id"),a=o.find(t=>t.id===U(n));a&&l(a.reactiveSnackOptions.onOpened)}function we(e){e.parentElement&&e.parentElement.classList.remove("var-pointer-auto");var n=e.getAttribute("data-id"),a=o.find(r=>r.id===U(n));a&&(a.animationEnd=!0,l(a.reactiveSnackOptions.onClosed));var t=o.every(r=>r.animationEnd);t&&(l(_),o=z([]),T=!1)}function Ee(e){o.push(e)}function Te(e){return e===void 0&&(e={}),de(e)?{content:e}:e}function ze(e,n){var[a]=o;a.reactiveSnackOptions=p({},a.reactiveSnackOptions,e),a._update=n}function Ae(e){return e===void 0&&(e="top"),e==="bottom"?{[e]:"5%"}:{top:e==="top"?"5%":"45%"}}d.install=function(e){e.component(d.name,d)};const Be=i;export{Be as S};
