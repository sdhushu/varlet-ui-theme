import{v as q}from"./index.5126101c.js";import{I as A}from"./index.951d24f0.js";import{B as Q}from"./index.1f493622.js";import{d as Y,a,b as Z,w as J,p as H,ai as K,D as X,f as v,h as f,M as F,O as p,N as o,R as c,j as m,Q as N,q as V,S as x,aj as _,n as ee}from"./vue-router.esm-bundler.94b4319d.js";import{t as y,c as ae,a as te,k as oe}from"./shared.67abcef7.js";import{u as le}from"./zIndex.76de7dbc.js";import{u as ne}from"./lock.aaf18bc0.js";function ie(e){return["fill","contain","cover","none","scale-down"].includes(e)}var re={src:{type:String},fit:{type:String,validator:ie,default:"cover"},imageHeight:{type:[String,Number]},imageWidth:{type:[String,Number]},layout:{type:String,default:"column"},floating:{type:Boolean,default:!1},"onUpdate:floating":{type:Function},floatingDuration:{type:Number,default:250},alt:{type:String},title:{type:String},subtitle:{type:String},description:{type:String},elevation:{type:[Number,String]},ripple:{type:Boolean,default:!1},onClick:{type:Function}};function L(e,u,d,l,n,s,r){try{var i=e[s](r),t=i.value}catch(h){d(h);return}i.done?u(t):Promise.resolve(t).then(l,n)}function P(e){return function(){var u=this,d=arguments;return new Promise(function(l,n){var s=e.apply(u,d);function r(t){L(s,l,n,r,i,"next",t)}function i(t){L(s,l,n,r,i,"throw",t)}r(void 0)})}}var{n:se,classes:ue}=ae("card"),ve=500,fe=["src","alt"];function de(e,u){var d=H("var-icon"),l=H("var-button"),n=K("ripple");return X((v(),f("div",{ref:"card",class:o(e.classes(e.n(),[e.isRow,e.n("--layout-row")],[e.elevation,"var-elevation--"+e.elevation,"var-elevation--1"])),style:c({zIndex:e.floated?e.zIndex:void 0}),onClick:u[0]||(u[0]=function(){return e.onClick&&e.onClick(...arguments)})},[F("div",{ref:"cardFloater",class:o(e.classes(e.n("floater"))),style:c({width:e.floaterWidth,height:e.floaterHeight,top:e.floaterTop,left:e.floaterLeft,overflow:e.floaterOverflow,position:e.floaterPosition,transition:e.floated?"background-color "+e.floatingDuration+"ms, color "+e.floatingDuration+"ms, width "+e.floatingDuration+"ms, height "+e.floatingDuration+"ms, top "+e.floatingDuration+"ms, left "+e.floatingDuration+"ms":void 0})},[p(e.$slots,"image",{},()=>[e.src?(v(),f("img",{key:0,class:o(e.n("image")),style:c({objectFit:e.fit,height:e.toSizeUnit(e.imageHeight),width:e.toSizeUnit(e.imageWidth)}),src:e.src,alt:e.alt},null,14,fe)):m("v-if",!0)]),F("div",{class:o(e.n("container"))},[p(e.$slots,"title",{},()=>[e.title?(v(),f("div",{key:0,class:o(e.n("title"))},N(e.title),3)):m("v-if",!0)]),p(e.$slots,"subtitle",{},()=>[e.subtitle?(v(),f("div",{key:0,class:o(e.n("subtitle"))},N(e.subtitle),3)):m("v-if",!0)]),p(e.$slots,"description",{},()=>[e.description?(v(),f("div",{key:0,class:o(e.n("description"))},N(e.description),3)):m("v-if",!0)]),e.$slots.extra?(v(),f("div",{key:0,class:o(e.n("footer"))},[p(e.$slots,"extra")],2)):m("v-if",!0),e.$slots.content&&!e.isRow?(v(),f("div",{key:1,class:o(e.n("content")),style:c({height:e.contentHeight,opacity:e.opacity,transition:"opacity "+e.floatingDuration*2+"ms"})},[p(e.$slots,"content")],6)):m("v-if",!0)],2),e.showFloatingButtons?(v(),f("div",{key:0,class:o(e.classes(e.n("floating-buttons"),"var--box")),style:c({zIndex:e.zIndex,opacity:e.opacity,transition:"opacity "+e.floatingDuration*2+"ms"})},[p(e.$slots,"close-button",{},()=>[V(l,{"var-card-cover":"",round:"",class:o(e.classes(e.n("close-button"),"var-elevation--6")),onClick:_(e.close,["stop"])},{default:x(()=>[V(d,{"var-card-cover":"",name:"window-close",class:o(e.n("close-button-icon"))},null,8,["class"])]),_:1},8,["class","onClick"])])],6)):m("v-if",!0)],6),F("div",{class:o(e.n("holder")),style:c({width:e.holderWidth,height:e.holderHeight})},null,6)],6)),[[n,{disabled:!e.ripple||e.floater}]])}const R=Y({render:de,name:"VarCard",directives:{Ripple:q},components:{VarIcon:A,VarButton:Q},props:re,setup(e){var u=a(null),d=a(null),l=a("auto"),n=a("auto"),s=a("100%"),r=a("100%"),i=a("auto"),t=a("auto"),h=a(void 0),w=a("hidden"),b=a("0px"),k=a("0"),S=Z(()=>e.layout==="row"),C=a(!1),D=a(!1),{zIndex:W}=le(()=>e.floating,1);ne(()=>e.floating,()=>!S.value);var B="auto",T="auto",z=null,g=a(null),U=function(){var I=P(function*(){clearTimeout(g.value),clearTimeout(z),g.value=null,g.value=setTimeout(P(function*(){var{width:$,height:j,left:G,top:M}=u.value.getBoundingClientRect();l.value=y($),n.value=y(j),s.value=l.value,r.value=n.value,i.value=y(M),t.value=y(G),h.value="fixed",B=i.value,T=t.value,C.value=!0,yield oe(),i.value="0",t.value="0",s.value="100vw",r.value="100vh",b.value="auto",k.value="1",w.value="auto",D.value=!0}),e.ripple?ve:0)});return function(){return I.apply(this,arguments)}}(),E=()=>{clearTimeout(z),clearTimeout(g.value),g.value=null,s.value=l.value,r.value=n.value,i.value=B,t.value=T,b.value="0px",k.value="0",C.value=!1,z=setTimeout(()=>{l.value="auto",n.value="auto",s.value="100%",r.value="100%",i.value="auto",t.value="auto",B="auto",T="auto",w.value="hidden",h.value=void 0,D.value=!1},e.floatingDuration)},O=()=>{te(e["onUpdate:floating"],!1)};return J(()=>e.floating,I=>{S.value||ee(()=>{I?U():E()})},{immediate:!0}),{n:se,classes:ue,toSizeUnit:y,card:u,cardFloater:d,holderWidth:l,holderHeight:n,floater:g,floaterWidth:s,floaterHeight:r,floaterTop:i,floaterLeft:t,floaterPosition:h,floaterOverflow:w,contentHeight:b,opacity:k,zIndex:W,isRow:S,close:O,showFloatingButtons:C,floated:D}}});R.install=function(e){e.component(R.name,R)};export{R as C};
