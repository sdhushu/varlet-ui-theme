import{v as be}from"./index-c5f09b40.js";import{a as D,u as re,c as L,e as $,p as W,D as pe,t as he,A as ye,L as J,F as ne,Y as Q}from"./shared-128c81f0.js";import{d as V,a as h,b as y,w as I,ag as Ce,D as Se,f as M,h as Te,O as U,N as P,R as te,p as ie,i as O,S as q,j as ge,G as ke,M as K,m as we,ar as $e}from"./vue-router.esm-bundler-fa266481.js";import{a as Ie,S as Be}from"./index-29656355.js";import{p as R,S as ze}from"./sticky-954ab3ea.js";import{u as oe}from"./useChildren-57fd1ce4.js";var De={name:{type:[String,Number]},disabled:{type:Boolean,default:!1},onClick:D()},le=Symbol("TABS_BIND_TAB_KEY");function Pe(){var{childProviders:e,bindChildren:a,length:r}=oe(le);return{length:r,tabList:e,bindTabList:a}}function Ee(){var{parentProvider:e,bindParent:a,index:r}=re(le);if(!a)throw Error("<var-tab/> must in <var-tabs/>");return{index:r,tabs:e,bindTabs:a}}var{n:N,classes:Ae}=L("tab");function Ne(e,a){var r=Ce("ripple");return Se((M(),Te("div",{class:P(e.classes(e.n(),e.n("$--box"),e.computeColorClass(),e.n("--"+e.itemDirection))),ref:"tabEl",style:te({color:e.computeColorStyle()}),onClick:a[0]||(a[0]=function(){return e.handleClick&&e.handleClick(...arguments)})},[U(e.$slots,"default")],6)),[[r,{disabled:e.disabled}]])}var se=V({name:"VarTab",directives:{Ripple:be},props:De,setup(e){var a=h(null),r=y(()=>e.name),s=y(()=>e.disabled),v=y(()=>a.value),{index:n,tabs:o,bindTabs:l}=Ee(),{onTabClick:t,active:b,activeColor:g,inactiveColor:k,disabledColor:d,itemDirection:c,resize:f}=o,p={name:r,index:n,disabled:s,element:v};l(p);var C=()=>{var{disabled:S,name:T}=e;return S?d.value:b.value===T||b.value===(n==null?void 0:n.value)?g.value:k.value},B=()=>{var{disabled:S,name:T}=e;return S?N("$-tab--disabled"):b.value===T||b.value===(n==null?void 0:n.value)?N("$-tab--active"):N("$-tab--inactive")},E=S=>{var{disabled:T,name:A,onClick:Y}=e;T||($(Y,A??n.value,S),t(p))};return I(()=>e.name,f),I(()=>e.disabled,f),{n:N,classes:Ae,tabEl:a,active:b,activeColor:g,inactiveColor:k,itemDirection:c,computeColorStyle:C,computeColorClass:B,handleClick:E}}});se.render=Ne;const _=se;_.install=function(e){e.component(_.name,_)};var ve=Symbol("TABS_ITEMS_BIND_TAB_ITEM_KEY");function Le(){var{bindChildren:e,childProviders:a,length:r}=oe(ve);return{length:r,tabItemList:a,bindTabItem:e}}function Ve(){var{parentProvider:e,bindParent:a,index:r}=re(ve);if(!a)throw Error("<var-tab-item/> must in <var-tabs-items/>");return{index:r,tabsItems:e,bindTabsItems:a}}var Me={name:{type:[String,Number]}},{n:Ue,classes:Ye}=L("tab-item");function Ge(e,a){var r=ie("var-swipe-item");return M(),O(r,{class:P(e.classes(e.n(),[!e.current,e.n("--inactive")])),"var-tab-item-cover":""},{default:q(()=>[e.initSlot?U(e.$slots,"default",{key:0}):ge("v-if",!0)]),_:3},8,["class"])}var ue=V({name:"VarTabItem",components:{VarSwipeItem:Ie},props:Me,setup(e){var a=h(!1),r=h(!1),s=y(()=>e.name),{index:v,bindTabsItems:n}=Ve(),o=t=>{!r.value&&t&&(r.value=!0),a.value=t},l={index:v,name:s,setCurrent:o};return n(l),{n:Ue,classes:Ye,current:a,initSlot:r}}});ue.render=Ge;const X=ue;X.install=function(e){e.component(X.name,X)};function j(e){return["horizontal","vertical"].includes(e)}var He={active:{type:[String,Number],default:0},layoutDirection:{type:String,default:"horizontal",validator:j},itemDirection:{type:String,default:"horizontal",validator:j},fixedBottom:{type:Boolean,default:!1},activeColor:{type:String},inactiveColor:{type:String},disabledColor:{type:String},color:{type:String},indicatorColor:{type:String},indicatorSize:{type:[String,Number]},elevation:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},stickyCssMode:W(R,"cssMode"),stickyZIndex:W(R,"zIndex"),offsetTop:W(R,"offsetTop"),safeArea:{type:Boolean,default:!1},onClick:D(),onChange:D(),"onUpdate:active":D()};function x(e,a,r,s,v,n,o){try{var l=e[n](o),t=l.value}catch(b){r(b);return}l.done?a(t):Promise.resolve(t).then(s,v)}function ee(e){return function(){var a=this,r=arguments;return new Promise(function(s,v){var n=e.apply(a,r);function o(t){x(n,s,v,o,l,"next",t)}function l(t){x(n,s,v,o,l,"throw",t)}o(void 0)})}}var{n:We,classes:Ke}=L("tabs");function Re(e,a){return M(),O($e(e.sticky?e.n("$-sticky"):e.Transition),{ref:e.sticky?"stickyComponent":void 0,"css-mode":e.sticky?e.stickyCssMode:void 0,"offset-top":e.sticky?e.offsetTop:void 0,"z-index":e.sticky?e.stickyZIndex:void 0},{default:q(()=>[K("div",we({class:e.classes(e.n(),e.n("$--box"),e.n("--item-"+e.itemDirection),e.n("--layout-"+e.layoutDirection+"-padding"),[e.elevation,e.n("$-elevation--4")],[e.fixedBottom,e.n("--fixed-bottom")],[e.safeArea,e.n("--safe-area")]),style:{background:e.color}},e.$attrs),[K("div",{ref:"scrollerEl",class:P(e.classes(e.n("tab-wrap"),[e.scrollable,e.n("--layout-"+e.layoutDirection+"-scrollable")],e.n("--layout-"+e.layoutDirection)))},[U(e.$slots,"default"),K("div",{class:P(e.classes(e.n("indicator"),e.n("--layout-"+e.layoutDirection+"-indicator"))),style:te({width:e.layoutDirection==="horizontal"?e.indicatorWidth:e.toSizeUnit(e.indicatorSize),height:e.layoutDirection==="horizontal"?e.toSizeUnit(e.indicatorSize):e.indicatorHeight,transform:e.layoutDirection==="horizontal"?"translateX("+e.indicatorX+")":"translateY("+e.indicatorY+")",background:e.indicatorColor||e.activeColor})},null,6)],2)],16)]),_:3},8,["css-mode","offset-top","z-index"])}var de=V({name:"VarTabs",components:{VarSticky:ze},inheritAttrs:!1,props:He,setup(e){var a=h("0px"),r=h("0px"),s=h("0px"),v=h("0px"),n=h(!1),o=h(null),l=y(()=>e.active),t=y(()=>e.activeColor),b=y(()=>e.inactiveColor),g=y(()=>e.disabledColor),k=y(()=>e.itemDirection),d=h(null),{tabList:c,bindTabList:f,length:p}=Pe(),C=i=>{var m,u=(m=i.name.value)!=null?m:i.index.value,{active:w,onChange:G,onClick:H}=e;$(e["onUpdate:active"],u),$(H,u),u!==w&&$(G,u)},B=()=>c.find(i=>{var{name:m}=i;return e.active===m.value}),E=i=>c.find(m=>{var{index:u}=m;return(i??e.active)===u.value}),S=()=>{if(p.value!==0){var{active:i}=e;if(ye(i)){var m=i>p.value-1?p.value-1:0;return $(e["onUpdate:active"],m),E(m)}}},T=()=>{n.value=c.length>=5},A=i=>{var{element:m}=i,u=m.value;u&&(e.layoutDirection==="horizontal"?(a.value=u.offsetWidth+"px",s.value=u.offsetLeft+"px"):(r.value=u.offsetHeight+"px",v.value=u.offsetTop+"px"))},Y=i=>{var{element:m}=i;if(n.value){var u=o.value,w=m.value;if(e.layoutDirection==="horizontal"){var G=w.offsetLeft+w.offsetWidth/2-u.offsetWidth/2;J(u,{left:G,animation:Q})}else{var H=w.offsetTop+w.offsetHeight/2-u.offsetHeight/2;J(u,{top:H,animation:Q})}}},z=()=>{var i=B()||E()||S();!i||i.disabled.value||(T(),A(i),Y(i))},fe=function(){var i=ee(function*(){e.sticky&&d.value&&(yield d.value.resize())});return function(){return i.apply(this,arguments)}}(),me={active:l,activeColor:t,inactiveColor:b,disabledColor:g,itemDirection:k,resize:z,onTabClick:C};return f(me),I(()=>p.value,ee(function*(){yield ne(),z()})),I(()=>e.active,z),pe(window,"resize",z),{stickyComponent:d,indicatorWidth:a,indicatorHeight:r,indicatorX:s,indicatorY:v,scrollable:n,scrollerEl:o,Transition:ke,toSizeUnit:he,n:We,classes:Ke,resize:z,resizeSticky:fe}}});de.render=Re;const Z=de;Z.install=function(e){e.component(Z.name,Z)};var _e={active:{type:[String,Number],default:0},canSwipe:{type:Boolean,default:!0},loop:{type:Boolean,default:!1},"onUpdate:active":D()};function ae(e,a,r,s,v,n,o){try{var l=e[n](o),t=l.value}catch(b){r(b);return}l.done?a(t):Promise.resolve(t).then(s,v)}function Xe(e){return function(){var a=this,r=arguments;return new Promise(function(s,v){var n=e.apply(a,r);function o(t){ae(n,s,v,o,l,"next",t)}function l(t){ae(n,s,v,o,l,"throw",t)}o(void 0)})}}var{n:Ze}=L("tabs-items");function Fe(e,a){var r=ie("var-swipe");return M(),O(r,{class:P(e.n()),ref:"swipe",loop:e.loop,touchable:e.canSwipe,indicator:!1,onChange:e.handleSwipeChange},{default:q(()=>[U(e.$slots,"default")]),_:3},8,["class","loop","touchable","onChange"])}var ce=V({name:"VarTabsItems",components:{VarSwipe:Be},props:_e,setup(e){var a=h(null),{tabItemList:r,bindTabItem:s,length:v}=Le(),n=d=>r.find(c=>{var{name:f}=c;return d===f.value}),o=d=>r.find(c=>{var{index:f}=c;return d===f.value}),l=d=>n(d)||o(d),t=d=>{var c,f=l(d);f&&(r.forEach(p=>{var{setCurrent:C}=p;return C(!1)}),f.setCurrent(!0),(c=a.value)==null||c.to(f.index.value))},b=d=>{var c,f=r.find(C=>{var{index:B}=C;return B.value===d}),p=(c=f.name.value)!=null?c:f.index.value;$(e["onUpdate:active"],p)},g=()=>a.value,k={};return s(k),I(()=>e.active,t),I(()=>v.value,Xe(function*(){yield ne(),t(e.active)})),{swipe:a,n:Ze,handleSwipeChange:b,getSwipe:g}}});ce.render=Fe;const F=ce;F.install=function(e){e.component(F.name,F)};export{_ as T,Z as a,X as b,F as c};
