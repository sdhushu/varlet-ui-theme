import{d as pe,a as P,b as j,Z as Y,w as he,p as ne,f as O,h as N,q as M,S as I,M as _,Q as b,G as ce,N as H,r as be,F as fe,ak as Pe,m as Ee,P as z,o as Fe,R as ze,O as oe,aM as ta,i as Te,j as oa,aA as de,an as d}from"./vue-router.esm-bundler.94b4319d.js";import{d as o}from"./index.5fc7cf9a.js";import{B as Ne}from"./index.1f493622.js";import{I as la}from"./index.951d24f0.js";import{c as le,z as Ue,y as ia,a as J}from"./shared.67abcef7.js";import{p as x}from"./index.7e98eda1.js";import{p as ae,u as ua}from"./index.caf9d8b5.js";import{A as ve}from"./AppType.ec0f70f1.js";/* empty css             */import"./IconSfc.61818718.js";/* empty css             */import"./CellSfc.90047be6.js";import{a as va}from"./utils.625f73d8.js";import{u as sa}from"./sync.818fac4e.js";import"./index.5126101c.js";import"./index.ed021aaa.js";import"./index.a20db6c9.js";import"./AppType.vue_vue_type_style_index_0_lang.5046ce66.js";const He=function(e,r){r.prototype.isSameOrBefore=function(t,i){return this.isSame(t,i)||this.isBefore(t,i)}},Ke=function(e,r){r.prototype.isSameOrAfter=function(t,i){return this.isSame(t,i)||this.isAfter(t,i)}};function da(e){return["date","month"].includes(e)}var Me=[{index:"01"},{index:"02"},{index:"03"},{index:"04"},{index:"05"},{index:"06"},{index:"07"},{index:"08"},{index:"09"},{index:"10"},{index:"11"},{index:"12"}],me=[{index:"0"},{index:"1"},{index:"2"},{index:"3"},{index:"4"},{index:"5"},{index:"6"}],ma={modelValue:{type:[String,Array]},type:{type:String,default:"date",validator:da},allowedDates:{type:Function},color:{type:String},headerColor:{type:String},elevation:{type:Boolean,default:!1},firstDayOfWeek:{type:[String,Number],default:0},min:{type:String},max:{type:String},showCurrent:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},range:{type:Boolean,default:!1},touchable:{type:Boolean,default:!0},onPreview:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},{n:ha}=le("picker-header");function ca(e,r){var t=ne("var-icon"),i=ne("var-button");return O(),N("div",{class:H(e.n())},[M(i,{round:"",text:"",style:{filter:"opacity(0.54)"},disabled:e.disabled.left,onClick:r[0]||(r[0]=s=>e.checkDate("prev"))},{default:I(()=>[M(t,{name:"chevron-left"})]),_:1},8,["disabled"]),_("div",{class:H(e.n("value")),onClick:r[1]||(r[1]=s=>e.$emit("check-panel"))},[M(ce,{name:"var-date-picker"+(e.reverse?"-reverse":"")+"-translatex"},{default:I(()=>[(O(),N("div",{key:e.showDate},b(e.showDate),1))]),_:1},8,["name"])],2),M(i,{round:"",text:"",style:{filter:"opacity(0.54)"},disabled:e.disabled.right,onClick:r[2]||(r[2]=s=>e.checkDate("next"))},{default:I(()=>[M(t,{name:"chevron-right"})]),_:1},8,["disabled"])],2)}const Xe=pe({render:ca,name:"PanelHeader",components:{VarButton:Ne,VarIcon:la},props:{date:{type:Object,required:!0},type:{type:String,default:"date"},disabled:{type:Object,required:!0}},emits:["check-panel","check-date"],setup(e,r){var{emit:t}=r,i=P(!1),s=P(0),c=j(()=>{var u,{date:y,type:f}=e,{previewMonth:q,previewYear:B}=y;if(f==="month")return Y(B)+s.value;var D=(u=x.value.datePickerMonthDict)==null?void 0:u[q.index].name;return x.value.lang==="zh-CN"?B+" "+D:D+" "+B}),k=u=>{u==="prev"&&e.disabled.left||u==="next"&&e.disabled.right||(t("check-date",u),i.value=u==="prev",s.value+=u==="prev"?-1:1)};return he(()=>e.date,()=>{s.value=0}),{n:ha,reverse:i,showDate:c,checkDate:k}}});function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Be.apply(this,arguments)}o.extend(He);o.extend(Ke);var{n:De,classes:fa}=le("month-picker"),{n:we}=le("date-picker");function pa(e,r){var t=ne("panel-header"),i=ne("var-button");return O(),N("div",{class:H(e.n())},[_("div",{class:H(e.n("content"))},[M(t,{ref:"headerEl",type:"month",date:e.preview,disabled:e.panelBtnDisabled,onCheckPanel:e.clickYear,onCheckDate:e.checkDate},null,8,["date","disabled","onCheckPanel","onCheckDate"]),M(ce,{name:""+e.nDate()+(e.reverse?"-reverse":"")+"-translatex"},{default:I(()=>[(O(),N("ul",{key:e.panelKey},[(O(!0),N(fe,null,Pe(e.MONTH_LIST,s=>(O(),N("li",{key:s.index},[M(i,Ee({type:"primary","var-month-picker-cover":"",ripple:!1},Be({},e.buttonProps(s.index)),{onClick:c=>e.chooseMonth(s,c)}),{default:I(()=>[z(b(e.getMonthAbbr(s.index)),1)]),_:2},1040,["onClick"])]))),128))]))]),_:1},8,["name"])],2)],2)}const ya=pe({render:pa,name:"MonthPickerPanel",components:{VarButton:Ne,PanelHeader:Xe},props:{choose:{type:Object,required:!0},preview:{type:Object,required:!0},current:{type:String,required:!0},clickYear:{type:Function,required:!0},componentProps:{type:Object,required:!0}},emits:["check-preview","choose-month"],setup(e,r){var{emit:t}=r,[i,s]=e.current.split("-"),c=P(!1),k=P(0),u=P(null),y=be({left:!1,right:!1}),f=j(()=>e.choose.chooseYear===e.preview.previewYear),q=j(()=>e.preview.previewYear===i),B=m=>{var w,$;return(w=($=x.value.datePickerMonthDict)==null?void 0:$[m].abbr)!=null?w:""},D=m=>{var{preview:{previewYear:w},componentProps:{min:$,max:L}}=e,G=!0,K=!0,n=w+"-"+m;return L&&(G=o(n).isSameOrBefore(o(L),"month")),$&&(K=o(n).isSameOrAfter(o($),"month")),G&&K},C=m=>{var{choose:{chooseMonths:w,chooseDays:$,chooseRangeMonth:L},componentProps:{type:G,range:K}}=e;if(K){if(!L.length)return!1;var n=o(m).isSameOrBefore(o(L[1]),"month"),p=o(m).isSameOrAfter(o(L[0]),"month");return n&&p}return G==="month"?w.includes(m):$.some(V=>V.includes(m))},A=m=>{var{choose:{chooseMonth:w},preview:{previewYear:$},componentProps:{allowedDates:L,color:G,multiple:K,range:n}}=e,p=$+"-"+m,V=()=>n||K?C(p):(w==null?void 0:w.index)===m&&f.value,W=()=>D(m)?L?!L(p):!1:!0,R=W(),T=()=>R?!0:n||K?!C(p):!f.value||(w==null?void 0:w.index)!==m,X=()=>q.value&&s===m&&e.componentProps.showCurrent?(n||K||f.value)&&R?!0:n||K?!C(p):f.value?(w==null?void 0:w.index)!==s:!0:!1,Q=()=>R?"":X()?G!=null?G:"":V()?"":we()+"-color-cover",ee=Q().startsWith(we());return{outline:X(),text:T(),color:T()?"":G,textColor:ee?"":Q(),[we()+"-color-cover"]:ee,class:fa(De("button"),[R,De("button--disabled")])}},U=(m,w)=>{var $=w.currentTarget;$.classList.contains(De("button--disabled"))||t("choose-month",m)},S=m=>{c.value=m==="prev",k.value+=m==="prev"?-1:1,t("check-preview","year",m)},te=m=>{u.value.checkDate(m)};return he(()=>e.preview.previewYear,m=>{var{componentProps:{min:w,max:$}}=e;$&&(y.right=!o(""+(Y(m)+1)).isSameOrBefore(o($),"year")),w&&(y.left=!o(""+(Y(m)-1)).isSameOrAfter(o(w),"year"))},{immediate:!0}),{n:De,nDate:we,pack:x,MONTH_LIST:Me,headerEl:u,reverse:c,panelKey:k,panelBtnDisabled:y,forwardRef:te,buttonProps:A,getMonthAbbr:B,chooseMonth:U,checkDate:S}}});var{n:We,classes:ga}=le("year-picker"),ka=["onClick"];function Da(e,r){return O(),N("ul",{class:H(e.n())},[(O(!0),N(fe,null,Pe(e.yearList,t=>(O(),N("li",{key:t,class:H(e.classes(e.n("item"),[t===e.toNumber(e.preview),e.n("item--active")])),style:ze({color:t===e.toNumber(e.preview)?e.componentProps.color:""}),onClick:i=>e.chooseYear(t)},b(t),15,ka))),128))],2)}const wa=pe({render:Da,name:"YearPickerPanel",props:{preview:{type:String},componentProps:{type:Object,required:!0}},emits:["choose-year"],setup(e,r){var{emit:t}=r,i=j(()=>{var c=[],{preview:k,componentProps:{max:u,min:y}}=e;if(!k)return c;var f=[Y(k)+100,Y(k)-100];if(u){var q=o(u).format("YYYY-MM-D"),B=Y(q.split("-")[0]);if(B<f[0]&&B>f[1]&&(f=[B,f[1]]),B<=f[1])return[B]}if(y){var D=o(y).format("YYYY-MM-D"),C=Y(D.split("-")[0]);if(C<f[0]&&C>f[1]&&(f=[f[0],C]),C>=f[0])return[C]}for(var A=f[0];A>=f[1];A--)c.push(A);return c}),s=c=>{t("choose-year",c)};return Fe(()=>{var c=document.querySelector("."+We("item--active"));c==null||c.scrollIntoView({block:"center"})}),{n:We,classes:ga,yearList:i,chooseYear:s,toNumber:Y}}});function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ae.apply(this,arguments)}o.extend(He);o.extend(Ke);var{n:se,classes:Ya}=le("day-picker"),{n:Ye}=le("date-picker");function Ma(e,r){var t=ne("panel-header"),i=ne("var-button");return O(),N("div",{class:H(e.n())},[_("div",{class:H(e.n("content"))},[M(t,{ref:"headerEl",type:"day",date:e.preview,disabled:e.panelBtnDisabled,onCheckPanel:e.clickMonth,onCheckDate:e.checkDate},null,8,["date","disabled","onCheckPanel","onCheckDate"]),M(ce,{name:""+e.nDate()+(e.reverse?"-reverse":"")+"-translatex"},{default:I(()=>[(O(),N("div",{key:e.panelKey},[_("ul",{class:H(e.n("head"))},[(O(!0),N(fe,null,Pe(e.sortWeekList,s=>(O(),N("li",{key:s.index},b(e.getDayAbbr(s.index)),1))),128))],2),_("ul",{class:H(e.n("body"))},[(O(!0),N(fe,null,Pe(e.days,(s,c)=>(O(),N("li",{key:c},[M(i,Ee({type:"primary","var-day-picker-cover":"",round:"",ripple:!1},Ae({},e.buttonProps(s)),{onClick:k=>e.chooseDay(s,k)}),{default:I(()=>[z(b(e.filterDay(s)),1)]),_:2},1040,["onClick"])]))),128))],2)]))]),_:1},8,["name"])],2)],2)}const Pa=pe({render:Ma,name:"DayPickerPanel",components:{VarButton:Ne,PanelHeader:Xe},props:{choose:{type:Object,required:!0},preview:{type:Object,required:!0},current:{type:String,required:!0},clickMonth:{type:Function,required:!0},componentProps:{type:Object,required:!0}},emits:["check-preview","choose-day"],setup(e,r){var{emit:t}=r,[i,s,c]=e.current.split("-"),k=P([]),u=P(!1),y=P(0),f=P(null),q=be({left:!1,right:!1}),B=j(()=>e.preview.previewYear===i&&e.preview.previewMonth.index===s),D=j(()=>{var n;return e.choose.chooseYear===e.preview.previewYear&&((n=e.choose.chooseMonth)==null?void 0:n.index)===e.preview.previewMonth.index}),C=j(()=>{var n=me.findIndex(p=>p.index===e.componentProps.firstDayOfWeek);return n===-1||n===0?me:me.slice(n).concat(me.slice(0,n))}),A=n=>{var p,V;return(p=(V=x.value.datePickerWeekDict)==null?void 0:V[n].abbr)!=null?p:""},U=n=>n>0?n:"",S=()=>{var{preview:{previewMonth:n,previewYear:p}}=e,V=o(p+"-"+n.index).daysInMonth(),W=o(p+"-"+n.index+"-01").day(),R=C.value.findIndex(T=>T.index===""+W);k.value=[...Array(R).fill(-1),...Array.from(Array(V+1).keys())].filter(T=>T)},te=()=>{var{preview:{previewYear:n,previewMonth:p},componentProps:{max:V,min:W}}=e;if(V){var R=n+"-"+(Y(p.index)+1);q.right=!o(R).isSameOrBefore(o(V),"month")}if(W){var T=n+"-"+(Y(p.index)-1);q.left=!o(T).isSameOrAfter(o(W),"month")}},m=n=>{var{preview:{previewYear:p,previewMonth:V},componentProps:{min:W,max:R}}=e,T=!0,X=!0,Q=p+"-"+V.index+"-"+n;return R&&(T=o(Q).isSameOrBefore(o(R),"day")),W&&(X=o(Q).isSameOrAfter(o(W),"day")),T&&X},w=n=>{var{choose:{chooseDays:p,chooseRangeDay:V},componentProps:{range:W}}=e;if(W){if(!V.length)return!1;var R=o(n).isSameOrBefore(o(V[1]),"day"),T=o(n).isSameOrAfter(o(V[0]),"day");return R&&T}return p.includes(n)},$=n=>{if(n<0)return{text:!0,outline:!1,textColor:"",class:se("button")};var{choose:{chooseDay:p},preview:{previewYear:V,previewMonth:W},componentProps:{allowedDates:R,color:T,multiple:X,range:Q}}=e,ee=V+"-"+W.index+"-"+n,Ce=()=>Q||X?w(ee):Y(p)===n&&D.value,$e=()=>m(n)?R?!R(ee):!1:!0,ie=$e(),Ve=()=>ie?!0:Q||X?!w(ee):!D.value||Y(p)!==n,ye=()=>B.value&&Y(c)===n&&e.componentProps.showCurrent?(Q||X||D.value)&&ie?!0:Q||X?!w(ee):D.value?p!==c:!0:!1,ge=()=>ie?"":ye()?T!=null?T:"":Ce()?"":Ye()+"-color-cover",ke=ge().startsWith(Ye());return{text:Ve(),outline:ye(),textColor:ke?"":ge(),[Ye()+"-color-cover"]:ke,class:Ya(se("button"),se("button--usable"),[ie,se("button--disabled")])}},L=n=>{u.value=n==="prev",y.value+=n==="prev"?-1:1,t("check-preview","month",n)},G=(n,p)=>{var V=p.currentTarget;V.classList.contains(se("button--disabled"))||t("choose-day",n)},K=n=>{f.value.checkDate(n)};return Fe(()=>{S(),te()}),he(()=>e.preview,()=>{S(),te()}),{n:se,nDate:Ye,days:k,reverse:u,headerEl:f,panelKey:y,sortWeekList:C,panelBtnDisabled:q,forwardRef:K,filterDay:U,getDayAbbr:A,checkDate:L,chooseDay:G,buttonProps:$}}});var{n:ba,classes:Ca}=le("date-picker");function $a(e,r){var t=ne("year-picker-panel"),i=ne("month-picker-panel"),s=ne("day-picker-panel");return O(),N("div",{class:H(e.classes(e.n(),[e.elevation,"var-elevation--2"]))},[_("div",{class:H(e.n("title")),style:ze({background:e.headerColor||e.color})},[_("div",{class:H(e.classes(e.n("title-year"),[e.isYearPanel,e.n("title-year--active")])),onClick:r[0]||(r[0]=c=>e.clickEl("year"))},[oe(e.$slots,"year",{year:e.chooseYear},()=>[z(b(e.chooseYear),1)])],2),_("div",{class:H(e.classes(e.n("title-date"),[!e.isYearPanel,e.n("title-date--active")],[e.range,e.n("title-date--range")])),onClick:r[1]||(r[1]=c=>e.clickEl("date"))},[M(ce,{name:e.multiple?"":""+e.n()+(e.reverse?"-reverse":"")+"-translatey"},{default:I(()=>{var c,k,u;return[e.type==="month"?(O(),N("div",{key:""+e.chooseYear+((c=e.chooseMonth)==null?void 0:c.index)},[e.range?oe(e.$slots,"range",{key:0,choose:e.getChoose.chooseRangeMonth},()=>[z(b(e.getMonthTitle),1)]):e.multiple?oe(e.$slots,"multiple",{key:1,choose:e.getChoose.chooseMonths},()=>[z(b(e.getMonthTitle),1)]):oe(e.$slots,"month",{key:2,month:(k=e.chooseMonth)==null?void 0:k.index,year:e.chooseYear},()=>[z(b(e.getMonthTitle),1)])])):(O(),N("div",{key:""+e.chooseYear+((u=e.chooseMonth)==null?void 0:u.index)+e.chooseDay},[e.range?oe(e.$slots,"range",{key:0,choose:e.formatRange},()=>[z(b(e.getDateTitle),1)]):e.multiple?oe(e.$slots,"multiple",{key:1,choose:e.getChoose.chooseDays},()=>[z(b(e.getDateTitle),1)]):oe(e.$slots,"date",ta(Ee({key:2},e.slotProps)),()=>[z(b(e.getDateTitle),1)])]))]}),_:3},8,["name"])],2)],6),_("div",{class:H(e.n("body")),onTouchstart:r[2]||(r[2]=function(){return e.handleTouchstart&&e.handleTouchstart(...arguments)}),onTouchmove:r[3]||(r[3]=function(){return e.handleTouchmove&&e.handleTouchmove(...arguments)}),onTouchend:r[4]||(r[4]=function(){return e.handleTouchend&&e.handleTouchend(...arguments)})},[M(ce,{name:e.n()+"-panel-fade"},{default:I(()=>[e.getPanelType==="year"?(O(),Te(t,{key:0,"component-props":e.componentProps,preview:e.previewYear,onChooseYear:e.getChooseYear},null,8,["component-props","preview","onChooseYear"])):e.getPanelType==="month"?(O(),Te(i,{key:1,ref:"monthPanelEl",current:e.currentDate,choose:e.getChoose,preview:e.getPreview,"click-year":()=>e.clickEl("year"),"component-props":e.componentProps,onChooseMonth:e.getChooseMonth,onCheckPreview:e.checkPreview},null,8,["current","choose","preview","click-year","component-props","onChooseMonth","onCheckPreview"])):e.getPanelType==="date"?(O(),Te(s,{key:2,ref:"dayPanelEl",current:e.currentDate,choose:e.getChoose,preview:e.getPreview,"component-props":e.componentProps,"click-month":()=>e.clickEl("month"),onChooseDay:e.getChooseDay,onCheckPreview:e.checkPreview},null,8,["current","choose","preview","component-props","click-month","onChooseDay","onCheckPreview"])):oa("v-if",!0)]),_:1},8,["name"])],34)],2)}const re=pe({render:$a,name:"VarDatePicker",components:{MonthPickerPanel:ya,YearPickerPanel:wa,DayPickerPanel:Pa},props:ma,setup(e){var r=0,t=0,i="",s,c=o().format("YYYY-MM-D"),[k,u]=c.split("-"),y=Me.find(a=>a.index===u),f=P(!1),q=P(!1),B=P(!0),D=P(),C=P(),A=P(),U=P(y),S=P(k),te=P(!1),m=P([]),w=P([]),$=P([]),L=P([]),G=P(null),K=P(null),n=be({allowedDates:e.allowedDates,type:e.type,color:e.color,firstDayOfWeek:e.firstDayOfWeek,min:e.min,max:e.max,showCurrent:e.showCurrent,multiple:e.multiple,range:e.range}),p=j(()=>({chooseMonth:D.value,chooseYear:C.value,chooseDay:A.value,chooseMonths:m.value,chooseDays:w.value,chooseRangeMonth:$.value,chooseRangeDay:L.value})),V=j(()=>({previewMonth:U.value,previewYear:S.value})),W=j(()=>{var{multiple:a,range:v}=e;if(v)return $.value.length?$.value[0]+" ~ "+$.value[1]:"";var l="";if(D.value){var h,g;l=(h=(g=x.value.datePickerMonthDict)==null?void 0:g[D.value.index].name)!=null?h:""}return a?""+m.value.length+x.value.datePickerSelected:l}),R=j(()=>{var a,v,l,h,{multiple:g,range:E}=e;if(E){var F=L.value.map(Oe=>o(Oe).format("YYYY-MM-DD"));return F.length?F[0]+" ~ "+F[1]:""}if(g)return""+w.value.length+x.value.datePickerSelected;if(!C.value||!D.value||!A.value)return"";var Z=o(C.value+"-"+D.value.index+"-"+A.value).day(),ue=me.find(Oe=>Oe.index===""+Z),Le=(a=(v=x.value.datePickerWeekDict)==null?void 0:v[ue.index].name)!=null?a:"",ra=(l=(h=x.value.datePickerMonthDict)==null?void 0:h[D.value.index].name)!=null?l:"",na=Ue(A.value,2,"0");return x.value.lang==="zh-CN"?D.value.index+"-"+na+" "+Le.slice(0,3):Le.slice(0,3)+", "+ra.slice(0,3)+" "+A.value}),T=j(()=>f.value?"year":e.type==="month"||q.value?"month":e.type==="date"?"date":""),X=j(()=>!e.touchable||["","year"].includes(T.value)),Q=j(()=>{var a,v,l,h,g=o(C.value+"-"+((a=D.value)==null?void 0:a.index)+"-"+A.value).day(),E=A.value?Ue(A.value,2,"0"):"";return{week:""+g,year:(v=C.value)!=null?v:"",month:(l=(h=D.value)==null?void 0:h.index)!=null?l:"",date:E}}),ee=j(()=>p.value.chooseRangeDay.map(a=>o(a).format("YYYY-MM-DD"))),Ce=j(()=>C.value===S.value),$e=j(()=>{var a;return((a=D.value)==null?void 0:a.index)===U.value.index}),ie=a=>{a==="year"?f.value=!0:a==="month"?q.value=!0:(f.value=!1,q.value=!1)},Ve=a=>{if(!X.value){var{clientX:v,clientY:l}=a.touches[0];r=v,t=l}},ye=(a,v)=>a>=v&&a>20?"x":"y",ge=a=>{if(!X.value){var{clientX:v,clientY:l}=a.touches[0],h=v-r,g=l-t;s=ye(Math.abs(h),Math.abs(g)),i=h>0?"prev":"next"}},ke=()=>{if(!(X.value||s!=="x")){var a=T.value==="month"?G:K;ia(()=>{a.value.forwardRef(i),qe()})}},Re=(a,v)=>{var l=v==="month"?$:L;if(l.value=B.value?[a,a]:[l.value[0],a],B.value=!B.value,B.value){var h=o(l.value[0]).isAfter(l.value[1]),g=h?[l.value[1],l.value[0]]:[...l.value];J(e["onUpdate:modelValue"],g),J(e.onChange,g)}},je=(a,v)=>{var l=v==="month"?m:w,h=v==="month"?"YYYY-MM":"YYYY-MM-DD",g=l.value.map(F=>o(F).format(h)),E=g.findIndex(F=>F===a);E===-1?g.push(a):g.splice(E,1),J(e["onUpdate:modelValue"],g),J(e.onChange,g)},Ie=(a,v)=>!C.value||!D.value?!1:Ce.value?a==="month"?v.index<D.value.index:$e.value?v<Y(A.value):D.value.index>U.value.index:C.value>S.value,Ge=a=>{var{readonly:v,range:l,multiple:h,onChange:g,"onUpdate:modelValue":E}=e;if(!(a<0||v)){te.value=Ie("day",a);var F=S.value+"-"+U.value.index+"-"+a,Z=o(F).format("YYYY-MM-DD");l?Re(Z,"day"):h?je(Z,"day"):(J(E,Z),J(g,Z))}},Qe=a=>{var{type:v,readonly:l,range:h,multiple:g,onChange:E,onPreview:F,"onUpdate:modelValue":Z}=e;if(te.value=Ie("month",a),v==="month"&&!l){var ue=S.value+"-"+a.index;h?Re(ue,"month"):g?je(ue,"month"):(J(Z,ue),J(E,ue))}else U.value=a,J(F,Y(S.value),Y(U.value.index));q.value=!1},Ze=a=>{S.value=""+a,f.value=!1,q.value=!0,J(e.onPreview,Y(S.value),Y(U.value.index))},Je=(a,v)=>{var l=v==="prev"?-1:1;if(a==="year")S.value=""+(Y(S.value)+l);else{var h=Y(U.value.index)+l;h<1&&(S.value=""+(Y(S.value)-1),h=12),h>12&&(S.value=""+(Y(S.value)+1),h=1),U.value=Me.find(g=>Y(g.index)===h)}J(e.onPreview,Y(S.value),Y(U.value.index))},xe=()=>(e.multiple||e.range)&&!de(e.modelValue)?(console.error('[Varlet] DatePicker: type of prop "modelValue" should be an Array'),!1):!e.multiple&&!e.range&&de(e.modelValue)?(console.error('[Varlet] DatePicker: type of prop "modelValue" should be a String'),!1):!0,Se=a=>de(a)?!1:a==="Invalid Date"?(console.error('[Varlet] DatePicker: "modelValue" is an Invalid Date'),!0):!1,_e=(a,v)=>{var l=v==="month"?$:L,h=v==="month"?"YYYY-MM":"YYYY-MM-D",g=a.map(Z=>o(Z).format(h)).slice(0,2),E=l.value.some(Z=>Se(Z));if(!E){l.value=g;var F=o(l.value[0]).isAfter(l.value[1]);l.value.length===2&&F&&(l.value=[l.value[1],l.value[0]])}},ea=(a,v)=>{var l=v==="month"?m:w,h=v==="month"?"YYYY-MM":"YYYY-MM-D",g=Array.from(new Set(a.map(E=>o(E).format(h))));l.value=g.filter(E=>E!=="Invalid Date")},aa=a=>{var v=o(a).format("YYYY-MM-D");if(!Se(v)){var[l,h,g]=v.split("-"),E=Me.find(F=>F.index===h);D.value=E,C.value=l,A.value=g,U.value=E,S.value=l}},qe=()=>{t=0,r=0,i="",s=void 0};return he(()=>e.modelValue,a=>{if(!(!xe()||Se(a)||!a))if(e.range){if(!de(a))return;B.value=a.length!==1,_e(a,e.type)}else if(e.multiple){if(!de(a))return;ea(a,e.type)}else aa(a)},{immediate:!0}),he(T,qe),{n:ba,classes:Ca,monthPanelEl:G,dayPanelEl:K,reverse:te,currentDate:c,chooseMonth:D,chooseYear:C,chooseDay:A,previewYear:S,isYearPanel:f,isMonthPanel:q,getMonthTitle:W,getDateTitle:R,getPanelType:T,getChoose:p,getPreview:V,componentProps:n,slotProps:Q,formatRange:ee,clickEl:ie,handleTouchstart:Ve,handleTouchmove:ge,handleTouchend:ke,getChooseDay:Ge,getChooseMonth:Qe,getChooseYear:Ze,checkPreview:Je}}});re.install=function(e){e.component(re.name,re)};const Ka={setup(e){const r=be({date:"2021-04",date1:"2021-04-08",date2:["",""],date3:["2021-02-01","2021-02-15"],date4:"2020-11-11",date5:"2021-05"}),t=k=>parseInt(k.split("-")[1],10)%2===1,i=k=>parseInt(k.split("-")[2],10)%2===1,s=k=>{console.log(k)},c=(k,u)=>{console.log(k,u)};return va(ua),sa(),(k,u)=>(O(),N(fe,null,[M(d(ve),null,{default:I(()=>[z(b(d(ae).basicUsage),1)]),_:1}),M(d(re),{modelValue:d(r).date1,"onUpdate:modelValue":u[0]||(u[0]=y=>d(r).date1=y)},null,8,["modelValue"]),M(d(ve),null,{default:I(()=>[z(b(d(ae).monthPicker),1)]),_:1}),M(d(re),{type:"month",modelValue:d(r).date,"onUpdate:modelValue":u[1]||(u[1]=y=>d(r).date=y),elevation:""},null,8,["modelValue"]),M(d(ve),null,{default:I(()=>[z(b(d(ae).multiple),1)]),_:1}),M(d(re),{type:"date",modelValue:d(r).date2,"onUpdate:modelValue":u[2]||(u[2]=y=>d(r).date2=y),multiple:""},null,8,["modelValue"]),M(d(ve),null,{default:I(()=>[z(b(d(ae).range),1)]),_:1}),M(d(re),{type:"date",modelValue:d(r).date3,"onUpdate:modelValue":u[3]||(u[3]=y=>d(r).date3=y),range:""},null,8,["modelValue"]),M(d(ve),null,{default:I(()=>[z(b(d(ae).dateLimit),1)]),_:1}),M(d(re),{type:"date",modelValue:d(r).date4,"onUpdate:modelValue":u[4]||(u[4]=y=>d(r).date4=y),min:"2020-10-15",max:"2021-01-15","allowed-dates":i},null,8,["modelValue"]),M(d(ve),null,{default:I(()=>[z(b(d(ae).custom),1)]),_:1}),M(d(re),{type:"month","allowed-dates":t,modelValue:d(r).date5,"onUpdate:modelValue":u[5]||(u[5]=y=>d(r).date5=y),max:"2022-01",min:"2016-07",elevation:"","header-color":"purple",color:"#7bb872","first-day-of-week":"1",onPreview:c,onChange:s},{year:I(({year:y})=>[_("span",null,b(y)+b(d(ae).year),1)]),month:I(({year:y,month:f})=>[_("span",null,b(y)+b(d(ae).divider)+b(f)+b(d(ae).month),1)]),_:1},8,["modelValue"])],64))}};export{Ka as default};
