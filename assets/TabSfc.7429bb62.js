import{v as se}from"./index.99ecac2e.js";import{G as Z,r as j,q as _,H as x,c as z,p as ve,t as ue,b as D,g as de,B as R,y as ee,Q as X}from"./shared.683c68c7.js";import{d as N,a as p,b as y,w as A,ai as ce,D as fe,f as P,h as me,O as U,N as $,R as ae,p as re,i as O,S as W,j as be,o as pe,u as he,G as ye,M as V,m as Te,au as Se}from"./vue-router.esm-bundler.94bfc301.js";import{a as Ce,S as ge}from"./index.cd5bc2eb.js";import{p as we,S as Be}from"./sticky.d5af7b3d.js";var Ie={name:{type:[String,Number]},disabled:{type:Boolean,default:!1},onClick:{type:Function}},te=Symbol("TABS_BIND_TAB_KEY"),ne=Symbol("TABS_COUNT_TAB_KEY");function Ee(){var{childProviders:e,bindChildren:r}=j(te),{length:a}=Z(ne);return{length:a,tabList:e,bindTabList:r}}function Ae(){var{parentProvider:e,bindParent:r}=_(te),{index:a}=x(ne);if(!e||!r||!a)throw Error("<var-tab/> must in <var-tabs/>");return{index:a,tabs:e,bindTabs:r}}var{n:De,classes:$e}=z("tab");function ke(e,r){var a=ce("ripple");return fe((P(),me("div",{class:$(e.classes(e.n(),"var--box",e.computeColorClass(),e.n("--"+e.itemDirection))),ref:"tabEl",style:ae({color:e.computeColorStyle()}),onClick:r[0]||(r[0]=function(){return e.handleClick&&e.handleClick(...arguments)})},[U(e.$slots,"default")],6)),[[a,{disabled:e.disabled}]])}const K=N({render:ke,name:"VarTab",directives:{Ripple:se},props:Ie,setup(e){var r=p(null),a=y(()=>e.name),v=y(()=>e.disabled),u=y(()=>r.value),{index:t,tabs:i,bindTabs:l}=Ae(),{onTabClick:n,active:f,activeColor:w,inactiveColor:B,disabledColor:c,itemDirection:m,resize:d}=i,T={name:a,index:t,disabled:v,element:u};l(T);var S=()=>{var{disabled:C,name:g}=e;return C?c.value:f.value===g||f.value===(t==null?void 0:t.value)?w.value:B.value},I=()=>{var{disabled:C,name:g}=e;return C?"var-tab--disabled":f.value===g||f.value===(t==null?void 0:t.value)?"var-tab--active":"var-tab--inactive"},L=C=>{var{disabled:g,name:k,onClick:h}=e;g||(h==null||h(k!=null?k:t.value,C),n(T))};return A(()=>e.name,d),A(()=>e.disabled,d),{n:De,classes:$e,tabEl:r,active:f,activeColor:w,inactiveColor:B,itemDirection:m,computeColorStyle:S,computeColorClass:I,handleClick:L}}});K.install=function(e){e.component(K.name,K)};var ie=Symbol("TABS_ITEMS_BIND_TAB_ITEM_KEY"),oe=Symbol("TABS_ITEMS_COUNT_TAB_ITEM_KEY");function ze(){var{bindChildren:e,childProviders:r}=j(ie),{length:a}=Z(oe);return{length:a,tabItemList:r,bindTabItem:e}}function Ne(){var{parentProvider:e,bindParent:r}=_(ie),{index:a}=x(oe);if(!e||!r||!a)throw Error("<var-tab-item/> must in <var-tabs-items/>");return{index:a,tabsItems:e,bindTabsItems:r}}var Pe={name:{type:[String,Number]}},{n:Ue,classes:Le}=z("tab-item");function Ye(e,r){var a=re("var-swipe-item");return P(),O(a,{class:$(e.classes(e.n(),[!e.current,e.n("--inactive")])),"var-tab-item-cover":""},{default:W(()=>[e.initSlot?U(e.$slots,"default",{key:0}):be("v-if",!0)]),_:3},8,["class"])}const G=N({render:Ye,name:"VarTabItem",components:{VarSwipeItem:Ce},props:Pe,setup(e){var r=p(!1),a=p(!1),v=y(()=>e.name),{index:u,bindTabsItems:t}=Ne(),i=n=>{!a.value&&n&&(a.value=!0),r.value=n},l={index:u,name:v,setCurrent:i};return t(l),{n:Ue,classes:Le,current:r,initSlot:a}}});G.install=function(e){e.component(G.name,G)};function q(e){return["horizontal","vertical"].includes(e)}var Me={active:{type:[String,Number],default:0},layoutDirection:{type:String,default:"horizontal",validator:q},itemDirection:{type:String,default:"horizontal",validator:q},fixedBottom:{type:Boolean,default:!1},activeColor:{type:String},inactiveColor:{type:String},disabledColor:{type:String},color:{type:String},indicatorColor:{type:String},indicatorSize:{type:[String,Number]},elevation:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},safeArea:{type:Boolean,default:!1},offsetTop:ve(we,"offsetTop"),onClick:{type:Function},onChange:{type:Function},"onUpdate:active":{type:Function}};function Q(e,r,a,v,u,t,i){try{var l=e[t](i),n=l.value}catch(f){a(f);return}l.done?r(n):Promise.resolve(n).then(v,u)}function Ve(e){return function(){var r=this,a=arguments;return new Promise(function(v,u){var t=e.apply(r,a);function i(n){Q(t,v,u,i,l,"next",n)}function l(n){Q(t,v,u,i,l,"throw",n)}i(void 0)})}}var{n:Ke,classes:Ge}=z("tabs");function He(e,r){return P(),O(Se(e.sticky?"var-sticky":e.Transition),{"offset-top":e.sticky?e.offsetTop:null},{default:W(()=>[V("div",Te({class:e.classes(e.n(),"var--box",e.n("--item-"+e.itemDirection),e.n("--layout-"+e.layoutDirection+"-padding"),[e.elevation,"var-elevation--4"],[e.fixedBottom,e.n("--fixed-bottom")],[e.safeArea,e.n("--safe-area")]),style:{background:e.color}},e.$attrs),[V("div",{ref:"scrollerEl",class:$(e.classes(e.n("tab-wrap"),[e.scrollable,e.n("--layout-"+e.layoutDirection+"-scrollable")],e.n("--layout-"+e.layoutDirection)))},[U(e.$slots,"default"),V("div",{class:$(e.classes(e.n("indicator"),e.n("--layout-"+e.layoutDirection+"-indicator"))),style:ae({width:e.layoutDirection==="horizontal"?e.indicatorWidth:e.toSizeUnit(e.indicatorSize),height:e.layoutDirection==="horizontal"?e.toSizeUnit(e.indicatorSize):e.indicatorHeight,transform:e.layoutDirection==="horizontal"?"translateX("+e.indicatorX+")":"translateY("+e.indicatorY+")",background:e.indicatorColor||e.activeColor})},null,6)],2)],16)]),_:3},8,["offset-top"])}const H=N({render:He,name:"VarTabs",components:{VarSticky:Be},inheritAttrs:!1,props:Me,setup(e){var r=p("0px"),a=p("0px"),v=p("0px"),u=p("0px"),t=p(!1),i=p(null),l=y(()=>e.active),n=y(()=>e.activeColor),f=y(()=>e.inactiveColor),w=y(()=>e.disabledColor),B=y(()=>e.itemDirection),{tabList:c,bindTabList:m,length:d}=Ee(),T=s=>{var b,o=(b=s.name.value)!=null?b:s.index.value,{active:E,onChange:Y,onClick:M}=e;D(e["onUpdate:active"],o),D(M,o),o!==E&&D(Y,o)},S=()=>c.find(s=>{var{name:b}=s;return e.active===b.value}),I=s=>c.find(b=>{var{index:o}=b;return(s!=null?s:e.active)===o.value}),L=()=>{if(d.value!==0){var{active:s}=e;if(de(s)){var b=s>d.value-1?d.value-1:0;return D(e["onUpdate:active"],b),I(b)}}},C=()=>{t.value=c.length>=5},g=s=>{var{element:b}=s,o=b.value;e.layoutDirection==="horizontal"?(r.value=(o==null?void 0:o.offsetWidth)+"px",v.value=(o==null?void 0:o.offsetLeft)+"px"):(a.value=(o==null?void 0:o.offsetHeight)+"px",u.value=(o==null?void 0:o.offsetTop)+"px")},k=s=>{var{element:b}=s;if(!!t.value){var o=i.value,E=b.value;if(e.layoutDirection==="horizontal"){var Y=E.offsetLeft+E.offsetWidth/2-o.offsetWidth/2;R(o,{left:Y,animation:X})}else{var M=E.offsetTop+E.offsetHeight/2-o.offsetHeight/2;R(o,{top:M,animation:X})}}},h=()=>{var s=S()||I()||L();!s||s.disabled.value||(C(),g(s),k(s))},le={active:l,activeColor:n,inactiveColor:f,disabledColor:w,itemDirection:B,resize:h,onTabClick:T};return m(le),A(()=>d.value,Ve(function*(){yield ee(),h()})),A(()=>e.active,h),pe(()=>window.addEventListener("resize",h)),he(()=>window.removeEventListener("resize",h)),{indicatorWidth:r,indicatorHeight:a,indicatorX:v,indicatorY:u,scrollable:t,scrollerEl:i,Transition:ye,toSizeUnit:ue,n:Ke,classes:Ge,resize:h}}});H.install=function(e){e.component(H.name,H)};var Fe={active:{type:[String,Number],default:0},canSwipe:{type:Boolean,default:!0},loop:{type:Boolean,default:!1},"onUpdate:active":{type:Function}};function J(e,r,a,v,u,t,i){try{var l=e[t](i),n=l.value}catch(f){a(f);return}l.done?r(n):Promise.resolve(n).then(v,u)}function Oe(e){return function(){var r=this,a=arguments;return new Promise(function(v,u){var t=e.apply(r,a);function i(n){J(t,v,u,i,l,"next",n)}function l(n){J(t,v,u,i,l,"throw",n)}i(void 0)})}}var{n:We}=z("tabs-items");function Re(e,r){var a=re("var-swipe");return P(),O(a,{class:$(e.n()),ref:"swipe",loop:e.loop,touchable:e.canSwipe,indicator:!1,onChange:e.handleSwipeChange},{default:W(()=>[U(e.$slots,"default")]),_:3},8,["class","loop","touchable","onChange"])}const F=N({render:Re,name:"VarTabsItems",components:{VarSwipe:ge},props:Fe,setup(e){var r=p(null),{tabItemList:a,bindTabItem:v,length:u}=ze(),t=c=>a.find(m=>{var{name:d}=m;return c===d.value}),i=c=>a.find(m=>{var{index:d}=m;return c===d.value}),l=c=>t(c)||i(c),n=c=>{var m,d=l(c);!d||(a.forEach(T=>{var{setCurrent:S}=T;return S(!1)}),d.setCurrent(!0),(m=r.value)==null||m.to(d.index.value))},f=c=>{var m,d=a.find(S=>{var{index:I}=S;return I.value===c}),T=(m=d.name.value)!=null?m:d.index.value;D(e["onUpdate:active"],T)},w=()=>r.value,B={};return v(B),A(()=>e.active,n),A(()=>u.value,Oe(function*(){yield ee(),n(e.active)})),{swipe:r,n:We,handleSwipeChange:f,getSwipe:w}}});F.install=function(e){e.component(F.name,F)};export{K as T,H as a,G as b,F as c};
