import{I as X}from"./index-f2f1ba46.js";import{F as w,u as E}from"./provide-c186acaf.js";import{v as Z}from"./index-1a189d73.js";import{a as p,u as _,g as x,h as ee,i as ae,j as $,e as s,c as F}from"./shared-5ab78452.js";import{d as j,a as z,b as K,w as N,p as P,ag as re,f as T,h as B,M as U,D as oe,N as t,R as le,O as R,q as C,m as ne,n as W}from"./vue-router.esm-bundler-0540ad65.js";var ie={modelValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedValue:{type:[String,Number,Boolean,Object,Array],default:!0},uncheckedValue:{type:[String,Number,Boolean,Object,Array],default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},checkedColor:{type:String},uncheckedColor:{type:String},iconSize:{type:[String,Number]},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array},onClick:p(),onChange:p(),"onUpdate:modelValue":p()},Y=Symbol("RADIO_GROUP_BIND_RADIO_KEY"),q=Symbol("RADIO_GROUP_COUNT_RADIO_KEY");function se(){var{bindChildren:e,childProviders:a}=x(Y),{length:r}=_(q);return{length:r,radios:a,bindRadios:e}}function de(){var{bindParent:e,parentProvider:a}=ee(Y),{index:r}=ae(q);return{index:r,radioGroup:a,bindRadioGroup:e}}var{n:ue,classes:te}=F("radio");function ve(e,a){var r=P("var-icon"),v=P("var-form-details"),d=re("ripple");return T(),B("div",{class:t(e.n("wrap"))},[U("div",ne({class:e.n(),onClick:a[0]||(a[0]=function(){return e.handleClick&&e.handleClick(...arguments)})},e.$attrs),[oe((T(),B("div",{class:t(e.classes(e.n("action"),[e.checked,e.n("--checked"),e.n("--unchecked")],[e.errorMessage||e.radioGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:le({color:e.checked?e.checkedColor:e.uncheckedColor})},[e.checked?R(e.$slots,"checked-icon",{key:0},()=>[C(r,{class:t(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),"var-radio-cover":"",name:"radio-marked",size:e.iconSize},null,8,["class","size"])]):R(e.$slots,"unchecked-icon",{key:1},()=>[C(r,{class:t(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),"var-radio-cover":"",name:"radio-blank",size:e.iconSize},null,8,["class","size"])])],6)),[[d,{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple}]]),U("div",{class:t(e.classes(e.n("text"),[e.errorMessage||e.radioGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")]))},[R(e.$slots,"default")],2)],16),C(v,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var L=j({name:"VarRadio",directives:{Ripple:Z},components:{VarIcon:X,VarFormDetails:w},inheritAttrs:!1,props:ie,setup(e){var a=z(!1),r=K(()=>a.value===e.checkedValue),v=z(!1),{radioGroup:d,bindRadioGroup:y}=de(),{form:n,bindForm:A}=E(),{errorMessage:g,validateWithTrigger:D,validate:O,resetValidation:c}=$(),G=o=>{W(()=>{var{validateTrigger:l,rules:i,modelValue:h}=e;D(l,o,i,h)})},f=o=>{var{checkedValue:l,onChange:i}=e;d&&a.value===l||(a.value=o,s(e["onUpdate:modelValue"],a.value),s(i,a.value),d==null||d.onToggle(l),G("onChange"))},k=o=>{var{disabled:l,readonly:i,uncheckedValue:h,checkedValue:J,onClick:Q}=e;n!=null&&n.disabled.value||l||(s(Q,o),!(n!=null&&n.readonly.value||i)&&(v.value=!0,f(r.value?h:J)))},b=o=>{var{checkedValue:l,uncheckedValue:i}=e;a.value=o===l?l:i},u=()=>{s(e["onUpdate:modelValue"],e.uncheckedValue),c()},m=()=>O(e.rules,e.modelValue),S=o=>{var{uncheckedValue:l,checkedValue:i}=e,h=![l,i].includes(o);h&&(o=r.value?l:i),f(o)};N(()=>e.modelValue,o=>{a.value=o},{immediate:!0});var V={sync:b,validate:m,resetValidation:c,reset:u};return s(y,V),s(A,V),{withAnimation:v,checked:r,errorMessage:g,radioGroupErrorMessage:d==null?void 0:d.errorMessage,formDisabled:n==null?void 0:n.disabled,formReadonly:n==null?void 0:n.readonly,n:ue,classes:te,handleClick:k,toggle:S,reset:u,validate:m,resetValidation:c}}});L.render=ve;const I=L;I.install=function(e){e.component(I.name,I)};function ce(e){return["horizontal","vertical"].includes(e)}var me={modelValue:{type:[String,Number,Boolean,Object,Array],default:void 0},direction:{type:String,default:"horizontal",validator:ce},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array},onChange:p(),"onUpdate:modelValue":p()},{n:ge,classes:fe}=F("radio-group");function he(e,a){var r=P("var-form-details");return T(),B("div",{class:t(e.n("wrap"))},[U("div",{class:t(e.classes(e.n(),e.n("--"+e.direction)))},[R(e.$slots,"default")],2),C(r,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var H=j({name:"VarRadioGroup",components:{VarFormDetails:w},props:me,setup(e){var{length:a,radios:r,bindRadios:v}=se(),{bindForm:d}=E(),{errorMessage:y,validateWithTrigger:n,validate:A,resetValidation:g}=$(),D=K(()=>y.value),O=u=>{W(()=>{var{validateTrigger:m,rules:S,modelValue:V}=e;n(m,u,S,V)})},c=()=>r.forEach(u=>{var{sync:m}=u;return m(e.modelValue)}),G=u=>{s(e["onUpdate:modelValue"],u),s(e.onChange,u),O("onChange")},f=()=>A(e.rules,e.modelValue),k=()=>{s(e["onUpdate:modelValue"],void 0),g()};N(()=>e.modelValue,c),N(()=>a.value,c);var b={onToggle:G,validate:f,reset:k,resetValidation:g,errorMessage:D};return s(d,b),v(b),{errorMessage:y,n:ge,classes:fe,reset:k,validate:f,resetValidation:g}}});H.render=he;const M=H;M.install=function(e){e.component(M.name,M)};export{M as R,I as a};
