import{d as L,a as R,b as A,w as I,o as Y,p as O,D as K,E as Z,f as m,h as H,M as b,N as p,O as g,P,Q as $,i as k,j as N,R as V,q as y,S,m as h,G as Q,T as W,r as T,V as X,W as J,X as _,Y as x,Z as B,C as ee}from"./vue-router.esm-bundler.bcd2b732.js";import{p as f,L as ne}from"./index.ec60c451.js";import{I as ae}from"./index.3fe6af9c.js";import{u as te}from"./zIndex.ab1f70b9.js";import{p as v,c as q,e as oe,m as re}from"./shared.afebc00a.js";import{C as ie}from"./index.28d36455.js";import{u as se}from"./lock.4391fc05.js";function C(){return C=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},C.apply(this,arguments)}function le(e){var n=["top","center","bottom"];return n.includes(e)}function de(e){return z.includes(e)}var F={type:{type:String,validator:de},position:{type:String,default:"top",validator:le},content:{type:String},contentClass:{type:String},duration:{type:Number,default:3e3},vertical:{type:Boolean,default:!1},loadingType:v(f,"type"),loadingSize:v(f,"size"),loadingRadius:v(f,"radius"),loadingColor:C({},v(f,"color"),{default:"currentColor"}),lockScroll:{type:Boolean,default:!1},show:{type:Boolean,default:!1},teleport:{type:String,default:"body"},forbidClick:{type:Boolean,default:!1},onOpen:{type:Function,default:()=>{}},onOpened:{type:Function,default:()=>{}},onClose:{type:Function,default:()=>{}},onClosed:{type:Function,default:()=>{}},"onUpdate:show":{type:Function},_update:{type:String}},{n:ue,classes:ce}=q("snackbar"),pe={success:"checkbox-marked-circle",warning:"warning",info:"information",error:"error",loading:""};function fe(e,n){var a=O("var-icon"),t=O("var-loading");return K((m(),H("div",{class:p(e.n()),style:V({pointerEvents:e.isForbidClick?"auto":"none",zIndex:e.zIndex})},[b("div",{class:p(e.classes(e.n("wrapper"),e.n("wrapper-"+e.position),"var-elevation--4",[e.vertical,e.n("vertical")],[e.type&&e.SNACKBAR_TYPE.includes(e.type),e.n("wrapper-"+e.type)])),style:V({zIndex:e.zIndex})},[b("div",{class:p([e.n("content"),e.contentClass])},[g(e.$slots,"default",{},()=>[P($(e.content),1)])],2),b("div",{class:p(e.n("action"))},[e.iconName?(m(),k(a,{key:0,name:e.iconName},null,8,["name"])):N("v-if",!0),e.type==="loading"?(m(),k(t,{key:1,type:e.loadingType,size:e.loadingSize,color:e.loadingColor,radius:e.loadingRadius},null,8,["type","size","color","radius"])):N("v-if",!0),g(e.$slots,"action")],2)],6)],6)),[[Z,e.show]])}const U=L({render:fe,name:"VarSnackbarCore",components:{VarLoading:ne,VarIcon:ae},props:F,setup(e){var n=R(null),{zIndex:a}=te(()=>e.show,1);se(()=>e.show,()=>e.lockScroll);var t=A(()=>e.type==="loading"||e.forbidClick),o=A(()=>e.type?pe[e.type]:""),s=()=>{n.value=setTimeout(()=>{var i;e.type!=="loading"&&((i=e["onUpdate:show"])==null||i.call(e,!1))},e.duration)};return I(()=>e.show,i=>{i?(e.onOpen==null||e.onOpen(),s()):i===!1&&(clearTimeout(n.value),e.onClose==null||e.onClose())}),I(()=>e._update,()=>{clearTimeout(n.value),s()}),Y(()=>{e.show&&(e.onOpen==null||e.onOpen(),s())}),{SNACKBAR_TYPE:z,n:ue,classes:ce,zIndex:a,iconName:o,isForbidClick:t}}});var{n:ve}=q("snackbar");function me(e,n){var a=O("var-snackbar-core");return m(),k(W,{to:e.teleport,disabled:e.disabled},[y(Q,{name:e.n()+"-fade",onAfterEnter:e.onOpened,onAfterLeave:e.onClosed},{default:S(()=>[y(a,h(e.$props,{class:e.n("transition")}),{action:S(()=>[g(e.$slots,"action")]),default:S(()=>[g(e.$slots,"default",{},()=>[P($(e.content),1)])]),_:3},16,["class"])]),_:3},8,["name","onAfterEnter","onAfterLeave"])],8,["to","disabled"])}const d=L({render:me,name:"VarSnackbar",components:{VarSnackbarCore:U},props:F,setup(){var{disabled:e}=oe();return{n:ve,disabled:e}}});function c(){return c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},c.apply(this,arguments)}function ge(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ee(e)}var z=["loading","success","warning","info","error"],j=0,w=!1,E,u=!1,r=T([]),ye={type:void 0,content:"",position:"top",duration:3e3,vertical:!1,contentClass:void 0,loadingType:"circle",loadingSize:"normal",lockScroll:!1,teleport:"body",forbidClick:!1,onOpen:()=>{},onOpened:()=>{},onClose:()=>{},onClosed:()=>{}},be={name:"var-snackbar-fade",tag:"div",class:"var-transition-group"},Se={setup(){return()=>{var e=r.map(a=>{var{id:t,reactiveSnackOptions:o,_update:s}=a,i=document.querySelector(".var-transition-group");o.forbidClick||o.type==="loading"?i.classList.add("var-pointer-auto"):i.classList.remove("var-pointer-auto"),u&&(o.position="top");var D=u?"relative":"absolute",G=c({position:D},we(o.position));return y(U,h(o,{key:t,style:G,"data-id":t,_update:s,show:o.show,"onUpdate:show":M=>o.show=M}),null)}),n=ie.zIndex;return y(x,h(be,{style:{zIndex:n},onAfterEnter:Oe,onAfterLeave:ke}),ge(e)?e:{default:()=>[e]})}}},l=function(e){var n=J(e)||_(e)?{content:String(e)}:e,a=T(c({},ye,n));a.show=!0,w||(w=!0,E=re(Se).unmountInstance);var{length:t}=r,o={id:j++,reactiveSnackOptions:a};if(t===0||u)he(o);else{var s="update-"+j;Ce(a,s)}return{clear(){!u&&r.length?r[0].reactiveSnackOptions.show=!1:a.show=!1}}};z.forEach(e=>{l[e]=n=>(X(n)?n.type=e:n={content:n,type:e},l(n))});l.install=function(e){e.component(d.name,d)};l.allowMultiple=function(e){e===void 0&&(e=!1),e!==u&&(r.forEach(n=>{n.reactiveSnackOptions.show=!1}),u=e)};l.clear=function(){r.forEach(e=>{e.reactiveSnackOptions.show=!1})};l.Component=d;function Oe(e){var n=e.getAttribute("data-id"),a=r.find(t=>t.id===B(n));a&&(a.reactiveSnackOptions.onOpened==null||a.reactiveSnackOptions.onOpened())}function ke(e){e.parentElement&&e.parentElement.classList.remove("var-pointer-auto");var n=e.getAttribute("data-id"),a=r.find(o=>o.id===B(n));a&&(a.animationEnd=!0,a.reactiveSnackOptions.onClosed==null||a.reactiveSnackOptions.onClosed());var t=r.every(o=>o.animationEnd);t&&(E==null||E(),r=T([]),w=!1)}function he(e){r.push(e)}function Ce(e,n){var[a]=r;a.reactiveSnackOptions=c({},a.reactiveSnackOptions,e),a._update=n}function we(e){return e===void 0&&(e="top"),e==="bottom"?{[e]:"5%"}:{top:e==="top"?"5%":"45%"}}d.install=function(e){e.component(d.name,d)};const je=l;export{je as S};
