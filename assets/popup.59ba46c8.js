import{d as b,w,q as r,T as x,C as j,D as k,E as F,G as y,m as P}from"./vue-router.esm-bundler.61b845b6.js";import{u as B}from"./lock.7fa9a903.js";import{u as I}from"./zIndex.aa4cb5df.js";import{l as $,o as z,c as R}from"./shared.cb7db5ff.js";function T(e){return["top","bottom","right","left","center"].includes(e)}var V={show:{type:Boolean,default:!1},position:{type:String,default:"center",validator:T},transition:{type:String},overlay:{type:Boolean,default:!0},overlayClass:{type:String},overlayStyle:{type:Object},lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},defaultStyle:{type:Boolean,default:!0},teleport:{type:String},onOpen:{type:Function},onOpened:{type:Function},onClose:{type:Function},onClosed:{type:Function},onClickOverlay:{type:Function},onRouteChange:{type:Function},"onUpdate:show":{type:Function}};function v(){return v=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(e[u]=l[u])}return e},v.apply(this,arguments)}function A(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!j(e)}var{n:o,classes:d}=R("popup");const c=b({name:"VarPopup",inheritAttrs:!1,props:V,setup(e,i){var{slots:l,attrs:u}=i,{zIndex:s}=I(()=>e.show,3),{disabled:f}=$(),m=()=>{var n,{closeOnClickOverlay:t,onClickOverlay:a}=e;a==null||a(),t&&((n=e["onUpdate:show"])==null||n.call(e,!1))};B(()=>e.show,()=>e.lockScroll),w(()=>e.show,n=>{var{onOpen:t,onClose:a}=e;n?t==null||t():a==null||a()}),z(()=>e.onRouteChange==null?void 0:e.onRouteChange());var h=()=>{var{overlayClass:n="",overlayStyle:t}=e;return r("div",{class:d(o("overlay"),n),style:v({zIndex:s.value-1},t),onClick:m},null)},O=()=>r("div",P({class:d(o("content"),o("--"+e.position),[e.defaultStyle,o("--content-background-color")],[e.defaultStyle,o("$-elevation--3")]),style:{zIndex:s.value}},u),[l.default==null?void 0:l.default()]),p=()=>{var{onOpened:n,onClosed:t,show:a,overlay:C,transition:g,position:S}=e;return r(y,{name:o("$-fade"),onAfterEnter:n,onAfterLeave:t},{default:()=>[k(r("div",{class:d(o("$--box"),o()),style:{zIndex:s.value-2}},[C&&h(),r(y,{name:g||o("$-pop-"+S)},{default:()=>[a&&O()]})]),[[F,a]])]})};return()=>{var{teleport:n}=e;if(n){var t;return r(x,{to:n,disabled:f.value},A(t=p())?t:{default:()=>[t]})}return p()}}});c.install=function(e){e.component(c.name,c)};export{c as P,V as p};
