import{v as be}from"./index.452b8aab.js";import{a as E,H as ne,v as re,s as te,I as ie,c as M,e as B,p as G,t as pe,j as ye,D as F,z as oe,Q as J}from"./shared.b468a763.js";import{d as U,a as y,b as h,w as $,ai as he,D as Te,f as L,h as Ce,O as Y,N as A,R as le,p as se,i as j,S as q,j as Se,o as ge,u as Ie,G as we,M as O,m as ke,au as Be}from"./vue-router.esm-bundler.dfdc86af.js";import{a as $e,S as ze}from"./index.1d0c356b.js";import{p as W,S as Ee}from"./sticky.4a61b376.js";var Ae={name:{type:[String,Number]},disabled:{type:Boolean,default:!1},onClick:E()},ve=Symbol("TABS_BIND_TAB_KEY"),ue=Symbol("TABS_COUNT_TAB_KEY");function De(){var{childProviders:e,bindChildren:n}=re(ve),{length:a}=ne(ue);return{length:a,tabList:e,bindTabList:n}}function Ne(){var{parentProvider:e,bindParent:n}=te(ve),{index:a}=ie(ue);if(!e||!n||!a)throw Error("<var-tab/> must in <var-tabs/>");return{index:a,tabs:e,bindTabs:n}}var{n:P,classes:Pe}=M("tab");function Me(e,n){var a=he("ripple");return Te((L(),Ce("div",{class:A(e.classes(e.n(),e.n("$--box"),e.computeColorClass(),e.n("--"+e.itemDirection))),ref:"tabEl",style:le({color:e.computeColorStyle()}),onClick:n[0]||(n[0]=function(){return e.handleClick&&e.handleClick(...arguments)})},[Y(e.$slots,"default")],6)),[[a,{disabled:e.disabled}]])}const R=U({render:Me,name:"VarTab",directives:{Ripple:be},props:Ae,setup(e){var n=y(null),a=h(()=>e.name),v=h(()=>e.disabled),u=h(()=>n.value),{index:r,tabs:o,bindTabs:s}=Ne(),{onTabClick:t,active:b,activeColor:g,inactiveColor:I,disabledColor:d,itemDirection:c,resize:f}=o,p={name:a,index:r,disabled:v,element:u};s(p);var T=()=>{var{disabled:C,name:S}=e;return C?d.value:b.value===S||b.value===(r==null?void 0:r.value)?g.value:I.value},z=()=>{var{disabled:C,name:S}=e;return C?P("$-tab--disabled"):b.value===S||b.value===(r==null?void 0:r.value)?P("$-tab--active"):P("$-tab--inactive")},D=C=>{var{disabled:S,name:N,onClick:V}=e;S||(B(V,N!=null?N:r.value,C),t(p))};return $(()=>e.name,f),$(()=>e.disabled,f),{n:P,classes:Pe,tabEl:n,active:b,activeColor:g,inactiveColor:I,itemDirection:c,computeColorStyle:T,computeColorClass:z,handleClick:D}}});R.install=function(e){e.component(R.name,R)};var de=Symbol("TABS_ITEMS_BIND_TAB_ITEM_KEY"),ce=Symbol("TABS_ITEMS_COUNT_TAB_ITEM_KEY");function Ue(){var{bindChildren:e,childProviders:n}=re(de),{length:a}=ne(ce);return{length:a,tabItemList:n,bindTabItem:e}}function Le(){var{parentProvider:e,bindParent:n}=te(de),{index:a}=ie(ce);if(!e||!n||!a)throw Error("<var-tab-item/> must in <var-tabs-items/>");return{index:a,tabsItems:e,bindTabsItems:n}}var Ye={name:{type:[String,Number]}},{n:Ve,classes:Ke}=M("tab-item");function He(e,n){var a=se("var-swipe-item");return L(),j(a,{class:A(e.classes(e.n(),[!e.current,e.n("--inactive")])),"var-tab-item-cover":""},{default:q(()=>[e.initSlot?Y(e.$slots,"default",{key:0}):Se("v-if",!0)]),_:3},8,["class"])}const X=U({render:He,name:"VarTabItem",components:{VarSwipeItem:$e},props:Ye,setup(e){var n=y(!1),a=y(!1),v=h(()=>e.name),{index:u,bindTabsItems:r}=Le(),o=t=>{!a.value&&t&&(a.value=!0),n.value=t},s={index:u,name:v,setCurrent:o};return r(s),{n:Ve,classes:Ke,current:n,initSlot:a}}});X.install=function(e){e.component(X.name,X)};function _(e){return["horizontal","vertical"].includes(e)}var Ge={active:{type:[String,Number],default:0},layoutDirection:{type:String,default:"horizontal",validator:_},itemDirection:{type:String,default:"horizontal",validator:_},fixedBottom:{type:Boolean,default:!1},activeColor:{type:String},inactiveColor:{type:String},disabledColor:{type:String},color:{type:String},indicatorColor:{type:String},indicatorSize:{type:[String,Number]},elevation:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},stickyCssMode:G(W,"cssMode"),stickyZIndex:G(W,"zIndex"),offsetTop:G(W,"offsetTop"),safeArea:{type:Boolean,default:!1},onClick:E(),onChange:E(),"onUpdate:active":E()};function x(e,n,a,v,u,r,o){try{var s=e[r](o),t=s.value}catch(b){a(b);return}s.done?n(t):Promise.resolve(t).then(v,u)}function ee(e){return function(){var n=this,a=arguments;return new Promise(function(v,u){var r=e.apply(n,a);function o(t){x(r,v,u,o,s,"next",t)}function s(t){x(r,v,u,o,s,"throw",t)}o(void 0)})}}var{n:Oe,classes:We}=M("tabs");function Re(e,n){return L(),j(Be(e.sticky?e.n("$-sticky"):e.Transition),{ref:e.sticky?"stickyComponent":void 0,"css-mode":e.sticky?e.stickyCssMode:void 0,"offset-top":e.sticky?e.offsetTop:void 0,"z-index":e.sticky?e.stickyZIndex:void 0},{default:q(()=>[O("div",ke({class:e.classes(e.n(),e.n("$--box"),e.n("--item-"+e.itemDirection),e.n("--layout-"+e.layoutDirection+"-padding"),[e.elevation,e.n("$-elevation--4")],[e.fixedBottom,e.n("--fixed-bottom")],[e.safeArea,e.n("--safe-area")]),style:{background:e.color}},e.$attrs),[O("div",{ref:"scrollerEl",class:A(e.classes(e.n("tab-wrap"),[e.scrollable,e.n("--layout-"+e.layoutDirection+"-scrollable")],e.n("--layout-"+e.layoutDirection)))},[Y(e.$slots,"default"),O("div",{class:A(e.classes(e.n("indicator"),e.n("--layout-"+e.layoutDirection+"-indicator"))),style:le({width:e.layoutDirection==="horizontal"?e.indicatorWidth:e.toSizeUnit(e.indicatorSize),height:e.layoutDirection==="horizontal"?e.toSizeUnit(e.indicatorSize):e.indicatorHeight,transform:e.layoutDirection==="horizontal"?"translateX("+e.indicatorX+")":"translateY("+e.indicatorY+")",background:e.indicatorColor||e.activeColor})},null,6)],2)],16)]),_:3},8,["css-mode","offset-top","z-index"])}const Z=U({render:Re,name:"VarTabs",components:{VarSticky:Ee},inheritAttrs:!1,props:Ge,setup(e){var n=y("0px"),a=y("0px"),v=y("0px"),u=y("0px"),r=y(!1),o=y(null),s=h(()=>e.active),t=h(()=>e.activeColor),b=h(()=>e.inactiveColor),g=h(()=>e.disabledColor),I=h(()=>e.itemDirection),d=y(null),{tabList:c,bindTabList:f,length:p}=De(),T=i=>{var m,l=(m=i.name.value)!=null?m:i.index.value,{active:k,onChange:K,onClick:H}=e;B(e["onUpdate:active"],l),B(H,l),l!==k&&B(K,l)},z=()=>c.find(i=>{var{name:m}=i;return e.active===m.value}),D=i=>c.find(m=>{var{index:l}=m;return(i!=null?i:e.active)===l.value}),C=()=>{if(p.value!==0){var{active:i}=e;if(ye(i)){var m=i>p.value-1?p.value-1:0;return B(e["onUpdate:active"],m),D(m)}}},S=()=>{r.value=c.length>=5},N=i=>{var{element:m}=i,l=m.value;e.layoutDirection==="horizontal"?(n.value=(l==null?void 0:l.offsetWidth)+"px",v.value=(l==null?void 0:l.offsetLeft)+"px"):(a.value=(l==null?void 0:l.offsetHeight)+"px",u.value=(l==null?void 0:l.offsetTop)+"px")},V=i=>{var{element:m}=i;if(!!r.value){var l=o.value,k=m.value;if(e.layoutDirection==="horizontal"){var K=k.offsetLeft+k.offsetWidth/2-l.offsetWidth/2;F(l,{left:K,animation:J})}else{var H=k.offsetTop+k.offsetHeight/2-l.offsetHeight/2;F(l,{top:H,animation:J})}}},w=()=>{var i=z()||D()||C();!i||i.disabled.value||(S(),N(i),V(i))},fe=function(){var i=ee(function*(){e.sticky&&d.value&&(yield d.value.resize())});return function(){return i.apply(this,arguments)}}(),me={active:s,activeColor:t,inactiveColor:b,disabledColor:g,itemDirection:I,resize:w,onTabClick:T};return f(me),$(()=>p.value,ee(function*(){yield oe(),w()})),$(()=>e.active,w),ge(()=>window.addEventListener("resize",w)),Ie(()=>window.removeEventListener("resize",w)),{stickyComponent:d,indicatorWidth:n,indicatorHeight:a,indicatorX:v,indicatorY:u,scrollable:r,scrollerEl:o,Transition:we,toSizeUnit:pe,n:Oe,classes:We,resize:w,resizeSticky:fe}}});Z.install=function(e){e.component(Z.name,Z)};var Xe={active:{type:[String,Number],default:0},canSwipe:{type:Boolean,default:!0},loop:{type:Boolean,default:!1},"onUpdate:active":E()};function ae(e,n,a,v,u,r,o){try{var s=e[r](o),t=s.value}catch(b){a(b);return}s.done?n(t):Promise.resolve(t).then(v,u)}function Ze(e){return function(){var n=this,a=arguments;return new Promise(function(v,u){var r=e.apply(n,a);function o(t){ae(r,v,u,o,s,"next",t)}function s(t){ae(r,v,u,o,s,"throw",t)}o(void 0)})}}var{n:Qe}=M("tabs-items");function je(e,n){var a=se("var-swipe");return L(),j(a,{class:A(e.n()),ref:"swipe",loop:e.loop,touchable:e.canSwipe,indicator:!1,onChange:e.handleSwipeChange},{default:q(()=>[Y(e.$slots,"default")]),_:3},8,["class","loop","touchable","onChange"])}const Q=U({render:je,name:"VarTabsItems",components:{VarSwipe:ze},props:Xe,setup(e){var n=y(null),{tabItemList:a,bindTabItem:v,length:u}=Ue(),r=d=>a.find(c=>{var{name:f}=c;return d===f.value}),o=d=>a.find(c=>{var{index:f}=c;return d===f.value}),s=d=>r(d)||o(d),t=d=>{var c,f=s(d);!f||(a.forEach(p=>{var{setCurrent:T}=p;return T(!1)}),f.setCurrent(!0),(c=n.value)==null||c.to(f.index.value))},b=d=>{var c,f=a.find(T=>{var{index:z}=T;return z.value===d}),p=(c=f.name.value)!=null?c:f.index.value;B(e["onUpdate:active"],p)},g=()=>n.value,I={};return v(I),$(()=>e.active,t),$(()=>u.value,Ze(function*(){yield oe(),t(e.active)})),{swipe:n,n:Qe,handleSwipeChange:b,getSwipe:g}}});Q.install=function(e){e.component(Q.name,Q)};export{R as T,Z as a,X as b,Q as c};
