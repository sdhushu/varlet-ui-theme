import{v as N}from"./index-c5f09b40.js";import{p as d,L as S}from"./index-d8f4ea61.js";import{H as P,a as V,u as H}from"./index-fe11295e.js";import{p as v,a as b,u as L,c as R,e as h,g as G}from"./shared-128c81f0.js";import{u as U}from"./useChildren-57fd1ce4.js";import{d as $,a as D,b as j,p as c,ag as B,D as w,f as C,h as E,i as A,N as f,j as I,M as K,O as Y,q,R as M}from"./vue-router.esm-bundler-fa266481.js";function g(){return g=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},g.apply(this,arguments)}function F(e){return["default","primary","info","success","warning","danger"].includes(e)}function J(e){return["normal","mini","small","large"].includes(e)}function Q(e){return["button","reset","submit"].includes(e)}var W={type:{type:String,validator:F},nativeType:{type:String,default:"button",validator:Q},size:{type:String,validator:J},loading:{type:Boolean,default:!1},round:{type:Boolean,default:!1},block:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ripple:{type:Boolean,default:!0},color:{type:String},textColor:{type:String},autoLoading:{type:Boolean,default:!1},loadingRadius:{type:[Number,String]},loadingType:v(d,"type"),loadingSize:v(d,"size"),loadingColor:g({},v(d,"color"),{default:"currentColor"}),onClick:b(),onTouchstart:b()},T=Symbol("BUTTON_GROUP_BIND_BUTTON_KEY");function ie(){var{bindChildren:e,childProviders:a,length:n}=U(T);return{length:n,buttons:a,bindButtons:e}}function X(){var{bindParent:e,parentProvider:a,index:n}=L(T);return{index:n,buttonGroup:a,bindButtonGroup:e}}var{n:Z,classes:_}=R("button"),x=["type","disabled"];function ee(e,a){var n=c("var-loading"),t=c("var-hover-overlay"),s=B("ripple"),u=B("hover");return w((C(),E("button",{class:f(e.classes(e.n(),e.n("$--box"),e.n("--"+e.states.size),[e.block,e.n("$--flex")+" "+e.n("--block"),e.n("$--inline-flex")],[e.disabled,e.n("--disabled")],[e.states.text,e.n("--text-"+e.states.type)+" "+e.n("--text"),e.n("--"+e.states.type)+" "+e.n("$-elevation--"+e.states.elevation)],[e.states.text&&e.disabled,e.n("--text-disabled")],[e.round,e.n("--round")],[e.states.outline,e.n("--outline")])),style:M({color:e.states.textColor,background:e.states.color}),type:e.nativeType,disabled:e.disabled,onClick:a[0]||(a[0]=function(){return e.handleClick&&e.handleClick(...arguments)}),onTouchstart:a[1]||(a[1]=function(){return e.handleTouchstart&&e.handleTouchstart(...arguments)})},[e.loading||e.pending?(C(),A(n,{key:0,class:f(e.n("loading")),"var-button-cover":"",color:e.loadingColor,type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","color","type","size","radius"])):I("v-if",!0),K("div",{class:f(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[Y(e.$slots,"default")],2),q(t,{hovering:e.hovering},null,8,["hovering"])],46,x)),[[s,{disabled:e.disabled||!e.ripple}],[u,e.handleHovering,"desktop"]])}var z=$({name:"VarButton",components:{VarLoading:S,VarHoverOverlay:P},directives:{Ripple:N,Hover:V},props:W,setup(e){var a=D(!1),{buttonGroup:n}=X(),{hovering:t,handleHovering:s}=H(),u=j(()=>{if(!n)return{elevation:2,type:e.type!=null?e.type:"default",size:e.size!=null?e.size:"normal",color:e.color,text:e.text,textColor:e.textColor,outline:e.outline};var{type:o,size:r,color:i,textColor:l,mode:m}=n;return{elevation:0,type:e.type!=null?e.type:o.value,size:e.size!=null?e.size:r.value,color:e.color!=null?e.color:i.value,textColor:e.textColor!=null?e.textColor:l.value,text:m.value!=="normal",outline:m.value==="outline"}}),y=o=>{e.autoLoading&&(a.value=!0,o=G(o)?o:[o],Promise.all(o).then(()=>{a.value=!1}).catch(()=>{a.value=!1}))},k=o=>{var{loading:r,disabled:i,onClick:l}=e;!l||r||i||a.value||y(h(l,o))},O=o=>{var{loading:r,disabled:i,onTouchstart:l}=e;!l||r||i||a.value||y(h(l,o))};return{n:Z,classes:_,pending:a,states:u,hovering:t,handleHovering:s,handleClick:k,handleTouchstart:O}}});z.render=ee;const p=z;p.install=function(e){e.component(p.name,p)};export{p as B,F as t,ie as u};
