import{v as P}from"./index-c6a26488.js";import{p as A,P as j}from"./popup-272c5c9f.js";import{I as R}from"./index-951ce32a.js";import{p as B,a as y,b as U,c as $,e as i,m as z}from"./shared-4a7fb7de.js";import{p as D}from"./index-a7264297.js";import{d as V,a as I,w as N,p as C,ag as F,f as p,i as O,S as L,M as v,O as S,N as c,Q as w,h as g,ai as T,D as E,R as M,j as Q,F as q,m as b,ar as G,r as H,n as J}from"./vue-router.esm-bundler-9b345358.js";function d(){return d=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e},d.apply(this,arguments)}var K=d({show:{type:Boolean,default:!1},actions:{type:Array,default:()=>[]},title:{type:String},closeOnClickAction:{type:Boolean,default:!0},onSelect:y(),"onUpdate:show":y()},B(A,["overlay","overlayClass","overlayStyle","lockScroll","closeOnClickOverlay","teleport","onOpen","onClose","onOpened","onClosed","onClickOverlay","onRouteChange"])),{n:W,classes:X}=$("action-sheet"),Y=["onClick"];function Z(e,n){var o=C("var-icon"),a=C("var-popup"),s=F("ripple");return p(),O(a,b({class:e.n("popup-radius"),position:"bottom",overlay:e.overlay,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,"lock-scroll":e.lockScroll,"close-on-click-overlay":e.closeOnClickOverlay,teleport:e.teleport,show:e.popupShow},{"onUpdate:show":e.handlePopupUpdateShow},{onOpen:e.onOpen,onClose:e.onClose,onClosed:e.onClosed,onOpened:e.onOpened,onRouteChange:e.onRouteChange}),{default:L(()=>[v("div",b({class:e.classes(e.n(),e.n("$--box"))},e.$attrs),[S(e.$slots,"title",{},()=>[v("div",{class:c(e.n("title"))},w(e.dt(e.title,e.pack.actionSheetTitle)),3)]),S(e.$slots,"actions",{},()=>[(p(!0),g(q,null,T(e.actions,l=>E((p(),g("div",{class:c(e.classes(e.n("action-item"),l.className,[l.disabled,e.n("--disabled")])),key:l.name,style:M({color:l.color}),onClick:h=>e.handleSelect(l)},[l.icon?(p(),O(o,{key:0,class:c(e.n("action-icon")),"var-action-sheet-cover":"",name:l.icon,size:l.iconSize},null,8,["class","name","size"])):Q("v-if",!0),v("div",{class:c(e.n("action-name"))},w(l.name),3)],14,Y)),[[s,{disabled:l.disabled}]])),128))])],16)]),_:3},16,["class","overlay","overlay-class","overlay-style","lock-scroll","close-on-click-overlay","teleport","show","onOpen","onClose","onClosed","onOpened","onRouteChange"])}var k=V({name:"VarActionSheet",directives:{Ripple:P},components:{VarPopup:j,VarIcon:R},inheritAttrs:!1,props:K,setup(e){var n=I(!1),o=s=>{if(!s.disabled){var{closeOnClickAction:l,onSelect:h}=e;i(h,s),l&&i(e["onUpdate:show"],!1)}},a=s=>i(e["onUpdate:show"],s);return N(()=>e.show,s=>{n.value=s},{immediate:!0}),{n:W,classes:X,handlePopupUpdateShow:a,popupShow:n,pack:D,dt:U,handleSelect:o}}});k.render=Z;const t=k;function m(){return m=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e},m.apply(this,arguments)}var r,f={};function _(e){return e===void 0&&(e={}),m({},f,e)}function u(e){return G()?new Promise(n=>{u.close();var o=H(_(e));o.teleport="body",r=o;var{unmountInstance:a}=z(t,o,{onSelect:s=>{i(o.onSelect,s),n(s)},onClose:()=>{i(o.onClose),n("close")},onClosed:()=>{i(o.onClosed),a(),r===o&&(r=null)},onRouteChange:()=>{a(),r===o&&(r=null)},"onUpdate:show":s=>{o.show=s}});o.show=!0}):Promise.resolve()}function x(e){f=e}function ee(){f={}}function oe(){if(r!=null){var e=r;r=null,J().then(()=>{e.show=!1})}}u.Component=t;t.install=function(e){e.component(t.name,t)};u.install=function(e){e.component(t.name,t)};Object.assign(u,{setDefaultOptions:x,resetDefaultOptions:ee,close:oe});export{u as A};
