import{A as S}from"./AppType.33a0a24e.js";import{B as j}from"./index.6a659628.js";import{w as G,i as J,c as K,b as F,h as R,x as W,y as z,z as X}from"./shared.c0b67846.js";import{d as Y,b as N,w as O,f as U,h as $,O as P,N as C,n as k,aA as B,a as w,p as Z,M as y,P as d,Q as m,q as i,D as x,E as ee,r as ae,S as r,an as a,F as le}from"./vue-router.esm-bundler.cc802ca4.js";import{I as te}from"./index.a6c22209.js";import{S as ne}from"./index.7b77884c.js";/* empty css                  *//* empty css             *//* empty css               *//* empty css                *//* empty css               */import"./ButtonSfc.d73b10b3.js";/* empty css              */import{d as re}from"./index.fb915d03.js";import{p as l,u as oe}from"./index.ed2f0020.js";import{a as ie,b as ue}from"./utils.3e96b6e9.js";import{u as se}from"./sync.06b1480e.js";import"./AppType.vue_vue_type_style_index_0_lang.7c2ae4f0.js";import"./index.3aff19e2.js";import"./index.8a6ef156.js";import"./index.75ee25f0.js";import"./_commonjsHelpers.b8add541.js";import"./index.6f47cb53.js";var _=Symbol("COLLAPSE_BIND_COLLAPSE_ITEM_KEY"),H=Symbol("COLLAPSE_COUNT_COLLAPSE_ITEM_KEY");function de(){var{bindChildren:e,childProviders:o}=J(_),{length:t}=G(H);return{length:t,collapseItem:o,bindCollapseItem:e}}var me={modelValue:{type:[Array,String,Number]},accordion:{type:Boolean,default:!1},offset:{type:Boolean,default:!0},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},{n:fe}=K("collapse");function ve(e,o){return U(),$("div",{class:C(e.n())},[P(e.$slots,"default")],2)}const g=Y({render:ve,name:"VarCollapse",props:me,setup(e){var{length:o,collapseItem:t,bindCollapseItem:b}=de(),h=N(()=>e.modelValue),n=N(()=>e.offset),f=()=>!e.accordion&&!B(e.modelValue)?(console.error('[Varlet] Collapse: type of prop "modelValue" should be an Array'),!1):e.accordion&&B(e.modelValue)?(console.error('[Varlet] Collapse: type of prop "modelValue" should be a String or Number'),!1):!0,V=(u,s)=>f()?s?e.accordion?u:[...e.modelValue,u]:e.accordion?null:e.modelValue.filter(v=>v!==u):null,I=(u,s)=>{var v=V(u,s);F(e["onUpdate:modelValue"],v),F(e.onChange,v)},A=()=>{if(e.accordion)return t.find(s=>{var{name:v}=s;return e.modelValue===v.value});var u=t.filter(s=>{var{name:v}=s;return v.value===void 0?!1:e.modelValue.includes(v.value)});return u.length?u:void 0},L=()=>e.accordion?t.find(u=>{var{index:s,name:v}=u;return v.value===void 0?e.modelValue===s.value:!1}):t.filter(u=>{var{index:s,name:v}=u;return v.value===void 0?e.modelValue.includes(s.value):!1}),E=()=>{if(!!f()){var u=A()||L();if(e.accordion&&!u||!e.accordion&&!u.length){t.forEach(s=>{s.init(e.accordion,!1)});return}t.forEach(s=>{var v=e.accordion?u===s:u.includes(s);s.init(e.accordion,v)})}},T={active:h,offset:n,updateItem:I};return b(T),O(()=>o.value,()=>k().then(E)),O(()=>e.modelValue,()=>k().then(E)),{n:fe}}});g.install=function(e){e.component(g.name,g)};function ce(){var{parentProvider:e,bindParent:o}=R(_),{index:t}=W(H);if(!e||!o||!t)throw Error("[Varlet] Collapse: <var-collapse-item/> must in <var-collapse>");return{index:t,collapse:e,bindCollapse:o}}var pe={name:{type:[String,Number]},title:{type:String},icon:{type:String,default:"chevron-down"},disabled:{type:Boolean,default:!1}},{n:he,classes:Ve}=K("collapse-item");function Ce(e,o){var t=Z("var-icon");return U(),$("div",{class:C(e.classes(e.n(),[e.offset&&e.isShow,e.n("--active")],[e.disabled,e.n("--disable")]))},[y("div",{class:C(e.n("header")),onClick:o[0]||(o[0]=b=>e.toggle())},[y("div",{class:C(e.n("header-title"))},[P(e.$slots,"title",{},()=>[d(m(e.title),1)])],2),y("div",{class:C(e.n("header-icon"))},[P(e.$slots,"icon",{},()=>[i(t,{name:e.icon,transition:250,class:C(e.classes(e.n("header-icon"),[e.isShow&&e.icon==="chevron-down",e.n("header-open")],[e.disabled,e.n("header--disable")]))},null,8,["name","class"])])],2)],2),x(y("div",{class:C(e.n("content")),ref:"contentEl",onTransitionend:o[1]||(o[1]=function(){return e.transitionend&&e.transitionend(...arguments)}),onTransitionstart:o[2]||(o[2]=function(){return e.start&&e.start(...arguments)})},[y("div",{class:C(e.n("content-wrap"))},[P(e.$slots,"default")],2)],34),[[ee,e.show]])],2)}const c=Y({render:Ce,name:"VarCollapseItem",components:{VarIcon:te},props:pe,setup(e){var{index:o,collapse:t,bindCollapse:b}=ce(),h=!0,n=w(null),f=w(!1),V=w(!1),{active:I,offset:A,updateItem:L}=t,E=N(()=>e.name),T=(p,D)=>{I.value===void 0||p&&B(I.value)||D===V.value||(V.value=D,u(!0))},u=p=>{e.disabled||p||L(e.name||o.value,!V.value)},s=()=>{!n.value||(n.value.style.height="",f.value=!0,k(()=>{var{offsetHeight:p}=n.value;n.value.style.height=0+"px",z(()=>{n.value.style.height=p+"px",h&&X(()=>{h&&M()})})}))},v=()=>{h=!1},q=()=>{if(!!n.value){var{offsetHeight:p}=n.value;n.value.style.height=p+"px",z(()=>{n.value.style.height=0+"px"})}},M=()=>{V.value||(f.value=!1),n.value.style.height=""},Q={index:o,name:E,init:T};return b(Q),O(V,p=>{p?s():q()}),{n:he,start:v,classes:Ve,show:f,isShow:V,offset:A,toggle:u,contentEl:n,transitionend:M}}});c.install=function(e){e.component(c.name,c)};const ge=d("^_^"),He={setup(e){const o=w(!1),t=ae({value:["1"],value1:"",value2:[1],value3:["1"],value4:["2"]}),b=h=>{console.log(h)};return ie(oe),ue(re),se(),(h,n)=>(U(),$(le,null,[i(a(S),null,{default:r(()=>[d(m(a(l).basicUsage),1)]),_:1}),i(a(g),{modelValue:a(t).value,"onUpdate:modelValue":n[0]||(n[0]=f=>a(t).value=f),onChange:b},{default:r(()=>[i(a(c),{title:a(l).title,name:"1"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"]),i(a(c),{title:a(l).title,name:"2"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),i(a(S),null,{default:r(()=>[d(m(a(l).hideMargin),1)]),_:1}),i(a(g),{modelValue:a(t).value4,"onUpdate:modelValue":n[1]||(n[1]=f=>a(t).value4=f),offset:!1},{default:r(()=>[i(a(c),{title:a(l).title,name:"1"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"]),i(a(c),{title:a(l).title,name:"2"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),i(a(S),null,{default:r(()=>[d(m(a(l).accordionMode),1)]),_:1}),i(a(g),{modelValue:a(t).value1,"onUpdate:modelValue":n[2]||(n[2]=f=>a(t).value1=f),accordion:"",offset:!1},{default:r(()=>[i(a(c),{title:a(l).title,name:"1"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"]),i(a(c),{title:a(l).title,name:"2"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),i(a(S),null,{default:r(()=>[d(m(a(l).disabled),1)]),_:1}),i(a(ne),{direction:"column",size:[8,8]},{default:r(()=>[i(a(j),{onClick:n[3]||(n[3]=f=>o.value=!o.value)},{default:r(()=>[d(m(o.value?a(l).enable:a(l).disabled),1)]),_:1}),i(a(g),{modelValue:a(t).value2,"onUpdate:modelValue":n[4]||(n[4]=f=>a(t).value2=f)},{default:r(()=>[i(a(c),{title:a(l).title,name:1,disabled:o.value},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title","disabled"]),i(a(c),{title:a(l).title,name:2,disabled:o.value},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title","disabled"])]),_:1},8,["modelValue"])]),_:1}),i(a(S),null,{default:r(()=>[d(m(a(l).customContent),1)]),_:1}),i(a(g),{modelValue:a(t).value3,"onUpdate:modelValue":n[5]||(n[5]=f=>a(t).value3=f)},{default:r(()=>[i(a(c),{title:a(l).slotTitle,name:"1",icon:"account-circle"},{default:r(()=>[d(m(a(l).text),1)]),_:1},8,["title"]),i(a(c),{name:"2"},{title:r(()=>[d(m(a(l).slotTitle),1)]),icon:r(()=>[ge]),default:r(()=>[d(" "+m(a(l).slotContent),1)]),_:1})]),_:1},8,["modelValue"])],64))}};export{He as default};
