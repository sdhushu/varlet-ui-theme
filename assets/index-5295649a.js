import{C as H}from"./cell-c7bd4e4d.js";import{S as ue}from"./sticky-ff7bb113.js";import{d as G,a as v,b as _,G as de,f as m,i as U,S as k,M as Q,O as Z,P as A,Q as f,m as ce,au as ve,w as fe,o as j,e as pe,Z as Y,h as b,F as J,ai as W,N as R,R as V,V as me,ac as he,aE as ye,ao as p,q as $}from"./vue-router.esm-bundler-1cdb4ad3.js";import{u as ge,g as Ce,h as _e,i as ke,c as ee,a as F,o as be,e as z,C as Te,D as Ie,q as K,y as Ne,z as Be,A as xe,B as Ee,E as Ae}from"./shared-c5b4ee22.js";import{d as Se}from"./index-404bdbb6.js";import{p as L,u as we}from"./index-c16471df.js";import{u as De}from"./sync-ff73d84a.js";/* empty css             */import"./CellSfc-4ed993c7.js";import"./index-19d5ca99.js";import"./index-10e817da.js";import"./index-4f06d85d.js";import"./_commonjsHelpers-725317a4.js";import"./index-fa3e7a39.js";var ae=Symbol("INDEX_BAR_BIND_INDEX_ANCHOR_KEY"),ne=Symbol("INDEX_BAR_COUNT_INDEX_ANCHOR_KEY");function Oe(){var{bindChildren:e,childProviders:t}=Ce(ae),{length:n}=ge(ne);return{length:n,indexAnchors:t,bindIndexAnchors:e}}function Pe(){var{parentProvider:e,bindParent:t}=_e(ae),{index:n}=ke(ne);if(!e||!t)throw Error('[Varlet] IndexAnchor: You should use this component in "IndexBar"');return{index:n,indexBar:e,bindIndexBar:t}}var Re={index:{type:[Number,String]}},{n:$e,classes:ze}=ee("index-anchor");function Le(e,t){return m(),U(ve(e.sticky?e.n("$-sticky"):e.Transition),{"offset-top":e.sticky?e.stickyOffsetTop:null,"z-index":e.sticky?e.zIndex:null,disabled:e.disabled&&!e.cssMode,"css-mode":e.cssMode,ref:"anchorEl"},{default:k(()=>[Q("div",ce({class:e.n()},e.$attrs),[Z(e.$slots,"default",{},()=>[A(f(e.name),1)])],16)]),_:3},8,["offset-top","z-index","disabled","css-mode"])}var re=G({name:"VarIndexAnchor",components:{VarSticky:ue},inheritAttrs:!1,props:Re,setup(e){var{index:t,indexBar:n,bindIndexBar:c}=Pe(),i=v(0),a=v(!1),u=_(()=>e.index),r=v(null),{active:s,sticky:g,cssMode:D,stickyOffsetTop:C,zIndex:T}=n,O=()=>{r.value&&(i.value=r.value.$el?r.value.$el.offsetTop:r.value.offsetTop)},I=B=>{a.value=B},N={index:t,name:u,ownTop:i,setOwnTop:O,setDisabled:I};return c(N),{n:$e,classes:ze,name:u,anchorEl:r,active:s,sticky:g,zIndex:T,disabled:a,cssMode:D,stickyOffsetTop:C,Transition:de}}});re.render=Le;const S=re;S.install=function(e){e.component(S.name,S)};var Me={sticky:{type:Boolean,default:!0},stickyOffsetTop:{type:[String,Number],default:0},cssMode:{type:Boolean,default:!1},hideList:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:1},highlightColor:{type:String},duration:{type:[Number,String],default:0},onClick:F(),onChange:F()};function q(e,t,n,c,i,a,u){try{var r=e[a](u),s=r.value}catch(g){n(g);return}r.done?t(s):Promise.resolve(s).then(c,i)}function M(e){return function(){var t=this,n=arguments;return new Promise(function(c,i){var a=e.apply(t,n);function u(s){q(a,c,i,u,r,"next",s)}function r(s){q(a,c,i,u,r,"throw",s)}u(void 0)})}}var{n:Ve,classes:Xe}=ee("index-bar"),He=["onClick"];function Ye(e,t){return m(),b("div",{class:R(e.n()),ref:"barEl"},[Z(e.$slots,"default"),Q("ul",{class:R(e.n("anchor-list")),style:V({zIndex:e.toNumber(e.zIndex)+2,display:e.hideList?"none":"block"})},[(m(!0),b(J,null,W(e.anchorNameList,n=>(m(),b("li",{key:n,class:R(e.classes(e.n("anchor-item"),[e.active===n,e.n("anchor-item--active")])),style:V({color:e.active===n&&e.highlightColor?e.highlightColor:""}),onClick:c=>e.anchorClick({anchorName:n,manualCall:!0})},f(n),15,He))),128))],6)],2)}var te=G({name:"VarIndexBar",props:Me,setup(e){var{length:t,indexAnchors:n,bindIndexAnchors:c}=Oe(),i=v(""),a=v(null),u=v(null),r=v([]),s=v(),g=_(()=>e.sticky),D=_(()=>e.cssMode),C=_(()=>be(e.stickyOffsetTop)),T=_(()=>e.zIndex),O={active:s,sticky:g,cssMode:D,stickyOffsetTop:C,zIndex:T};c(O);var I=(d,l)=>{var o=me(d)?d.name.value:d;o===s.value||o===void 0||(s.value=o,(l==null?void 0:l.event)!==!1&&z(e.onChange,o))},N=()=>{if(!("getBoundingClientRect"in a.value))return 0;var{top:d}=a.value.getBoundingClientRect(),{scrollTop:l}=a.value,{top:o}=u.value.getBoundingClientRect();return l-d+o},B=()=>{var d=Te(a.value),l=a.value===window?document.body.scrollHeight:a.value.scrollHeight,o=N();n.forEach((h,y)=>{var x=h.ownTop.value,E=d-x+C.value-o,P=y===n.length-1?l:n[y+1].ownTop.value-h.ownTop.value;E>=0&&E<P&&i.value===""&&(y&&!e.cssMode&&n[y-1].setDisabled(!0),h.setDisabled(!1),I(h))})},X=function(){var d=M(function*(l){var{anchorName:o,manualCall:h=!1,options:y}=l;if(h&&z(e.onClick,o),o!==s.value){var x=n.find(le=>{var{name:ie}=le;return o===ie.value});if(x){var E=N(),P=x.ownTop.value-C.value+E,se=Be(a.value);i.value=o,I(o,y),yield xe(a.value,{left:se,top:P,animation:Ee,duration:Y(e.duration)}),Ae(()=>{i.value=""})}}});return function(o){return d.apply(this,arguments)}}(),oe=(d,l)=>{Ie(()=>X({anchorName:d,options:l}))};return fe(()=>t.value,M(function*(){yield K(),n.forEach(d=>{var{name:l,setOwnTop:o}=d;l.value&&r.value.push(l.value),o()})})),j(M(function*(){yield K(),a.value=Ne(u.value),a.value.addEventListener("scroll",B)})),pe(()=>{z(a.value.removeEventListener,"scroll",B)}),{n:Ve,classes:Xe,barEl:u,active:s,zIndex:T,anchorNameList:r,toNumber:Y,scrollTo:oe,anchorClick:X}}});te.render=Ye;const w=te;w.install=function(e){e.component(w.name,w)};const ta={setup(e){const t=v([]),n=v("#e7edf7"),c=v("#2e67ba");j(()=>{for(let a=0;a<26;a++)t.value.push(String.fromCharCode(65+a))});const i=a=>{console.log(a)};return he(we),ye(Se,a=>{n.value=a==="darkTheme"?"rgb(41, 42, 45)":"#e7edf7",c.value=a==="darkTheme"?"#3980e8":"#2e67ba"}),De(),(a,u)=>(m(),U(p(w),{onChange:i,duration:"300","sticky-offset-top":"14.4vw"},{default:k(()=>[(m(!0),b(J,null,W(t.value,r=>(m(),b("div",{key:r},[$(p(S),{index:r,class:"var-index-anchor__example",style:V({background:n.value,color:c.value})},{default:k(()=>[A(f(p(L).title)+" "+f(r),1)]),_:2},1032,["index","style"]),$(p(H),null,{default:k(()=>[A(f(r)+" "+f(p(L).text),1)]),_:2},1024),$(p(H),null,{default:k(()=>[A(f(r)+" "+f(p(L).text),1)]),_:2},1024)]))),128))]),_:1}))}};export{ta as default};
