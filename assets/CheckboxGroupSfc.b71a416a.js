import{F as w,u as z}from"./provide.9ad17e86.js";import{a as C,u as B,e as l,c as q,K as b}from"./shared.b468a763.js";import{u as D}from"./checkbox.cf5857c4.js";import{d as P,b as i,w as p,p as K,f as L,h as O,M as $,O as j,N as x,q as H,n as I}from"./vue-router.esm-bundler.dfdc86af.js";function J(e){return["horizontal","vertical"].includes(e)}var Q={modelValue:{type:Array,default:()=>[]},max:{type:[String,Number]},direction:{type:String,default:"horizontal",validator:J},validateTrigger:{type:Array,default:["onChange"]},rules:{type:Array},onChange:C(),"onUpdate:modelValue":C()},{n:R,classes:X}=q("checkbox-group");function Y(e,d){var s=K("var-form-details");return L(),O("div",{class:x(e.n("wrap"))},[$("div",{class:x(e.classes(e.n(),e.n("--"+e.direction)))},[j(e.$slots,"default")],2),H(s,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const u=P({render:Y,name:"VarCheckboxGroup",components:{VarFormDetails:w},props:Q,setup(e){var d=i(()=>e.max),s=i(()=>e.modelValue.length),{length:y,checkboxes:t,bindCheckboxes:A}=D(),{bindForm:G}=z(),{errorMessage:v,validateWithTrigger:M,validate:U,resetValidation:c}=B(),F=i(()=>v.value),N=a=>{I(()=>{var{validateTrigger:r,rules:o,modelValue:n}=e;M(r,a,o,n)})},m=a=>{l(e["onUpdate:modelValue"],a),l(e.onChange,a),N("onChange")},S=a=>{var{modelValue:r}=e;r.includes(a)||m([...r,a])},T=a=>{var{modelValue:r}=e;!r.includes(a)||m(r.filter(o=>o!==a))},h=()=>t.forEach(a=>{var{sync:r}=a;return r(e.modelValue)}),f=()=>{t.forEach(a=>a.resetWithAnimation())},E=()=>{var a=t.map(o=>{var{checkedValue:n}=o;return n.value}),r=b(a);return f(),l(e["onUpdate:modelValue"],r),r},W=()=>{var a=t.filter(o=>{var{checked:n}=o;return!n.value}).map(o=>{var{checkedValue:n}=o;return n.value}),r=b(a);return f(),l(e["onUpdate:modelValue"],r),r},k=()=>{l(e["onUpdate:modelValue"],[]),c()},g=()=>U(e.rules,e.modelValue);p(()=>e.modelValue,h,{deep:!0}),p(()=>y.value,h);var V={max:d,checkedCount:s,onChecked:S,onUnchecked:T,validate:g,resetValidation:c,reset:k,errorMessage:F};return A(V),l(G,V),{errorMessage:v,n:R,classes:X,checkAll:E,inverseAll:W,reset:k,validate:g,resetValidation:c}}});u.install=function(e){e.component(u.name,u)};export{u as C};
